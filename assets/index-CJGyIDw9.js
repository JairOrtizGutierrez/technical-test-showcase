var tw=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var GP=tw((VP,Sc)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ih(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function I_(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var Ep={exports:{}},ac={},Sp={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function rw(){if(Wy)return ht;Wy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),x=Symbol.iterator;function S(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function P(I,U,X){this.props=I,this.context=U,this.refs=R,this.updater=X||b}P.prototype.isReactComponent={},P.prototype.setState=function(I,U){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,U,"setState")},P.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function M(){}M.prototype=P.prototype;function z(I,U,X){this.props=I,this.context=U,this.refs=R,this.updater=X||b}var F=z.prototype=new M;F.constructor=z,T(F,P.prototype),F.isPureReactComponent=!0;var $=Array.isArray,L=Object.prototype.hasOwnProperty,Q={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function Z(I,U,X){var ie,ue={},pe=null,_e=null;if(U!=null)for(ie in U.ref!==void 0&&(_e=U.ref),U.key!==void 0&&(pe=""+U.key),U)L.call(U,ie)&&!D.hasOwnProperty(ie)&&(ue[ie]=U[ie]);var be=arguments.length-2;if(be===1)ue.children=X;else if(1<be){for(var Re=Array(be),ye=0;ye<be;ye++)Re[ye]=arguments[ye+2];ue.children=Re}if(I&&I.defaultProps)for(ie in be=I.defaultProps,be)ue[ie]===void 0&&(ue[ie]=be[ie]);return{$$typeof:n,type:I,key:pe,ref:_e,props:ue,_owner:Q.current}}function ce(I,U){return{$$typeof:n,type:I.type,key:U,ref:I.ref,props:I.props,_owner:I._owner}}function fe(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function Pe(I){var U={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(X){return U[X]})}var K=/\/+/g;function J(I,U){return typeof I=="object"&&I!==null&&I.key!=null?Pe(""+I.key):U.toString(36)}function le(I,U,X,ie,ue){var pe=typeof I;(pe==="undefined"||pe==="boolean")&&(I=null);var _e=!1;if(I===null)_e=!0;else switch(pe){case"string":case"number":_e=!0;break;case"object":switch(I.$$typeof){case n:case e:_e=!0}}if(_e)return _e=I,ue=ue(_e),I=ie===""?"."+J(_e,0):ie,$(ue)?(X="",I!=null&&(X=I.replace(K,"$&/")+"/"),le(ue,U,X,"",function(ye){return ye})):ue!=null&&(fe(ue)&&(ue=ce(ue,X+(!ue.key||_e&&_e.key===ue.key?"":(""+ue.key).replace(K,"$&/")+"/")+I)),U.push(ue)),1;if(_e=0,ie=ie===""?".":ie+":",$(I))for(var be=0;be<I.length;be++){pe=I[be];var Re=ie+J(pe,be);_e+=le(pe,U,X,Re,ue)}else if(Re=S(I),typeof Re=="function")for(I=Re.call(I),be=0;!(pe=I.next()).done;)pe=pe.value,Re=ie+J(pe,be++),_e+=le(pe,U,X,Re,ue);else if(pe==="object")throw U=String(I),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return _e}function Te(I,U,X){if(I==null)return I;var ie=[],ue=0;return le(I,ie,"","",function(pe){return U.call(X,pe,ue++)}),ie}function B(I){if(I._status===-1){var U=I._result;U=U(),U.then(function(X){(I._status===0||I._status===-1)&&(I._status=1,I._result=X)},function(X){(I._status===0||I._status===-1)&&(I._status=2,I._result=X)}),I._status===-1&&(I._status=0,I._result=U)}if(I._status===1)return I._result.default;throw I._result}var G={current:null},C={transition:null},H={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:C,ReactCurrentOwner:Q};function N(){throw Error("act(...) is not supported in production builds of React.")}return ht.Children={map:Te,forEach:function(I,U,X){Te(I,function(){U.apply(this,arguments)},X)},count:function(I){var U=0;return Te(I,function(){U++}),U},toArray:function(I){return Te(I,function(U){return U})||[]},only:function(I){if(!fe(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},ht.Component=P,ht.Fragment=t,ht.Profiler=s,ht.PureComponent=z,ht.StrictMode=r,ht.Suspense=p,ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,ht.act=N,ht.cloneElement=function(I,U,X){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var ie=T({},I.props),ue=I.key,pe=I.ref,_e=I._owner;if(U!=null){if(U.ref!==void 0&&(pe=U.ref,_e=Q.current),U.key!==void 0&&(ue=""+U.key),I.type&&I.type.defaultProps)var be=I.type.defaultProps;for(Re in U)L.call(U,Re)&&!D.hasOwnProperty(Re)&&(ie[Re]=U[Re]===void 0&&be!==void 0?be[Re]:U[Re])}var Re=arguments.length-2;if(Re===1)ie.children=X;else if(1<Re){be=Array(Re);for(var ye=0;ye<Re;ye++)be[ye]=arguments[ye+2];ie.children=be}return{$$typeof:n,type:I.type,key:ue,ref:pe,props:ie,_owner:_e}},ht.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:o,_context:I},I.Consumer=I},ht.createElement=Z,ht.createFactory=function(I){var U=Z.bind(null,I);return U.type=I,U},ht.createRef=function(){return{current:null}},ht.forwardRef=function(I){return{$$typeof:d,render:I}},ht.isValidElement=fe,ht.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:B}},ht.memo=function(I,U){return{$$typeof:g,type:I,compare:U===void 0?null:U}},ht.startTransition=function(I){var U=C.transition;C.transition={};try{I()}finally{C.transition=U}},ht.unstable_act=N,ht.useCallback=function(I,U){return G.current.useCallback(I,U)},ht.useContext=function(I){return G.current.useContext(I)},ht.useDebugValue=function(){},ht.useDeferredValue=function(I){return G.current.useDeferredValue(I)},ht.useEffect=function(I,U){return G.current.useEffect(I,U)},ht.useId=function(){return G.current.useId()},ht.useImperativeHandle=function(I,U,X){return G.current.useImperativeHandle(I,U,X)},ht.useInsertionEffect=function(I,U){return G.current.useInsertionEffect(I,U)},ht.useLayoutEffect=function(I,U){return G.current.useLayoutEffect(I,U)},ht.useMemo=function(I,U){return G.current.useMemo(I,U)},ht.useReducer=function(I,U,X){return G.current.useReducer(I,U,X)},ht.useRef=function(I){return G.current.useRef(I)},ht.useState=function(I){return G.current.useState(I)},ht.useSyncExternalStore=function(I,U,X){return G.current.useSyncExternalStore(I,U,X)},ht.useTransition=function(){return G.current.useTransition()},ht.version="18.3.1",ht}var Vy;function Kg(){return Vy||(Vy=1,Sp.exports=rw()),Sp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function nw(){if(Xy)return ac;Xy=1;var n=Kg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,g){var _,x={},S=null,b=null;g!==void 0&&(S=""+g),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(b=p.ref);for(_ in p)r.call(p,_)&&!o.hasOwnProperty(_)&&(x[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)x[_]===void 0&&(x[_]=p[_]);return{$$typeof:e,type:d,key:S,ref:b,props:x,_owner:s.current}}return ac.Fragment=t,ac.jsx=c,ac.jsxs=c,ac}var Yy;function iw(){return Yy||(Yy=1,Ep.exports=nw()),Ep.exports}var tt=iw(),Ze=Kg();const en=ih(Ze);var Ed={},bp={exports:{}},Fn={},Tp={exports:{}},Ap={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function sw(){return qy||(qy=1,function(n){function e(C,H){var N=C.length;C.push(H);e:for(;0<N;){var I=N-1>>>1,U=C[I];if(0<s(U,H))C[I]=H,C[N]=U,N=I;else break e}}function t(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var H=C[0],N=C.pop();if(N!==H){C[0]=N;e:for(var I=0,U=C.length,X=U>>>1;I<X;){var ie=2*(I+1)-1,ue=C[ie],pe=ie+1,_e=C[pe];if(0>s(ue,N))pe<U&&0>s(_e,ue)?(C[I]=_e,C[pe]=N,I=pe):(C[I]=ue,C[ie]=N,I=ie);else if(pe<U&&0>s(_e,N))C[I]=_e,C[pe]=N,I=pe;else break e}}return H}function s(C,H){var N=C.sortIndex-H.sortIndex;return N!==0?N:C.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,x=null,S=3,b=!1,T=!1,R=!1,P=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(C){for(var H=t(g);H!==null;){if(H.callback===null)r(g);else if(H.startTime<=C)r(g),H.sortIndex=H.expirationTime,e(p,H);else break;H=t(g)}}function $(C){if(R=!1,F(C),!T)if(t(p)!==null)T=!0,B(L);else{var H=t(g);H!==null&&G($,H.startTime-C)}}function L(C,H){T=!1,R&&(R=!1,M(Z),Z=-1),b=!0;var N=S;try{for(F(H),x=t(p);x!==null&&(!(x.expirationTime>H)||C&&!Pe());){var I=x.callback;if(typeof I=="function"){x.callback=null,S=x.priorityLevel;var U=I(x.expirationTime<=H);H=n.unstable_now(),typeof U=="function"?x.callback=U:x===t(p)&&r(p),F(H)}else r(p);x=t(p)}if(x!==null)var X=!0;else{var ie=t(g);ie!==null&&G($,ie.startTime-H),X=!1}return X}finally{x=null,S=N,b=!1}}var Q=!1,D=null,Z=-1,ce=5,fe=-1;function Pe(){return!(n.unstable_now()-fe<ce)}function K(){if(D!==null){var C=n.unstable_now();fe=C;var H=!0;try{H=D(!0,C)}finally{H?J():(Q=!1,D=null)}}else Q=!1}var J;if(typeof z=="function")J=function(){z(K)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Te=le.port2;le.port1.onmessage=K,J=function(){Te.postMessage(null)}}else J=function(){P(K,0)};function B(C){D=C,Q||(Q=!0,J())}function G(C,H){Z=P(function(){C(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(C){C.callback=null},n.unstable_continueExecution=function(){T||b||(T=!0,B(L))},n.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<C?Math.floor(1e3/C):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(C){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var N=S;S=H;try{return C()}finally{S=N}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(C,H){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var N=S;S=C;try{return H()}finally{S=N}},n.unstable_scheduleCallback=function(C,H,N){var I=n.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?I+N:I):N=I,C){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=N+U,C={id:_++,callback:H,priorityLevel:C,startTime:N,expirationTime:U,sortIndex:-1},N>I?(C.sortIndex=N,e(g,C),t(p)===null&&C===t(g)&&(R?(M(Z),Z=-1):R=!0,G($,N-I))):(C.sortIndex=U,e(p,C),T||b||(T=!0,B(L))),C},n.unstable_shouldYield=Pe,n.unstable_wrapCallback=function(C){var H=S;return function(){var N=S;S=H;try{return C.apply(this,arguments)}finally{S=N}}}}(Ap)),Ap}var Qy;function aw(){return Qy||(Qy=1,Tp.exports=sw()),Tp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function ow(){if(Ky)return Fn;Ky=1;var n=Kg(),e=aw();function t(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){c(i,a),c(i+"Capture",a)}function c(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},x={};function S(i){return p.call(x,i)?!0:p.call(_,i)?!1:g.test(i)?x[i]=!0:(_[i]=!0,!1)}function b(i,a,h,f){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:h!==null?!h.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function T(i,a,h,f){if(a===null||typeof a>"u"||b(i,a,h,f))return!0;if(f)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(i,a,h,f,y,E,k){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=h,this.propertyName=i,this.type=a,this.sanitizeURL=E,this.removeEmptyString=k}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new R(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];P[a]=new R(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new R(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new R(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new R(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new R(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new R(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new R(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new R(i,5,!1,i.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(M,z);P[a]=new R(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(M,z);P[a]=new R(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(M,z);P[a]=new R(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new R(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new R(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,a,h,f){var y=P.hasOwnProperty(a)?P[a]:null;(y!==null?y.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,h,y,f)&&(h=null),f||y===null?S(a)&&(h===null?i.removeAttribute(a):i.setAttribute(a,""+h)):y.mustUseProperty?i[y.propertyName]=h===null?y.type===3?!1:"":h:(a=y.attributeName,f=y.attributeNamespace,h===null?i.removeAttribute(a):(y=y.type,h=y===3||y===4&&h===!0?"":""+h,f?i.setAttributeNS(f,a,h):i.setAttribute(a,h))))}var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),Q=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),C=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var N=Object.assign,I;function U(i){if(I===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);I=a&&a[1]||""}return`
`+I+i}var X=!1;function ie(i,a){if(!i||X)return"";X=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ae){var f=ae}Reflect.construct(i,[],a)}else{try{a.call()}catch(ae){f=ae}i.call(a.prototype)}else{try{throw Error()}catch(ae){f=ae}i()}}catch(ae){if(ae&&f&&typeof ae.stack=="string"){for(var y=ae.stack.split(`
`),E=f.stack.split(`
`),k=y.length-1,j=E.length-1;1<=k&&0<=j&&y[k]!==E[j];)j--;for(;1<=k&&0<=j;k--,j--)if(y[k]!==E[j]){if(k!==1||j!==1)do if(k--,j--,0>j||y[k]!==E[j]){var W=`
`+y[k].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=k&&0<=j);break}}}finally{X=!1,Error.prepareStackTrace=h}return(i=i?i.displayName||i.name:"")?U(i):""}function ue(i){switch(i.tag){case 5:return U(i.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return i=ie(i.type,!1),i;case 11:return i=ie(i.type.render,!1),i;case 1:return i=ie(i.type,!0),i;default:return""}}function pe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case Q:return"Portal";case ce:return"Profiler";case Z:return"StrictMode";case J:return"Suspense";case le:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Pe:return(i.displayName||"Context")+".Consumer";case fe:return(i._context.displayName||"Context")+".Provider";case K:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Te:return a=i.displayName||null,a!==null?a:pe(i.type)||"Memo";case B:a=i._payload,i=i._init;try{return pe(i(a))}catch{}}return null}function _e(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(a);case 8:return a===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function be(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Re(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ye(i){var a=Re(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),f=""+i[a];if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,E=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(k){f=""+k,E.call(this,k)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ke(i){i._valueTracker||(i._valueTracker=ye(i))}function Ue(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var h=a.getValue(),f="";return i&&(f=Re(i)?i.checked?"true":"false":i.value),i=f,i!==h?(a.setValue(i),!0):!1}function $e(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ut(i,a){var h=a.checked;return N({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??i._wrapperState.initialChecked})}function He(i,a){var h=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;h=be(a.value!=null?a.value:h),i._wrapperState={initialChecked:f,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function We(i,a){a=a.checked,a!=null&&F(i,"checked",a,!1)}function Dt(i,a){We(i,a);var h=be(a.value),f=a.type;if(h!=null)f==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+h):i.value!==""+h&&(i.value=""+h);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?ei(i,a.type,h):a.hasOwnProperty("defaultValue")&&ei(i,a.type,be(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function jt(i,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,h||a===i.value||(i.value=a),i.defaultValue=a}h=i.name,h!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,h!==""&&(i.name=h)}function ei(i,a,h){(a!=="number"||$e(i.ownerDocument)!==i)&&(h==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+h&&(i.defaultValue=""+h))}var fr=Array.isArray;function pr(i,a,h,f){if(i=i.options,a){a={};for(var y=0;y<h.length;y++)a["$"+h[y]]=!0;for(h=0;h<i.length;h++)y=a.hasOwnProperty("$"+i[h].value),i[h].selected!==y&&(i[h].selected=y),y&&f&&(i[h].defaultSelected=!0)}else{for(h=""+be(h),a=null,y=0;y<i.length;y++){if(i[y].value===h){i[y].selected=!0,f&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function ti(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return N({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function gi(i,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(t(92));if(fr(h)){if(1<h.length)throw Error(t(93));h=h[0]}a=h}a==null&&(a=""),h=a}i._wrapperState={initialValue:be(h)}}function tn(i,a){var h=be(a.value),f=be(a.defaultValue);h!=null&&(h=""+h,h!==i.value&&(i.value=h),a.defaultValue==null&&i.defaultValue!==h&&(i.defaultValue=h)),f!=null&&(i.defaultValue=""+f)}function Hl(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function jl(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ga(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?jl(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ya,Qi=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,f,y){MSApp.execUnsafeLocalFunction(function(){return i(a,h,f,y)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(ya=ya||document.createElement("div"),ya.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ya.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function yi(i,a){if(a){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=a;return}}i.textContent=a}var Ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oh=["Webkit","ms","Moz","O"];Object.keys(Ki).forEach(function(i){oh.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Ki[a]=Ki[i]})});function $l(i,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||Ki.hasOwnProperty(i)&&Ki[i]?(""+a).trim():a+"px"}function va(i,a){i=i.style;for(var h in a)if(a.hasOwnProperty(h)){var f=h.indexOf("--")===0,y=$l(h,a[h],f);h==="float"&&(h="cssFloat"),f?i.setProperty(h,y):i[h]=y}}var _a=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function re(i,a){if(a){if(_a[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function se(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ct=null;function wt(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var bt=null,nt=null,Fr=null;function ri(i){if(i=Va(i)){if(typeof bt!="function")throw Error(t(280));var a=i.stateNode;a&&(a=Xa(a),bt(i.stateNode,i.type,a))}}function vr(i){nt?Fr?Fr.push(i):Fr=[i]:nt=i}function mn(){if(nt){var i=nt,a=Fr;if(Fr=nt=null,ri(i),a)for(i=0;i<a.length;i++)ri(a[i])}}function xa(i,a){return i(a)}function Un(){}var Tr=!1;function wa(i,a,h){if(Tr)return i(a,h);Tr=!0;try{return xa(i,a,h)}finally{Tr=!1,(nt!==null||Fr!==null)&&(Un(),mn())}}function Zi(i,a){var h=i.stateNode;if(h===null)return null;var f=Xa(h);if(f===null)return null;h=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(t(231,a,typeof h));return h}var Ea=!1;if(d)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{Ea=!1}function Sa(i,a,h,f,y,E,k,j,W){var ae=Array.prototype.slice.call(arguments,3);try{a.apply(h,ae)}catch(xe){this.onError(xe)}}var gn=!1,Ji=null,es=!1,vi=null,Wl={onError:function(i){gn=!0,Ji=i}};function To(i,a,h,f,y,E,k,j,W){gn=!1,Ji=null,Sa.apply(Wl,arguments)}function Vl(i,a,h,f,y,E,k,j,W){if(To.apply(this,arguments),gn){if(gn){var ae=Ji;gn=!1,Ji=null}else throw Error(t(198));es||(es=!0,vi=ae)}}function Gn(i){var a=i,h=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,a.flags&4098&&(h=a.return),i=a.return;while(i)}return a.tag===3?h:null}function Ao(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Xl(i){if(Gn(i)!==i)throw Error(t(188))}function Co(i){var a=i.alternate;if(!a){if(a=Gn(i),a===null)throw Error(t(188));return a!==i?null:i}for(var h=i,f=a;;){var y=h.return;if(y===null)break;var E=y.alternate;if(E===null){if(f=y.return,f!==null){h=f;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===h)return Xl(y),i;if(E===f)return Xl(y),a;E=E.sibling}throw Error(t(188))}if(h.return!==f.return)h=y,f=E;else{for(var k=!1,j=y.child;j;){if(j===h){k=!0,h=y,f=E;break}if(j===f){k=!0,f=y,h=E;break}j=j.sibling}if(!k){for(j=E.child;j;){if(j===h){k=!0,h=E,f=y;break}if(j===f){k=!0,f=E,h=y;break}j=j.sibling}if(!k)throw Error(t(189))}}if(h.alternate!==f)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?i:a}function _i(i){return i=Co(i),i!==null?Ns(i):null}function Ns(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Ns(i);if(a!==null)return a;i=i.sibling}return null}var Yl=e.unstable_scheduleCallback,Po=e.unstable_cancelCallback,Lf=e.unstable_shouldYield,Uf=e.unstable_requestPaint,Yt=e.unstable_now,Ro=e.unstable_getCurrentPriorityLevel,Io=e.unstable_ImmediatePriority,ql=e.unstable_UserBlockingPriority,Ql=e.unstable_NormalPriority,lh=e.unstable_LowPriority,Ds=e.unstable_IdlePriority,Hn=null,mt=null;function Pt(i){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:Os,Ar=Math.log,jr=Math.LN2;function Os(i){return i>>>=0,i===0?32:31-(Ar(i)/jr|0)|0}var xi=64,Cr=4194304;function Fs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ko(i,a){var h=i.pendingLanes;if(h===0)return 0;var f=0,y=i.suspendedLanes,E=i.pingedLanes,k=h&268435455;if(k!==0){var j=k&~y;j!==0?f=Fs(j):(E&=k,E!==0&&(f=Fs(E)))}else k=h&~y,k!==0?f=Fs(k):E!==0&&(f=Fs(E));if(f===0)return 0;if(a!==0&&a!==f&&!(a&y)&&(y=f&-f,E=a&-a,y>=E||y===16&&(E&4194240)!==0))return a;if(f&4&&(f|=h&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=f;0<a;)h=31-mr(a),y=1<<h,f|=i[h],a&=~y;return f}function Fc(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(i,a){for(var h=i.suspendedLanes,f=i.pingedLanes,y=i.expirationTimes,E=i.pendingLanes;0<E;){var k=31-mr(E),j=1<<k,W=y[k];W===-1?(!(j&h)||j&f)&&(y[k]=Fc(j,a)):W<=a&&(i.expiredLanes|=j),E&=~j}}function Zl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yn(){var i=xi;return xi<<=1,!(xi&4194240)&&(xi=64),i}function uh(i){for(var a=[],h=0;31>h;h++)a.push(i);return a}function Mo(i,a,h){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-mr(a),i[a]=h}function hh(i,a){var h=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<h;){var y=31-mr(h),E=1<<y;a[y]=0,f[y]=-1,i[y]=-1,h&=~E}}function No(i,a){var h=i.entangledLanes|=a;for(i=i.entanglements;h;){var f=31-mr(h),y=1<<f;y&a|i[f]&a&&(i[f]|=a),h&=~y}}var gt=0;function Do(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Bc,Oo,ch,Jl,ba,Fo=!1,dt=[],wi=null,ni=null,Ei=null,Bo=new Map,Lo=new Map,Ot=[],dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(i,a){switch(i){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Bo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(a.pointerId)}}function Ta(i,a,h,f,y,E){return i===null||i.nativeEvent!==E?(i={blockedOn:a,domEventName:h,eventSystemFlags:f,nativeEvent:E,targetContainers:[y]},a!==null&&(a=Va(a),a!==null&&Oo(a)),i):(i.eventSystemFlags|=f,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function zf(i,a,h,f,y){switch(a){case"focusin":return wi=Ta(wi,i,a,h,f,y),!0;case"dragenter":return ni=Ta(ni,i,a,h,f,y),!0;case"mouseover":return Ei=Ta(Ei,i,a,h,f,y),!0;case"pointerover":var E=y.pointerId;return Bo.set(E,Ta(Bo.get(E)||null,i,a,h,f,y)),!0;case"gotpointercapture":return E=y.pointerId,Lo.set(E,Ta(Lo.get(E)||null,i,a,h,f,y)),!0}return!1}function Uo(i){var a=hs(i.target);if(a!==null){var h=Gn(a);if(h!==null){if(a=h.tag,a===13){if(a=Ao(h),a!==null){i.blockedOn=a,ba(i.priority,function(){ch(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rn(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var h=$r(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(h===null){h=i.nativeEvent;var f=new h.constructor(h.type,h);ct=f,h.target.dispatchEvent(f),ct=null}else return a=Va(h),a!==null&&Oo(a),i.blockedOn=h,!1;a.shift()}return!0}function vn(i,a,h){rn(i)&&h.delete(a)}function Si(){Fo=!1,wi!==null&&rn(wi)&&(wi=null),ni!==null&&rn(ni)&&(ni=null),Ei!==null&&rn(Ei)&&(Ei=null),Bo.forEach(vn),Lo.forEach(vn)}function ts(i,a){i.blockedOn===a&&(i.blockedOn=null,Fo||(Fo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Si)))}function Bs(i){function a(y){return ts(y,i)}if(0<dt.length){ts(dt[0],i);for(var h=1;h<dt.length;h++){var f=dt[h];f.blockedOn===i&&(f.blockedOn=null)}}for(wi!==null&&ts(wi,i),ni!==null&&ts(ni,i),Ei!==null&&ts(Ei,i),Bo.forEach(a),Lo.forEach(a),h=0;h<Ot.length;h++)f=Ot[h],f.blockedOn===i&&(f.blockedOn=null);for(;0<Ot.length&&(h=Ot[0],h.blockedOn===null);)Uo(h),h.blockedOn===null&&Ot.shift()}var Ls=$.ReactCurrentBatchConfig,nn=!0;function Aa(i,a,h,f){var y=gt,E=Ls.transition;Ls.transition=null;try{gt=1,Pa(i,a,h,f)}finally{gt=y,Ls.transition=E}}function Ca(i,a,h,f){var y=gt,E=Ls.transition;Ls.transition=null;try{gt=4,Pa(i,a,h,f)}finally{gt=y,Ls.transition=E}}function Pa(i,a,h,f){if(nn){var y=$r(i,a,h,f);if(y===null)_u(i,a,f,Us,h),Lc(i,f);else if(zf(y,i,a,h,f))f.stopPropagation();else if(Lc(i,f),a&4&&-1<dh.indexOf(i)){for(;y!==null;){var E=Va(y);if(E!==null&&Bc(E),E=$r(i,a,h,f),E===null&&_u(i,a,f,Us,h),E===y)break;y=E}y!==null&&f.stopPropagation()}else _u(i,a,f,null,h)}}var Us=null;function $r(i,a,h,f){if(Us=null,i=wt(f),i=hs(i),i!==null)if(a=Gn(i),a===null)i=null;else if(h=a.tag,h===13){if(i=Ao(a),i!==null)return i;i=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Us=i,null}function sn(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ro()){case Io:return 1;case ql:return 4;case Ql:case lh:return 16;case Ds:return 536870912;default:return 16}default:return 16}}var Wr=null,_n=null,xn=null;function rs(){if(xn)return xn;var i,a=_n,h=a.length,f,y="value"in Wr?Wr.value:Wr.textContent,E=y.length;for(i=0;i<h&&a[i]===y[i];i++);var k=h-i;for(f=1;f<=k&&a[h-f]===y[E-f];f++);return xn=y.slice(i,1<f?1-f:void 0)}function zo(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Ra(){return!0}function eu(){return!1}function Ft(i){function a(h,f,y,E,k){this._reactName=h,this._targetInst=y,this.type=f,this.nativeEvent=E,this.target=k,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(h=i[j],this[j]=h?h(E):E[j]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Ra:eu,this.isPropagationStopped=eu,this}return N(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),a}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rt=Ft(_r),bi=N({},_r,{view:0,detail:0}),jn=Ft(bi),tu,ru,zs,Ia=N({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==zs&&(zs&&i.type==="mousemove"?(tu=i.screenX-zs.screenX,ru=i.screenY-zs.screenY):ru=tu=0,zs=i),tu)},movementY:function(i){return"movementY"in i?i.movementY:ru}}),fh=Ft(Ia),nu=N({},Ia,{dataTransfer:0}),Uc=Ft(nu),ka=N({},bi,{relatedTarget:0}),Go=Ft(ka),Gf=N({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),iu=Ft(Gf),Hf=N({},_r,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$n=Ft(Hf),su=N({},_r,{data:0}),Ho=Ft(su),Ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ph={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zc(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=mh[i])?!!a[i]:!1}function jo(){return zc}var gh=N({},bi,{key:function(i){if(i.key){var a=Ma[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=zo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ph[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jo,charCode:function(i){return i.type==="keypress"?zo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?zo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Na=Ft(gh),wn=N({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=Ft(wn),yh=N({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jo}),Gc=Ft(yh),ii=N({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),is=Ft(ii),vh=N({},Ia,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Hc=Ft(vh),Ti=[9,13,27,32],si=d&&"CompositionEvent"in window,ss=null;d&&"documentMode"in document&&(ss=document.documentMode);var jc=d&&"TextEvent"in window&&!ss,$o=d&&(!si||ss&&8<ss&&11>=ss),_h=" ",xh=!1;function au(i,a){switch(i){case"keyup":return Ti.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Gs=!1;function $c(i,a){switch(i){case"compositionend":return Wo(a);case"keypress":return a.which!==32?null:(xh=!0,_h);case"textInput":return i=a.data,i===_h&&xh?null:i;default:return null}}function Wc(i,a){if(Gs)return i==="compositionend"||!si&&au(i,a)?(i=rs(),xn=_n=Wr=null,Gs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return $o&&a.locale!=="ko"?null:a.data;default:return null}}var wh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Da(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!wh[i.type]:a==="textarea"}function Vo(i,a,h,f){vr(f),a=Jo(a,"onChange"),0<a.length&&(h=new Rt("onChange","change",null,h,f),i.push({event:h,listeners:a}))}var Oa=null,Fa=null;function Ba(i){gu(i,0)}function Xo(i){var a=Ws(i);if(Ue(a))return i}function Yo(i,a){if(i==="change")return a}var an=!1;if(d){var Hs;if(d){var as="oninput"in document;if(!as){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),as=typeof Wn.oninput=="function"}Hs=as}else Hs=!1;an=Hs&&(!document.documentMode||9<document.documentMode)}function ou(){Oa&&(Oa.detachEvent("onpropertychange",js),Fa=Oa=null)}function js(i){if(i.propertyName==="value"&&Xo(Fa)){var a=[];Vo(a,Fa,i,wt(i)),wa(Ba,a)}}function Vc(i,a,h){i==="focusin"?(ou(),Oa=a,Fa=h,Oa.attachEvent("onpropertychange",js)):i==="focusout"&&ou()}function Eh(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xo(Fa)}function $t(i,a){if(i==="click")return Xo(a)}function lu(i,a){if(i==="input"||i==="change")return Xo(a)}function Sh(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var on=typeof Object.is=="function"?Object.is:Sh;function os(i,a){if(on(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var h=Object.keys(i),f=Object.keys(a);if(h.length!==f.length)return!1;for(f=0;f<h.length;f++){var y=h[f];if(!p.call(a,y)||!on(i[y],a[y]))return!1}return!0}function uu(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ls(i,a){var h=uu(i);i=0;for(var f;h;){if(h.nodeType===3){if(f=i+h.textContent.length,i<=a&&f>=a)return{node:h,offset:a-i};i=f}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=uu(h)}}function zt(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?zt(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function ar(){for(var i=window,a=$e();a instanceof i.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)i=a.contentWindow;else break;a=$e(i.document)}return a}function Zt(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function hu(i){var a=ar(),h=i.focusedElem,f=i.selectionRange;if(a!==h&&h&&h.ownerDocument&&zt(h.ownerDocument.documentElement,h)){if(f!==null&&Zt(h)){if(a=f.start,i=f.end,i===void 0&&(i=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(i,h.value.length);else if(i=(a=h.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var y=h.textContent.length,E=Math.min(f.start,y);f=f.end===void 0?E:Math.min(f.end,y),!i.extend&&E>f&&(y=f,f=E,E=y),y=ls(h,E);var k=ls(h,f);y&&k&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==k.node||i.focusOffset!==k.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),i.removeAllRanges(),E>f?(i.addRange(a),i.extend(k.node,k.offset)):(a.setEnd(k.node,k.offset),i.addRange(a)))}}for(a=[],i=h;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)i=a[h],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var qo=d&&"documentMode"in document&&11>=document.documentMode,ai=null,bh=null,Jt=null,Qo=!1;function cu(i,a,h){var f=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Qo||ai==null||ai!==$e(f)||(f=ai,"selectionStart"in f&&Zt(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Jt&&os(Jt,f)||(Jt=f,f=Jo(bh,"onSelect"),0<f.length&&(a=new Rt("onSelect","select",null,a,h),i.push({event:a,listeners:f}),a.target=ai)))}function La(i,a){var h={};return h[i.toLowerCase()]=a.toLowerCase(),h["Webkit"+i]="webkit"+a,h["Moz"+i]="moz"+a,h}var Br={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionend:La("Transition","TransitionEnd")},Vr={},Ua={};d&&(Ua=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function za(i){if(Vr[i])return Vr[i];if(!Br[i])return i;var a=Br[i],h;for(h in a)if(a.hasOwnProperty(h)&&h in Ua)return Vr[i]=a[h];return i}var du=za("animationend"),Th=za("animationiteration"),Ah=za("animationstart"),Ch=za("transitionend"),Ph=new Map,Rh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(i,a){Ph.set(i,a),o(a,[i])}for(var fu=0;fu<Rh.length;fu++){var pu=Rh[fu],Ko=pu.toLowerCase(),Xc=pu[0].toUpperCase()+pu.slice(1);Ai(Ko,"on"+Xc)}Ai(du,"onAnimationEnd"),Ai(Th,"onAnimationIteration"),Ai(Ah,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(Ch,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mu=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function Ih(i,a,h){var f=i.type||"unknown-event";i.currentTarget=h,Vl(f,a,void 0,i),i.currentTarget=null}function gu(i,a){a=(a&4)!==0;for(var h=0;h<i.length;h++){var f=i[h],y=f.event;f=f.listeners;e:{var E=void 0;if(a)for(var k=f.length-1;0<=k;k--){var j=f[k],W=j.instance,ae=j.currentTarget;if(j=j.listener,W!==E&&y.isPropagationStopped())break e;Ih(y,j,ae),E=W}else for(k=0;k<f.length;k++){if(j=f[k],W=j.instance,ae=j.currentTarget,j=j.listener,W!==E&&y.isPropagationStopped())break e;Ih(y,j,ae),E=W}}}if(es)throw i=vi,es=!1,vi=null,i}function It(i,a){var h=a[Pr];h===void 0&&(h=a[Pr]=new Set);var f=i+"__bubble";h.has(f)||(vu(a,i,2,!1),h.add(f))}function yu(i,a,h){var f=0;a&&(f|=4),vu(h,i,f,a)}var Zo="_reactListening"+Math.random().toString(36).slice(2);function Ga(i){if(!i[Zo]){i[Zo]=!0,r.forEach(function(h){h!=="selectionchange"&&(mu.has(h)||yu(h,!1,i),yu(h,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Zo]||(a[Zo]=!0,yu("selectionchange",!1,a))}}function vu(i,a,h,f){switch(sn(a)){case 1:var y=Aa;break;case 4:y=Ca;break;default:y=Pa}h=y.bind(null,a,h,i),y=void 0,!Ea||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?i.addEventListener(a,h,{capture:!0,passive:y}):i.addEventListener(a,h,!0):y!==void 0?i.addEventListener(a,h,{passive:y}):i.addEventListener(a,h,!1)}function _u(i,a,h,f,y){var E=f;if(!(a&1)&&!(a&2)&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var j=f.stateNode.containerInfo;if(j===y||j.nodeType===8&&j.parentNode===y)break;if(k===4)for(k=f.return;k!==null;){var W=k.tag;if((W===3||W===4)&&(W=k.stateNode.containerInfo,W===y||W.nodeType===8&&W.parentNode===y))return;k=k.return}for(;j!==null;){if(k=hs(j),k===null)return;if(W=k.tag,W===5||W===6){f=E=k;continue e}j=j.parentNode}}f=f.return}wa(function(){var ae=E,xe=wt(h),Ee=[];e:{var ve=Ph.get(i);if(ve!==void 0){var Oe=Rt,Ge=i;switch(i){case"keypress":if(zo(h)===0)break e;case"keydown":case"keyup":Oe=Na;break;case"focusin":Ge="focus",Oe=Go;break;case"focusout":Ge="blur",Oe=Go;break;case"beforeblur":case"afterblur":Oe=Go;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=Uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=Gc;break;case du:case Th:case Ah:Oe=iu;break;case Ch:Oe=is;break;case"scroll":Oe=jn;break;case"wheel":Oe=Hc;break;case"copy":case"cut":case"paste":Oe=$n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=ns}var Ve=(a&4)!==0,hr=!Ve&&i==="scroll",ee=Ve?ve!==null?ve+"Capture":null:ve;Ve=[];for(var Y=ae,ne;Y!==null;){ne=Y;var Ce=ne.stateNode;if(ne.tag===5&&Ce!==null&&(ne=Ce,ee!==null&&(Ce=Zi(Y,ee),Ce!=null&&Ve.push(Ha(Y,Ce,ne)))),hr)break;Y=Y.return}0<Ve.length&&(ve=new Oe(ve,Ge,null,h,xe),Ee.push({event:ve,listeners:Ve}))}}if(!(a&7)){e:{if(ve=i==="mouseover"||i==="pointerover",Oe=i==="mouseout"||i==="pointerout",ve&&h!==ct&&(Ge=h.relatedTarget||h.fromElement)&&(hs(Ge)||Ge[Wt]))break e;if((Oe||ve)&&(ve=xe.window===xe?xe:(ve=xe.ownerDocument)?ve.defaultView||ve.parentWindow:window,Oe?(Ge=h.relatedTarget||h.toElement,Oe=ae,Ge=Ge?hs(Ge):null,Ge!==null&&(hr=Gn(Ge),Ge!==hr||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(Oe=null,Ge=ae),Oe!==Ge)){if(Ve=fh,Ce="onMouseLeave",ee="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=ns,Ce="onPointerLeave",ee="onPointerEnter",Y="pointer"),hr=Oe==null?ve:Ws(Oe),ne=Ge==null?ve:Ws(Ge),ve=new Ve(Ce,Y+"leave",Oe,h,xe),ve.target=hr,ve.relatedTarget=ne,Ce=null,hs(xe)===ae&&(Ve=new Ve(ee,Y+"enter",Ge,h,xe),Ve.target=ne,Ve.relatedTarget=hr,Ce=Ve),hr=Ce,Oe&&Ge)t:{for(Ve=Oe,ee=Ge,Y=0,ne=Ve;ne;ne=ja(ne))Y++;for(ne=0,Ce=ee;Ce;Ce=ja(Ce))ne++;for(;0<Y-ne;)Ve=ja(Ve),Y--;for(;0<ne-Y;)ee=ja(ee),ne--;for(;Y--;){if(Ve===ee||ee!==null&&Ve===ee.alternate)break t;Ve=ja(Ve),ee=ja(ee)}Ve=null}else Ve=null;Oe!==null&&kh(Ee,ve,Oe,Ve,!1),Ge!==null&&hr!==null&&kh(Ee,hr,Ge,Ve,!0)}}e:{if(ve=ae?Ws(ae):window,Oe=ve.nodeName&&ve.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&ve.type==="file")var Ye=Yo;else if(Da(ve))if(an)Ye=lu;else{Ye=Eh;var Je=Vc}else(Oe=ve.nodeName)&&Oe.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(Ye=$t);if(Ye&&(Ye=Ye(i,ae))){Vo(Ee,Ye,h,xe);break e}Je&&Je(i,ve,ae),i==="focusout"&&(Je=ve._wrapperState)&&Je.controlled&&ve.type==="number"&&ei(ve,"number",ve.value)}switch(Je=ae?Ws(ae):window,i){case"focusin":(Da(Je)||Je.contentEditable==="true")&&(ai=Je,bh=ae,Jt=null);break;case"focusout":Jt=bh=ai=null;break;case"mousedown":Qo=!0;break;case"contextmenu":case"mouseup":case"dragend":Qo=!1,cu(Ee,h,xe);break;case"selectionchange":if(qo)break;case"keydown":case"keyup":cu(Ee,h,xe)}var et;if(si)e:{switch(i){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Gs?au(i,h)&&(it="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(it="onCompositionStart");it&&($o&&h.locale!=="ko"&&(Gs||it!=="onCompositionStart"?it==="onCompositionEnd"&&Gs&&(et=rs()):(Wr=xe,_n="value"in Wr?Wr.value:Wr.textContent,Gs=!0)),Je=Jo(ae,it),0<Je.length&&(it=new Ho(it,i,null,h,xe),Ee.push({event:it,listeners:Je}),et?it.data=et:(et=Wo(h),et!==null&&(it.data=et)))),(et=jc?$c(i,h):Wc(i,h))&&(ae=Jo(ae,"onBeforeInput"),0<ae.length&&(xe=new Ho("onBeforeInput","beforeinput",null,h,xe),Ee.push({event:xe,listeners:ae}),xe.data=et))}gu(Ee,a)})}function Ha(i,a,h){return{instance:i,listener:a,currentTarget:h}}function Jo(i,a){for(var h=a+"Capture",f=[];i!==null;){var y=i,E=y.stateNode;y.tag===5&&E!==null&&(y=E,E=Zi(i,h),E!=null&&f.unshift(Ha(i,E,y)),E=Zi(i,a),E!=null&&f.push(Ha(i,E,y))),i=i.return}return f}function ja(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function kh(i,a,h,f,y){for(var E=a._reactName,k=[];h!==null&&h!==f;){var j=h,W=j.alternate,ae=j.stateNode;if(W!==null&&W===f)break;j.tag===5&&ae!==null&&(j=ae,y?(W=Zi(h,E),W!=null&&k.unshift(Ha(h,W,j))):y||(W=Zi(h,E),W!=null&&k.push(Ha(h,W,j)))),h=h.return}k.length!==0&&i.push({event:a,listeners:k})}var jf=/\r\n?/g,$f=/\u0000|\uFFFD/g;function Mh(i){return(typeof i=="string"?i:""+i).replace(jf,`
`).replace($f,"")}function el(i,a,h){if(a=Mh(a),Mh(i)!==a&&h)throw Error(t(425))}function tl(){}var $a=null,Nh=null;function Dh(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Oh=typeof setTimeout=="function"?setTimeout:void 0,Wa=typeof clearTimeout=="function"?clearTimeout:void 0,xu=typeof Promise=="function"?Promise:void 0,Fh=typeof queueMicrotask=="function"?queueMicrotask:typeof xu<"u"?function(i){return xu.resolve(null).then(i).catch(Wf)}:Oh;function Wf(i){setTimeout(function(){throw i})}function wu(i,a){var h=a,f=0;do{var y=h.nextSibling;if(i.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(f===0){i.removeChild(y),Bs(a);return}f--}else h!=="$"&&h!=="$?"&&h!=="$!"||f++;h=y}while(h);Bs(a)}function Ci(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Bh(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return i;a--}else h==="/$"&&a++}i=i.previousSibling}return null}var $s=Math.random().toString(36).slice(2),Vn="__reactFiber$"+$s,rl="__reactProps$"+$s,Wt="__reactContainer$"+$s,Pr="__reactEvents$"+$s,Yc="__reactListeners$"+$s,qc="__reactHandles$"+$s;function hs(i){var a=i[Vn];if(a)return a;for(var h=i.parentNode;h;){if(a=h[Wt]||h[Vn]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(i=Bh(i);i!==null;){if(h=i[Vn])return h;i=Bh(i)}return a}i=h,h=i.parentNode}return null}function Va(i){return i=i[Vn]||i[Wt],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ws(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Xa(i){return i[rl]||null}var Eu=[],cs=-1;function Pi(i){return{current:i}}function kt(i){0>cs||(i.current=Eu[cs],Eu[cs]=null,cs--)}function Et(i,a){cs++,Eu[cs]=i.current,i.current=a}var En={},or=Pi(En),xr=Pi(!1),Ri=En;function ds(i,a){var h=i.type.contextTypes;if(!h)return En;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var y={},E;for(E in h)y[E]=a[E];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=y),y}function Lr(i){return i=i.childContextTypes,i!=null}function Ya(){kt(xr),kt(or)}function nl(i,a,h){if(or.current!==En)throw Error(t(168));Et(or,a),Et(xr,h)}function Lh(i,a,h){var f=i.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return h;f=f.getChildContext();for(var y in f)if(!(y in a))throw Error(t(108,_e(i)||"Unknown",y));return N({},h,f)}function qa(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||En,Ri=or.current,Et(or,i),Et(xr,xr.current),!0}function Uh(i,a,h){var f=i.stateNode;if(!f)throw Error(t(169));h?(i=Lh(i,a,Ri),f.__reactInternalMemoizedMergedChildContext=i,kt(xr),kt(or),Et(or,i)):kt(xr),Et(xr,h)}var Sn=null,bn=!1,Tn=!1;function zh(i){Sn===null?Sn=[i]:Sn.push(i)}function Qc(i){bn=!0,zh(i)}function An(){if(!Tn&&Sn!==null){Tn=!0;var i=0,a=gt;try{var h=Sn;for(gt=1;i<h.length;i++){var f=h[i];do f=f(!0);while(f!==null)}Sn=null,bn=!1}catch(y){throw Sn!==null&&(Sn=Sn.slice(i+1)),Yl(Io,An),y}finally{gt=a,Tn=!1}}return null}var er=[],Qa=0,Su=null,Vs=0,At=[],Cn=0,De=null,Xr=1,oi="";function fs(i,a){er[Qa++]=Vs,er[Qa++]=Su,Su=i,Vs=a}function Ka(i,a,h){At[Cn++]=Xr,At[Cn++]=oi,At[Cn++]=De,De=i;var f=Xr;i=oi;var y=32-mr(f)-1;f&=~(1<<y),h+=1;var E=32-mr(a)+y;if(30<E){var k=y-y%5;E=(f&(1<<k)-1).toString(32),f>>=k,y-=k,Xr=1<<32-mr(a)+y|h<<y|f,oi=E+i}else Xr=1<<E|h<<y|f,oi=i}function Za(i){i.return!==null&&(fs(i,1),Ka(i,1,0))}function il(i){for(;i===Su;)Su=er[--Qa],er[Qa]=null,Vs=er[--Qa],er[Qa]=null;for(;i===De;)De=At[--Cn],At[Cn]=null,oi=At[--Cn],At[Cn]=null,Xr=At[--Cn],At[Cn]=null}var Yr=null,qr=null,Bt=!1,ln=null;function bu(i,a){var h=di(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=i,a=i.deletions,a===null?(i.deletions=[h],i.flags|=16):a.push(h)}function Rr(i,a){switch(i.tag){case 5:var h=i.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Yr=i,qr=Ci(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Yr=i,qr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=De!==null?{id:Xr,overflow:oi}:null,i.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=di(18,null,null,0),h.stateNode=a,h.return=i,i.child=h,Yr=i,qr=null,!0):!1;default:return!1}}function Pn(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Rn(i){if(Bt){var a=qr;if(a){var h=a;if(!Rr(i,a)){if(Pn(i))throw Error(t(418));a=Ci(h.nextSibling);var f=Yr;a&&Rr(i,a)?bu(f,h):(i.flags=i.flags&-4097|2,Bt=!1,Yr=i)}}else{if(Pn(i))throw Error(t(418));i.flags=i.flags&-4097|2,Bt=!1,Yr=i}}}function Tu(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Yr=i}function sl(i){if(i!==Yr)return!1;if(!Bt)return Tu(i),Bt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Dh(i.type,i.memoizedProps)),a&&(a=qr)){if(Pn(i))throw In(),Error(t(418));for(;a;)bu(i,a),a=Ci(a.nextSibling)}if(Tu(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"){if(a===0){qr=Ci(i.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}i=i.nextSibling}qr=null}}else qr=Yr?Ci(i.stateNode.nextSibling):null;return!0}function In(){for(var i=qr;i;)i=Ci(i.nextSibling)}function Xs(){qr=Yr=null,Bt=!1}function kn(i){ln===null?ln=[i]:ln.push(i)}var Vf=$.ReactCurrentBatchConfig;function Ja(i,a,h){if(i=h.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var f=h.stateNode}if(!f)throw Error(t(147,i));var y=f,E=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(k){var j=y.refs;k===null?delete j[E]:j[E]=k},a._stringRef=E,a)}if(typeof i!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,i))}return i}function al(i,a){throw i=Object.prototype.toString.call(a),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Gh(i){var a=i._init;return a(i._payload)}function Hh(i){function a(ee,Y){if(i){var ne=ee.deletions;ne===null?(ee.deletions=[Y],ee.flags|=16):ne.push(Y)}}function h(ee,Y){if(!i)return null;for(;Y!==null;)a(ee,Y),Y=Y.sibling;return null}function f(ee,Y){for(ee=new Map;Y!==null;)Y.key!==null?ee.set(Y.key,Y):ee.set(Y.index,Y),Y=Y.sibling;return ee}function y(ee,Y){return ee=uo(ee,Y),ee.index=0,ee.sibling=null,ee}function E(ee,Y,ne){return ee.index=ne,i?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<Y?(ee.flags|=2,Y):ne):(ee.flags|=2,Y)):(ee.flags|=1048576,Y)}function k(ee){return i&&ee.alternate===null&&(ee.flags|=2),ee}function j(ee,Y,ne,Ce){return Y===null||Y.tag!==6?(Y=gp(ne,ee.mode,Ce),Y.return=ee,Y):(Y=y(Y,ne),Y.return=ee,Y)}function W(ee,Y,ne,Ce){var Ye=ne.type;return Ye===D?xe(ee,Y,ne.props.children,Ce,ne.key):Y!==null&&(Y.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===B&&Gh(Ye)===Y.type)?(Ce=y(Y,ne.props),Ce.ref=Ja(ee,Y,ne),Ce.return=ee,Ce):(Ce=pd(ne.type,ne.key,ne.props,null,ee.mode,Ce),Ce.ref=Ja(ee,Y,ne),Ce.return=ee,Ce)}function ae(ee,Y,ne,Ce){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ne.containerInfo||Y.stateNode.implementation!==ne.implementation?(Y=yp(ne,ee.mode,Ce),Y.return=ee,Y):(Y=y(Y,ne.children||[]),Y.return=ee,Y)}function xe(ee,Y,ne,Ce,Ye){return Y===null||Y.tag!==7?(Y=El(ne,ee.mode,Ce,Ye),Y.return=ee,Y):(Y=y(Y,ne),Y.return=ee,Y)}function Ee(ee,Y,ne){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=gp(""+Y,ee.mode,ne),Y.return=ee,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case L:return ne=pd(Y.type,Y.key,Y.props,null,ee.mode,ne),ne.ref=Ja(ee,null,Y),ne.return=ee,ne;case Q:return Y=yp(Y,ee.mode,ne),Y.return=ee,Y;case B:var Ce=Y._init;return Ee(ee,Ce(Y._payload),ne)}if(fr(Y)||H(Y))return Y=El(Y,ee.mode,ne,null),Y.return=ee,Y;al(ee,Y)}return null}function ve(ee,Y,ne,Ce){var Ye=Y!==null?Y.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Ye!==null?null:j(ee,Y,""+ne,Ce);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case L:return ne.key===Ye?W(ee,Y,ne,Ce):null;case Q:return ne.key===Ye?ae(ee,Y,ne,Ce):null;case B:return Ye=ne._init,ve(ee,Y,Ye(ne._payload),Ce)}if(fr(ne)||H(ne))return Ye!==null?null:xe(ee,Y,ne,Ce,null);al(ee,ne)}return null}function Oe(ee,Y,ne,Ce,Ye){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return ee=ee.get(ne)||null,j(Y,ee,""+Ce,Ye);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case L:return ee=ee.get(Ce.key===null?ne:Ce.key)||null,W(Y,ee,Ce,Ye);case Q:return ee=ee.get(Ce.key===null?ne:Ce.key)||null,ae(Y,ee,Ce,Ye);case B:var Je=Ce._init;return Oe(ee,Y,ne,Je(Ce._payload),Ye)}if(fr(Ce)||H(Ce))return ee=ee.get(ne)||null,xe(Y,ee,Ce,Ye,null);al(Y,Ce)}return null}function Ge(ee,Y,ne,Ce){for(var Ye=null,Je=null,et=Y,it=Y=0,Mr=null;et!==null&&it<ne.length;it++){et.index>it?(Mr=et,et=null):Mr=et.sibling;var St=ve(ee,et,ne[it],Ce);if(St===null){et===null&&(et=Mr);break}i&&et&&St.alternate===null&&a(ee,et),Y=E(St,Y,it),Je===null?Ye=St:Je.sibling=St,Je=St,et=Mr}if(it===ne.length)return h(ee,et),Bt&&fs(ee,it),Ye;if(et===null){for(;it<ne.length;it++)et=Ee(ee,ne[it],Ce),et!==null&&(Y=E(et,Y,it),Je===null?Ye=et:Je.sibling=et,Je=et);return Bt&&fs(ee,it),Ye}for(et=f(ee,et);it<ne.length;it++)Mr=Oe(et,ee,it,ne[it],Ce),Mr!==null&&(i&&Mr.alternate!==null&&et.delete(Mr.key===null?it:Mr.key),Y=E(Mr,Y,it),Je===null?Ye=Mr:Je.sibling=Mr,Je=Mr);return i&&et.forEach(function(ho){return a(ee,ho)}),Bt&&fs(ee,it),Ye}function Ve(ee,Y,ne,Ce){var Ye=H(ne);if(typeof Ye!="function")throw Error(t(150));if(ne=Ye.call(ne),ne==null)throw Error(t(151));for(var Je=Ye=null,et=Y,it=Y=0,Mr=null,St=ne.next();et!==null&&!St.done;it++,St=ne.next()){et.index>it?(Mr=et,et=null):Mr=et.sibling;var ho=ve(ee,et,St.value,Ce);if(ho===null){et===null&&(et=Mr);break}i&&et&&ho.alternate===null&&a(ee,et),Y=E(ho,Y,it),Je===null?Ye=ho:Je.sibling=ho,Je=ho,et=Mr}if(St.done)return h(ee,et),Bt&&fs(ee,it),Ye;if(et===null){for(;!St.done;it++,St=ne.next())St=Ee(ee,St.value,Ce),St!==null&&(Y=E(St,Y,it),Je===null?Ye=St:Je.sibling=St,Je=St);return Bt&&fs(ee,it),Ye}for(et=f(ee,et);!St.done;it++,St=ne.next())St=Oe(et,ee,it,St.value,Ce),St!==null&&(i&&St.alternate!==null&&et.delete(St.key===null?it:St.key),Y=E(St,Y,it),Je===null?Ye=St:Je.sibling=St,Je=St);return i&&et.forEach(function(ew){return a(ee,ew)}),Bt&&fs(ee,it),Ye}function hr(ee,Y,ne,Ce){if(typeof ne=="object"&&ne!==null&&ne.type===D&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case L:e:{for(var Ye=ne.key,Je=Y;Je!==null;){if(Je.key===Ye){if(Ye=ne.type,Ye===D){if(Je.tag===7){h(ee,Je.sibling),Y=y(Je,ne.props.children),Y.return=ee,ee=Y;break e}}else if(Je.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===B&&Gh(Ye)===Je.type){h(ee,Je.sibling),Y=y(Je,ne.props),Y.ref=Ja(ee,Je,ne),Y.return=ee,ee=Y;break e}h(ee,Je);break}else a(ee,Je);Je=Je.sibling}ne.type===D?(Y=El(ne.props.children,ee.mode,Ce,ne.key),Y.return=ee,ee=Y):(Ce=pd(ne.type,ne.key,ne.props,null,ee.mode,Ce),Ce.ref=Ja(ee,Y,ne),Ce.return=ee,ee=Ce)}return k(ee);case Q:e:{for(Je=ne.key;Y!==null;){if(Y.key===Je)if(Y.tag===4&&Y.stateNode.containerInfo===ne.containerInfo&&Y.stateNode.implementation===ne.implementation){h(ee,Y.sibling),Y=y(Y,ne.children||[]),Y.return=ee,ee=Y;break e}else{h(ee,Y);break}else a(ee,Y);Y=Y.sibling}Y=yp(ne,ee.mode,Ce),Y.return=ee,ee=Y}return k(ee);case B:return Je=ne._init,hr(ee,Y,Je(ne._payload),Ce)}if(fr(ne))return Ge(ee,Y,ne,Ce);if(H(ne))return Ve(ee,Y,ne,Ce);al(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Y!==null&&Y.tag===6?(h(ee,Y.sibling),Y=y(Y,ne),Y.return=ee,ee=Y):(h(ee,Y),Y=gp(ne,ee.mode,Ce),Y.return=ee,ee=Y),k(ee)):h(ee,Y)}return hr}var Ii=Hh(!0),ol=Hh(!1),Ys=Pi(null),qs=null,ki=null,Qs=null;function ll(){Qs=ki=qs=null}function ul(i){var a=Ys.current;kt(Ys),i._currentValue=a}function hl(i,a,h){for(;i!==null;){var f=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),i===h)break;i=i.return}}function Ks(i,a){qs=i,Qs=ki=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&a&&(q=!0),i.firstContext=null)}function Qr(i){var a=i._currentValue;if(Qs!==i)if(i={context:i,memoizedValue:a,next:null},ki===null){if(qs===null)throw Error(t(308));ki=i,qs.dependencies={lanes:0,firstContext:i}}else ki=ki.next=i;return a}var Zs=null;function eo(i){Zs===null?Zs=[i]:Zs.push(i)}function Au(i,a,h,f){var y=a.interleaved;return y===null?(h.next=h,eo(a)):(h.next=y.next,y.next=h),a.interleaved=h,Tt(i,f)}function Tt(i,a){i.lanes|=a;var h=i.alternate;for(h!==null&&(h.lanes|=a),h=i,i=i.return;i!==null;)i.childLanes|=a,h=i.alternate,h!==null&&(h.childLanes|=a),h=i,i=i.return;return h.tag===3?h.stateNode:null}var st=!1;function tr(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qt(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Lt(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function rr(i,a,h){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,xt&2){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,Tt(i,h)}return y=f.interleaved,y===null?(a.next=a,eo(f)):(a.next=y.next,y.next=a),f.interleaved=a,Tt(i,h)}function Mi(i,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var f=a.lanes;f&=i.pendingLanes,h|=f,a.lanes=h,No(i,h)}}function nr(i,a){var h=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,h===f)){var y=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var k={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?y=E=k:E=E.next=k,h=h.next}while(h!==null);E===null?y=E=a:E=E.next=a}else y=E=a;h={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:f.shared,effects:f.effects},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=a:i.next=a,h.lastBaseUpdate=a}function ps(i,a,h,f){var y=i.updateQueue;st=!1;var E=y.firstBaseUpdate,k=y.lastBaseUpdate,j=y.shared.pending;if(j!==null){y.shared.pending=null;var W=j,ae=W.next;W.next=null,k===null?E=ae:k.next=ae,k=W;var xe=i.alternate;xe!==null&&(xe=xe.updateQueue,j=xe.lastBaseUpdate,j!==k&&(j===null?xe.firstBaseUpdate=ae:j.next=ae,xe.lastBaseUpdate=W))}if(E!==null){var Ee=y.baseState;k=0,xe=ae=W=null,j=E;do{var ve=j.lane,Oe=j.eventTime;if((f&ve)===ve){xe!==null&&(xe=xe.next={eventTime:Oe,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Ge=i,Ve=j;switch(ve=a,Oe=h,Ve.tag){case 1:if(Ge=Ve.payload,typeof Ge=="function"){Ee=Ge.call(Oe,Ee,ve);break e}Ee=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Ve.payload,ve=typeof Ge=="function"?Ge.call(Oe,Ee,ve):Ge,ve==null)break e;Ee=N({},Ee,ve);break e;case 2:st=!0}}j.callback!==null&&j.lane!==0&&(i.flags|=64,ve=y.effects,ve===null?y.effects=[j]:ve.push(j))}else Oe={eventTime:Oe,lane:ve,tag:j.tag,payload:j.payload,callback:j.callback,next:null},xe===null?(ae=xe=Oe,W=Ee):xe=xe.next=Oe,k|=ve;if(j=j.next,j===null){if(j=y.shared.pending,j===null)break;ve=j,j=ve.next,ve.next=null,y.lastBaseUpdate=ve,y.shared.pending=null}}while(!0);if(xe===null&&(W=Ee),y.baseState=W,y.firstBaseUpdate=ae,y.lastBaseUpdate=xe,a=y.shared.interleaved,a!==null){y=a;do k|=y.lane,y=y.next;while(y!==a)}else E===null&&(y.shared.lanes=0);vl|=k,i.lanes=k,i.memoizedState=Ee}}function ms(i,a,h){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var f=i[a],y=f.callback;if(y!==null){if(f.callback=null,f=h,typeof y!="function")throw Error(t(191,y));y.call(f)}}}var gs={},Mn=Pi(gs),Ni=Pi(gs),wr=Pi(gs);function Di(i){if(i===gs)throw Error(t(174));return i}function cl(i,a){switch(Et(wr,a),Et(Ni,i),Et(Mn,gs),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ga(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=ga(a,i)}kt(Mn),Et(Mn,a)}function un(){kt(Mn),kt(Ni),kt(wr)}function Js(i){Di(wr.current);var a=Di(Mn.current),h=ga(a,i.type);a!==h&&(Et(Ni,i),Et(Mn,h))}function Cu(i){Ni.current===i&&(kt(Mn),kt(Ni))}var Mt=Pi(0);function to(i){for(var a=i;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var li=[];function ro(){for(var i=0;i<li.length;i++)li[i]._workInProgressVersionPrimary=null;li.length=0}var Xn=$.ReactCurrentDispatcher,no=$.ReactCurrentBatchConfig,Yn=0,Ut=null,Vt=null,Qt=null,lr=!1,Nn=!1,Ir=0,Kr=0;function Er(){throw Error(t(321))}function dl(i,a){if(a===null)return!1;for(var h=0;h<a.length&&h<i.length;h++)if(!on(i[h],a[h]))return!1;return!0}function fl(i,a,h,f,y,E){if(Yn=E,Ut=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Xn.current=i===null||i.memoizedState===null?Nu:Yf,i=h(f,y),Nn){E=0;do{if(Nn=!1,Ir=0,25<=E)throw Error(t(301));E+=1,Qt=Vt=null,a.updateQueue=null,Xn.current=qf,i=h(f,y)}while(Nn)}if(Xn.current=yl,a=Vt!==null&&Vt.next!==null,Yn=0,Qt=Vt=Ut=null,lr=!1,a)throw Error(t(300));return i}function ui(){var i=Ir!==0;return Ir=0,i}function qn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Ut.memoizedState=Qt=i:Qt=Qt.next=i,Qt}function hn(){if(Vt===null){var i=Ut.alternate;i=i!==null?i.memoizedState:null}else i=Vt.next;var a=Qt===null?Ut.memoizedState:Qt.next;if(a!==null)Qt=a,Vt=i;else{if(i===null)throw Error(t(310));Vt=i,i={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Qt===null?Ut.memoizedState=Qt=i:Qt=Qt.next=i}return Qt}function ea(i,a){return typeof a=="function"?a(i):a}function Oi(i){var a=hn(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var f=Vt,y=f.baseQueue,E=h.pending;if(E!==null){if(y!==null){var k=y.next;y.next=E.next,E.next=k}f.baseQueue=y=E,h.pending=null}if(y!==null){E=y.next,f=f.baseState;var j=k=null,W=null,ae=E;do{var xe=ae.lane;if((Yn&xe)===xe)W!==null&&(W=W.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),f=ae.hasEagerState?ae.eagerState:i(f,ae.action);else{var Ee={lane:xe,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};W===null?(j=W=Ee,k=f):W=W.next=Ee,Ut.lanes|=xe,vl|=xe}ae=ae.next}while(ae!==null&&ae!==E);W===null?k=f:W.next=j,on(f,a.memoizedState)||(q=!0),a.memoizedState=f,a.baseState=k,a.baseQueue=W,h.lastRenderedState=f}if(i=h.interleaved,i!==null){y=i;do E=y.lane,Ut.lanes|=E,vl|=E,y=y.next;while(y!==i)}else y===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function Pu(i){var a=hn(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var f=h.dispatch,y=h.pending,E=a.memoizedState;if(y!==null){h.pending=null;var k=y=y.next;do E=i(E,k.action),k=k.next;while(k!==y);on(E,a.memoizedState)||(q=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),h.lastRenderedState=E}return[E,f]}function jh(){}function Ru(i,a){var h=Ut,f=hn(),y=a(),E=!on(f.memoizedState,y);if(E&&(f.memoizedState=y,q=!0),f=f.queue,Yh(Zc.bind(null,h,f,i),[i]),f.getSnapshot!==a||E||Qt!==null&&Qt.memoizedState.tag&1){if(h.flags|=2048,Qn(9,Kc.bind(null,h,f,y,a),void 0,null),kr===null)throw Error(t(349));Yn&30||pl(h,a,y)}return y}function pl(i,a,h){i.flags|=16384,i={getSnapshot:a,value:h},a=Ut.updateQueue,a===null?(a={lastEffect:null,stores:null},Ut.updateQueue=a,a.stores=[i]):(h=a.stores,h===null?a.stores=[i]:h.push(i))}function Kc(i,a,h,f){a.value=h,a.getSnapshot=f,$h(a)&&Wh(i)}function Zc(i,a,h){return h(function(){$h(a)&&Wh(i)})}function $h(i){var a=i.getSnapshot;i=i.value;try{var h=a();return!on(i,h)}catch{return!0}}function Wh(i){var a=Tt(i,1);a!==null&&Ui(a,i,1,-1)}function ta(i){var a=qn();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:i},a.queue=i,i=i.dispatch=Xf.bind(null,Ut,i),[a.memoizedState,i]}function Qn(i,a,h,f){return i={tag:i,create:a,destroy:h,deps:f,next:null},a=Ut.updateQueue,a===null?(a={lastEffect:null,stores:null},Ut.updateQueue=a,a.lastEffect=i.next=i):(h=a.lastEffect,h===null?a.lastEffect=i.next=i:(f=h.next,h.next=i,i.next=f,a.lastEffect=i)),i}function Vh(){return hn().memoizedState}function Ct(i,a,h,f){var y=qn();Ut.flags|=i,y.memoizedState=Qn(1|a,h,void 0,f===void 0?null:f)}function Iu(i,a,h,f){var y=hn();f=f===void 0?null:f;var E=void 0;if(Vt!==null){var k=Vt.memoizedState;if(E=k.destroy,f!==null&&dl(f,k.deps)){y.memoizedState=Qn(a,h,E,f);return}}Ut.flags|=i,y.memoizedState=Qn(1|a,h,E,f)}function Xh(i,a){return Ct(8390656,8,i,a)}function Yh(i,a){return Iu(2048,8,i,a)}function Jc(i,a){return Iu(4,2,i,a)}function qh(i,a){return Iu(4,4,i,a)}function ed(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function cn(i,a,h){return h=h!=null?h.concat([i]):null,Iu(4,4,ed.bind(null,a,i),h)}function ml(){}function Fi(i,a){var h=hn();a=a===void 0?null:a;var f=h.memoizedState;return f!==null&&a!==null&&dl(a,f[1])?f[0]:(h.memoizedState=[i,a],i)}function gl(i,a){var h=hn();a=a===void 0?null:a;var f=h.memoizedState;return f!==null&&a!==null&&dl(a,f[1])?f[0]:(i=i(),h.memoizedState=[i,a],i)}function ys(i,a,h){return Yn&21?(on(h,a)||(h=yn(),Ut.lanes|=h,vl|=h,i.baseState=!0),a):(i.baseState&&(i.baseState=!1,q=!0),i.memoizedState=h)}function ku(i,a){var h=gt;gt=h!==0&&4>h?h:4,i(!0);var f=no.transition;no.transition={};try{i(!1),a()}finally{gt=h,no.transition=f}}function Mu(){return hn().memoizedState}function Qh(i,a,h){var f=oo(i);if(h={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null},Kh(i))Zh(a,h);else if(h=Au(i,a,h,f),h!==null){var y=dn();Ui(h,i,f,y),Jh(h,a,f)}}function Xf(i,a,h){var f=oo(i),y={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null};if(Kh(i))Zh(a,y);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var k=a.lastRenderedState,j=E(k,h);if(y.hasEagerState=!0,y.eagerState=j,on(j,k)){var W=a.interleaved;W===null?(y.next=y,eo(a)):(y.next=W.next,W.next=y),a.interleaved=y;return}}catch{}finally{}h=Au(i,a,y,f),h!==null&&(y=dn(),Ui(h,i,f,y),Jh(h,a,f))}}function Kh(i){var a=i.alternate;return i===Ut||a!==null&&a===Ut}function Zh(i,a){Nn=lr=!0;var h=i.pending;h===null?a.next=a:(a.next=h.next,h.next=a),i.pending=a}function Jh(i,a,h){if(h&4194240){var f=a.lanes;f&=i.pendingLanes,h|=f,a.lanes=h,No(i,h)}}var yl={readContext:Qr,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},Nu={readContext:Qr,useCallback:function(i,a){return qn().memoizedState=[i,a===void 0?null:a],i},useContext:Qr,useEffect:Xh,useImperativeHandle:function(i,a,h){return h=h!=null?h.concat([i]):null,Ct(4194308,4,ed.bind(null,a,i),h)},useLayoutEffect:function(i,a){return Ct(4194308,4,i,a)},useInsertionEffect:function(i,a){return Ct(4,2,i,a)},useMemo:function(i,a){var h=qn();return a=a===void 0?null:a,i=i(),h.memoizedState=[i,a],i},useReducer:function(i,a,h){var f=qn();return a=h!==void 0?h(a):a,f.memoizedState=f.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},f.queue=i,i=i.dispatch=Qh.bind(null,Ut,i),[f.memoizedState,i]},useRef:function(i){var a=qn();return i={current:i},a.memoizedState=i},useState:ta,useDebugValue:ml,useDeferredValue:function(i){return qn().memoizedState=i},useTransition:function(){var i=ta(!1),a=i[0];return i=ku.bind(null,i[1]),qn().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,h){var f=Ut,y=qn();if(Bt){if(h===void 0)throw Error(t(407));h=h()}else{if(h=a(),kr===null)throw Error(t(349));Yn&30||pl(f,a,h)}y.memoizedState=h;var E={value:h,getSnapshot:a};return y.queue=E,Xh(Zc.bind(null,f,E,i),[i]),f.flags|=2048,Qn(9,Kc.bind(null,f,E,h,a),void 0,null),h},useId:function(){var i=qn(),a=kr.identifierPrefix;if(Bt){var h=oi,f=Xr;h=(f&~(1<<32-mr(f)-1)).toString(32)+h,a=":"+a+"R"+h,h=Ir++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=Kr++,a=":"+a+"r"+h.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},Yf={readContext:Qr,useCallback:Fi,useContext:Qr,useEffect:Yh,useImperativeHandle:cn,useInsertionEffect:Jc,useLayoutEffect:qh,useMemo:gl,useReducer:Oi,useRef:Vh,useState:function(){return Oi(ea)},useDebugValue:ml,useDeferredValue:function(i){var a=hn();return ys(a,Vt.memoizedState,i)},useTransition:function(){var i=Oi(ea)[0],a=hn().memoizedState;return[i,a]},useMutableSource:jh,useSyncExternalStore:Ru,useId:Mu,unstable_isNewReconciler:!1},qf={readContext:Qr,useCallback:Fi,useContext:Qr,useEffect:Yh,useImperativeHandle:cn,useInsertionEffect:Jc,useLayoutEffect:qh,useMemo:gl,useReducer:Pu,useRef:Vh,useState:function(){return Pu(ea)},useDebugValue:ml,useDeferredValue:function(i){var a=hn();return Vt===null?a.memoizedState=i:ys(a,Vt.memoizedState,i)},useTransition:function(){var i=Pu(ea)[0],a=hn().memoizedState;return[i,a]},useMutableSource:jh,useSyncExternalStore:Ru,useId:Mu,unstable_isNewReconciler:!1};function l(i,a){if(i&&i.defaultProps){a=N({},a),i=i.defaultProps;for(var h in i)a[h]===void 0&&(a[h]=i[h]);return a}return a}function u(i,a,h,f){a=i.memoizedState,h=h(f,a),h=h==null?a:N({},a,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var m={isMounted:function(i){return(i=i._reactInternals)?Gn(i)===i:!1},enqueueSetState:function(i,a,h){i=i._reactInternals;var f=dn(),y=oo(i),E=Lt(f,y);E.payload=a,h!=null&&(E.callback=h),a=rr(i,E,y),a!==null&&(Ui(a,i,y,f),Mi(a,i,y))},enqueueReplaceState:function(i,a,h){i=i._reactInternals;var f=dn(),y=oo(i),E=Lt(f,y);E.tag=1,E.payload=a,h!=null&&(E.callback=h),a=rr(i,E,y),a!==null&&(Ui(a,i,y,f),Mi(a,i,y))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var h=dn(),f=oo(i),y=Lt(h,f);y.tag=2,a!=null&&(y.callback=a),a=rr(i,y,f),a!==null&&(Ui(a,i,f,h),Mi(a,i,f))}};function v(i,a,h,f,y,E,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,E,k):a.prototype&&a.prototype.isPureReactComponent?!os(h,f)||!os(y,E):!0}function w(i,a,h){var f=!1,y=En,E=a.contextType;return typeof E=="object"&&E!==null?E=Qr(E):(y=Lr(a)?Ri:or.current,f=a.contextTypes,E=(f=f!=null)?ds(i,y):En),a=new a(h,E),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=m,i.stateNode=a,a._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=E),a}function A(i,a,h,f){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,f),a.state!==i&&m.enqueueReplaceState(a,a.state,null)}function O(i,a,h,f){var y=i.stateNode;y.props=h,y.state=i.memoizedState,y.refs={},tr(i);var E=a.contextType;typeof E=="object"&&E!==null?y.context=Qr(E):(E=Lr(a)?Ri:or.current,y.context=ds(i,E)),y.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(u(i,a,E,h),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&m.enqueueReplaceState(y,y.state,null),ps(i,h,y,f),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function V(i,a){try{var h="",f=a;do h+=ue(f),f=f.return;while(f);var y=h}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:i,source:a,stack:y,digest:null}}function te(i,a,h){return{value:i,source:null,stack:h??null,digest:a??null}}function he(i,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var me=typeof WeakMap=="function"?WeakMap:Map;function Ie(i,a,h){h=Lt(-1,h),h.tag=3,h.payload={element:null};var f=a.value;return h.callback=function(){ld||(ld=!0,lp=f),he(i,a)},h}function de(i,a,h){h=Lt(-1,h),h.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var y=a.value;h.payload=function(){return f(y)},h.callback=function(){he(i,a)}}var E=i.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){he(i,a),typeof f!="function"&&(so===null?so=new Set([this]):so.add(this));var k=a.stack;this.componentDidCatch(a.value,{componentStack:k!==null?k:""})}),h}function Se(i,a,h){var f=i.pingCache;if(f===null){f=i.pingCache=new me;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(h)||(y.add(h),i=j1.bind(null,i,a,h),a.then(i,i))}function ze(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function ot(i,a,h,f,y){return i.mode&1?(i.flags|=65536,i.lanes=y,i):(i===a?i.flags|=65536:(i.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=Lt(-1,1),a.tag=2,rr(h,a,1))),h.lanes|=1),i)}var ge=$.ReactCurrentOwner,q=!1;function oe(i,a,h,f){a.child=i===null?ol(a,null,h,f):Ii(a,i.child,h,f)}function we(i,a,h,f,y){h=h.render;var E=a.ref;return Ks(a,y),f=fl(i,a,h,f,E,y),h=ui(),i!==null&&!q?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,ra(i,a,y)):(Bt&&h&&Za(a),a.flags|=1,oe(i,a,f,y),a.child)}function Qe(i,a,h,f,y){if(i===null){var E=h.type;return typeof E=="function"&&!mp(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=E,vt(i,a,E,f,y)):(i=pd(h.type,null,f,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(E=i.child,!(i.lanes&y)){var k=E.memoizedProps;if(h=h.compare,h=h!==null?h:os,h(k,f)&&i.ref===a.ref)return ra(i,a,y)}return a.flags|=1,i=uo(E,f),i.ref=a.ref,i.return=a,a.child=i}function vt(i,a,h,f,y){if(i!==null){var E=i.memoizedProps;if(os(E,f)&&i.ref===a.ref)if(q=!1,a.pendingProps=f=E,(i.lanes&y)!==0)i.flags&131072&&(q=!0);else return a.lanes=i.lanes,ra(i,a,y)}return ur(i,a,h,f,y)}function je(i,a,h){var f=a.pendingProps,y=f.children,E=i!==null?i.memoizedState:null;if(f.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Ou,Kn),Kn|=h;else{if(!(h&1073741824))return i=E!==null?E.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,Et(Ou,Kn),Kn|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=E!==null?E.baseLanes:h,Et(Ou,Kn),Kn|=f}else E!==null?(f=E.baseLanes|h,a.memoizedState=null):f=h,Et(Ou,Kn),Kn|=f;return oe(i,a,y,h),a.child}function yt(i,a){var h=a.ref;(i===null&&h!==null||i!==null&&i.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function ur(i,a,h,f,y){var E=Lr(h)?Ri:or.current;return E=ds(a,E),Ks(a,y),h=fl(i,a,h,f,E,y),f=ui(),i!==null&&!q?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,ra(i,a,y)):(Bt&&f&&Za(a),a.flags|=1,oe(i,a,h,y),a.child)}function _t(i,a,h,f,y){if(Lr(h)){var E=!0;qa(a)}else E=!1;if(Ks(a,y),a.stateNode===null)nd(i,a),w(a,h,f),O(a,h,f,y),f=!0;else if(i===null){var k=a.stateNode,j=a.memoizedProps;k.props=j;var W=k.context,ae=h.contextType;typeof ae=="object"&&ae!==null?ae=Qr(ae):(ae=Lr(h)?Ri:or.current,ae=ds(a,ae));var xe=h.getDerivedStateFromProps,Ee=typeof xe=="function"||typeof k.getSnapshotBeforeUpdate=="function";Ee||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(j!==f||W!==ae)&&A(a,k,f,ae),st=!1;var ve=a.memoizedState;k.state=ve,ps(a,f,k,y),W=a.memoizedState,j!==f||ve!==W||xr.current||st?(typeof xe=="function"&&(u(a,h,xe,f),W=a.memoizedState),(j=st||v(a,h,j,f,ve,W,ae))?(Ee||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(a.flags|=4194308)):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=W),k.props=f,k.state=W,k.context=ae,f=j):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{k=a.stateNode,qt(i,a),j=a.memoizedProps,ae=a.type===a.elementType?j:l(a.type,j),k.props=ae,Ee=a.pendingProps,ve=k.context,W=h.contextType,typeof W=="object"&&W!==null?W=Qr(W):(W=Lr(h)?Ri:or.current,W=ds(a,W));var Oe=h.getDerivedStateFromProps;(xe=typeof Oe=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(j!==Ee||ve!==W)&&A(a,k,f,W),st=!1,ve=a.memoizedState,k.state=ve,ps(a,f,k,y);var Ge=a.memoizedState;j!==Ee||ve!==Ge||xr.current||st?(typeof Oe=="function"&&(u(a,h,Oe,f),Ge=a.memoizedState),(ae=st||v(a,h,ae,f,ve,Ge,W)||!1)?(xe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(f,Ge,W),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(f,Ge,W)),typeof k.componentDidUpdate=="function"&&(a.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof k.componentDidUpdate!="function"||j===i.memoizedProps&&ve===i.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&ve===i.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Ge),k.props=f,k.state=Ge,k.context=W,f=ae):(typeof k.componentDidUpdate!="function"||j===i.memoizedProps&&ve===i.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&ve===i.memoizedState||(a.flags|=1024),f=!1)}return hi(i,a,h,f,E,y)}function hi(i,a,h,f,y,E){yt(i,a);var k=(a.flags&128)!==0;if(!f&&!k)return y&&Uh(a,h,!1),ra(i,a,E);f=a.stateNode,ge.current=a;var j=k&&typeof h.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,i!==null&&k?(a.child=Ii(a,i.child,null,E),a.child=Ii(a,null,j,E)):oe(i,a,j,E),a.memoizedState=f.state,y&&Uh(a,h,!0),a.child}function td(i){var a=i.stateNode;a.pendingContext?nl(i,a.pendingContext,a.pendingContext!==a.context):a.context&&nl(i,a.context,!1),cl(i,a.containerInfo)}function dy(i,a,h,f,y){return Xs(),kn(y),a.flags|=256,oe(i,a,h,f),a.child}var Qf={dehydrated:null,treeContext:null,retryLane:0};function Kf(i){return{baseLanes:i,cachePool:null,transitions:null}}function fy(i,a,h){var f=a.pendingProps,y=Mt.current,E=!1,k=(a.flags&128)!==0,j;if((j=k)||(j=i!==null&&i.memoizedState===null?!1:(y&2)!==0),j?(E=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),Et(Mt,y&1),i===null)return Rn(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(a.mode&1?i.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(k=f.children,i=f.fallback,E?(f=a.mode,E=a.child,k={mode:"hidden",children:k},!(f&1)&&E!==null?(E.childLanes=0,E.pendingProps=k):E=md(k,f,0,null),i=El(i,f,h,null),E.return=a,i.return=a,E.sibling=i,a.child=E,a.child.memoizedState=Kf(h),a.memoizedState=Qf,i):Zf(a,k));if(y=i.memoizedState,y!==null&&(j=y.dehydrated,j!==null))return k1(i,a,k,f,j,y,h);if(E){E=f.fallback,k=a.mode,y=i.child,j=y.sibling;var W={mode:"hidden",children:f.children};return!(k&1)&&a.child!==y?(f=a.child,f.childLanes=0,f.pendingProps=W,a.deletions=null):(f=uo(y,W),f.subtreeFlags=y.subtreeFlags&14680064),j!==null?E=uo(j,E):(E=El(E,k,h,null),E.flags|=2),E.return=a,f.return=a,f.sibling=E,a.child=f,f=E,E=a.child,k=i.child.memoizedState,k=k===null?Kf(h):{baseLanes:k.baseLanes|h,cachePool:null,transitions:k.transitions},E.memoizedState=k,E.childLanes=i.childLanes&~h,a.memoizedState=Qf,f}return E=i.child,i=E.sibling,f=uo(E,{mode:"visible",children:f.children}),!(a.mode&1)&&(f.lanes=h),f.return=a,f.sibling=null,i!==null&&(h=a.deletions,h===null?(a.deletions=[i],a.flags|=16):h.push(i)),a.child=f,a.memoizedState=null,f}function Zf(i,a){return a=md({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function rd(i,a,h,f){return f!==null&&kn(f),Ii(a,i.child,null,h),i=Zf(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function k1(i,a,h,f,y,E,k){if(h)return a.flags&256?(a.flags&=-257,f=te(Error(t(422))),rd(i,a,k,f)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(E=f.fallback,y=a.mode,f=md({mode:"visible",children:f.children},y,0,null),E=El(E,y,k,null),E.flags|=2,f.return=a,E.return=a,f.sibling=E,a.child=f,a.mode&1&&Ii(a,i.child,null,k),a.child.memoizedState=Kf(k),a.memoizedState=Qf,E);if(!(a.mode&1))return rd(i,a,k,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var j=f.dgst;return f=j,E=Error(t(419)),f=te(E,f,void 0),rd(i,a,k,f)}if(j=(k&i.childLanes)!==0,q||j){if(f=kr,f!==null){switch(k&-k){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(f.suspendedLanes|k)?0:y,y!==0&&y!==E.retryLane&&(E.retryLane=y,Tt(i,y),Ui(f,i,y,-1))}return pp(),f=te(Error(t(421))),rd(i,a,k,f)}return y.data==="$?"?(a.flags|=128,a.child=i.child,a=$1.bind(null,i),y._reactRetry=a,null):(i=E.treeContext,qr=Ci(y.nextSibling),Yr=a,Bt=!0,ln=null,i!==null&&(At[Cn++]=Xr,At[Cn++]=oi,At[Cn++]=De,Xr=i.id,oi=i.overflow,De=a),a=Zf(a,f.children),a.flags|=4096,a)}function py(i,a,h){i.lanes|=a;var f=i.alternate;f!==null&&(f.lanes|=a),hl(i.return,a,h)}function Jf(i,a,h,f,y){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:h,tailMode:y}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=f,E.tail=h,E.tailMode=y)}function my(i,a,h){var f=a.pendingProps,y=f.revealOrder,E=f.tail;if(oe(i,a,f.children,h),f=Mt.current,f&2)f=f&1|2,a.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&py(i,h,a);else if(i.tag===19)py(i,h,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Et(Mt,f),!(a.mode&1))a.memoizedState=null;else switch(y){case"forwards":for(h=a.child,y=null;h!==null;)i=h.alternate,i!==null&&to(i)===null&&(y=h),h=h.sibling;h=y,h===null?(y=a.child,a.child=null):(y=h.sibling,h.sibling=null),Jf(a,!1,y,h,E);break;case"backwards":for(h=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&to(i)===null){a.child=y;break}i=y.sibling,y.sibling=h,h=y,y=i}Jf(a,!0,h,null,E);break;case"together":Jf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function nd(i,a){!(a.mode&1)&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function ra(i,a,h){if(i!==null&&(a.dependencies=i.dependencies),vl|=a.lanes,!(h&a.childLanes))return null;if(i!==null&&a.child!==i.child)throw Error(t(153));if(a.child!==null){for(i=a.child,h=uo(i,i.pendingProps),a.child=h,h.return=a;i.sibling!==null;)i=i.sibling,h=h.sibling=uo(i,i.pendingProps),h.return=a;h.sibling=null}return a.child}function M1(i,a,h){switch(a.tag){case 3:td(a),Xs();break;case 5:Js(a);break;case 1:Lr(a.type)&&qa(a);break;case 4:cl(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,y=a.memoizedProps.value;Et(Ys,f._currentValue),f._currentValue=y;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(Et(Mt,Mt.current&1),a.flags|=128,null):h&a.child.childLanes?fy(i,a,h):(Et(Mt,Mt.current&1),i=ra(i,a,h),i!==null?i.sibling:null);Et(Mt,Mt.current&1);break;case 19:if(f=(h&a.childLanes)!==0,i.flags&128){if(f)return my(i,a,h);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Et(Mt,Mt.current),f)break;return null;case 22:case 23:return a.lanes=0,je(i,a,h)}return ra(i,a,h)}var gy,ep,yy,vy;gy=function(i,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},ep=function(){},yy=function(i,a,h,f){var y=i.memoizedProps;if(y!==f){i=a.stateNode,Di(Mn.current);var E=null;switch(h){case"input":y=ut(i,y),f=ut(i,f),E=[];break;case"select":y=N({},y,{value:void 0}),f=N({},f,{value:void 0}),E=[];break;case"textarea":y=ti(i,y),f=ti(i,f),E=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=tl)}re(h,f);var k;h=null;for(ae in y)if(!f.hasOwnProperty(ae)&&y.hasOwnProperty(ae)&&y[ae]!=null)if(ae==="style"){var j=y[ae];for(k in j)j.hasOwnProperty(k)&&(h||(h={}),h[k]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(s.hasOwnProperty(ae)?E||(E=[]):(E=E||[]).push(ae,null));for(ae in f){var W=f[ae];if(j=y!=null?y[ae]:void 0,f.hasOwnProperty(ae)&&W!==j&&(W!=null||j!=null))if(ae==="style")if(j){for(k in j)!j.hasOwnProperty(k)||W&&W.hasOwnProperty(k)||(h||(h={}),h[k]="");for(k in W)W.hasOwnProperty(k)&&j[k]!==W[k]&&(h||(h={}),h[k]=W[k])}else h||(E||(E=[]),E.push(ae,h)),h=W;else ae==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,j=j?j.__html:void 0,W!=null&&j!==W&&(E=E||[]).push(ae,W)):ae==="children"?typeof W!="string"&&typeof W!="number"||(E=E||[]).push(ae,""+W):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(s.hasOwnProperty(ae)?(W!=null&&ae==="onScroll"&&It("scroll",i),E||j===W||(E=[])):(E=E||[]).push(ae,W))}h&&(E=E||[]).push("style",h);var ae=E;(a.updateQueue=ae)&&(a.flags|=4)}},vy=function(i,a,h,f){h!==f&&(a.flags|=4)};function ec(i,a){if(!Bt)switch(i.tailMode){case"hidden":a=i.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var f=null;h!==null;)h.alternate!==null&&(f=h),h=h.sibling;f===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Zr(i){var a=i.alternate!==null&&i.alternate.child===i.child,h=0,f=0;if(a)for(var y=i.child;y!==null;)h|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)h|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=f,i.childLanes=h,a}function N1(i,a,h){var f=a.pendingProps;switch(il(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zr(a),null;case 1:return Lr(a.type)&&Ya(),Zr(a),null;case 3:return f=a.stateNode,un(),kt(xr),kt(or),ro(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(sl(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,ln!==null&&(cp(ln),ln=null))),ep(i,a),Zr(a),null;case 5:Cu(a);var y=Di(wr.current);if(h=a.type,i!==null&&a.stateNode!=null)yy(i,a,h,f,y),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return Zr(a),null}if(i=Di(Mn.current),sl(a)){f=a.stateNode,h=a.type;var E=a.memoizedProps;switch(f[Vn]=a,f[rl]=E,i=(a.mode&1)!==0,h){case"dialog":It("cancel",f),It("close",f);break;case"iframe":case"object":case"embed":It("load",f);break;case"video":case"audio":for(y=0;y<us.length;y++)It(us[y],f);break;case"source":It("error",f);break;case"img":case"image":case"link":It("error",f),It("load",f);break;case"details":It("toggle",f);break;case"input":He(f,E),It("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!E.multiple},It("invalid",f);break;case"textarea":gi(f,E),It("invalid",f)}re(h,E),y=null;for(var k in E)if(E.hasOwnProperty(k)){var j=E[k];k==="children"?typeof j=="string"?f.textContent!==j&&(E.suppressHydrationWarning!==!0&&el(f.textContent,j,i),y=["children",j]):typeof j=="number"&&f.textContent!==""+j&&(E.suppressHydrationWarning!==!0&&el(f.textContent,j,i),y=["children",""+j]):s.hasOwnProperty(k)&&j!=null&&k==="onScroll"&&It("scroll",f)}switch(h){case"input":ke(f),jt(f,E,!0);break;case"textarea":ke(f),Hl(f);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(f.onclick=tl)}f=y,a.updateQueue=f,f!==null&&(a.flags|=4)}else{k=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=jl(h)),i==="http://www.w3.org/1999/xhtml"?h==="script"?(i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=k.createElement(h,{is:f.is}):(i=k.createElement(h),h==="select"&&(k=i,f.multiple?k.multiple=!0:f.size&&(k.size=f.size))):i=k.createElementNS(i,h),i[Vn]=a,i[rl]=f,gy(i,a,!1,!1),a.stateNode=i;e:{switch(k=se(h,f),h){case"dialog":It("cancel",i),It("close",i),y=f;break;case"iframe":case"object":case"embed":It("load",i),y=f;break;case"video":case"audio":for(y=0;y<us.length;y++)It(us[y],i);y=f;break;case"source":It("error",i),y=f;break;case"img":case"image":case"link":It("error",i),It("load",i),y=f;break;case"details":It("toggle",i),y=f;break;case"input":He(i,f),y=ut(i,f),It("invalid",i);break;case"option":y=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},y=N({},f,{value:void 0}),It("invalid",i);break;case"textarea":gi(i,f),y=ti(i,f),It("invalid",i);break;default:y=f}re(h,y),j=y;for(E in j)if(j.hasOwnProperty(E)){var W=j[E];E==="style"?va(i,W):E==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Qi(i,W)):E==="children"?typeof W=="string"?(h!=="textarea"||W!=="")&&yi(i,W):typeof W=="number"&&yi(i,""+W):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?W!=null&&E==="onScroll"&&It("scroll",i):W!=null&&F(i,E,W,k))}switch(h){case"input":ke(i),jt(i,f,!1);break;case"textarea":ke(i),Hl(i);break;case"option":f.value!=null&&i.setAttribute("value",""+be(f.value));break;case"select":i.multiple=!!f.multiple,E=f.value,E!=null?pr(i,!!f.multiple,E,!1):f.defaultValue!=null&&pr(i,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=tl)}switch(h){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Zr(a),null;case 6:if(i&&a.stateNode!=null)vy(i,a,i.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(h=Di(wr.current),Di(Mn.current),sl(a)){if(f=a.stateNode,h=a.memoizedProps,f[Vn]=a,(E=f.nodeValue!==h)&&(i=Yr,i!==null))switch(i.tag){case 3:el(f.nodeValue,h,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&el(f.nodeValue,h,(i.mode&1)!==0)}E&&(a.flags|=4)}else f=(h.nodeType===9?h:h.ownerDocument).createTextNode(f),f[Vn]=a,a.stateNode=f}return Zr(a),null;case 13:if(kt(Mt),f=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Bt&&qr!==null&&a.mode&1&&!(a.flags&128))In(),Xs(),a.flags|=98560,E=!1;else if(E=sl(a),f!==null&&f.dehydrated!==null){if(i===null){if(!E)throw Error(t(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[Vn]=a}else Xs(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Zr(a),E=!1}else ln!==null&&(cp(ln),ln=null),E=!0;if(!E)return a.flags&65536?a:null}return a.flags&128?(a.lanes=h,a):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(a.child.flags|=8192,a.mode&1&&(i===null||Mt.current&1?Sr===0&&(Sr=3):pp())),a.updateQueue!==null&&(a.flags|=4),Zr(a),null);case 4:return un(),ep(i,a),i===null&&Ga(a.stateNode.containerInfo),Zr(a),null;case 10:return ul(a.type._context),Zr(a),null;case 17:return Lr(a.type)&&Ya(),Zr(a),null;case 19:if(kt(Mt),E=a.memoizedState,E===null)return Zr(a),null;if(f=(a.flags&128)!==0,k=E.rendering,k===null)if(f)ec(E,!1);else{if(Sr!==0||i!==null&&i.flags&128)for(i=a.child;i!==null;){if(k=to(i),k!==null){for(a.flags|=128,ec(E,!1),f=k.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=h,h=a.child;h!==null;)E=h,i=f,E.flags&=14680066,k=E.alternate,k===null?(E.childLanes=0,E.lanes=i,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=k.childLanes,E.lanes=k.lanes,E.child=k.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=k.memoizedProps,E.memoizedState=k.memoizedState,E.updateQueue=k.updateQueue,E.type=k.type,i=k.dependencies,E.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),h=h.sibling;return Et(Mt,Mt.current&1|2),a.child}i=i.sibling}E.tail!==null&&Yt()>Fu&&(a.flags|=128,f=!0,ec(E,!1),a.lanes=4194304)}else{if(!f)if(i=to(k),i!==null){if(a.flags|=128,f=!0,h=i.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),ec(E,!0),E.tail===null&&E.tailMode==="hidden"&&!k.alternate&&!Bt)return Zr(a),null}else 2*Yt()-E.renderingStartTime>Fu&&h!==1073741824&&(a.flags|=128,f=!0,ec(E,!1),a.lanes=4194304);E.isBackwards?(k.sibling=a.child,a.child=k):(h=E.last,h!==null?h.sibling=k:a.child=k,E.last=k)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=Yt(),a.sibling=null,h=Mt.current,Et(Mt,f?h&1|2:h&1),a):(Zr(a),null);case 22:case 23:return fp(),f=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(a.flags|=8192),f&&a.mode&1?Kn&1073741824&&(Zr(a),a.subtreeFlags&6&&(a.flags|=8192)):Zr(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function D1(i,a){switch(il(a),a.tag){case 1:return Lr(a.type)&&Ya(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return un(),kt(xr),kt(or),ro(),i=a.flags,i&65536&&!(i&128)?(a.flags=i&-65537|128,a):null;case 5:return Cu(a),null;case 13:if(kt(Mt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Xs()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return kt(Mt),null;case 4:return un(),null;case 10:return ul(a.type._context),null;case 22:case 23:return fp(),null;case 24:return null;default:return null}}var id=!1,Jr=!1,O1=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Du(i,a){var h=i.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(f){ir(i,a,f)}else h.current=null}function tp(i,a,h){try{h()}catch(f){ir(i,a,f)}}var _y=!1;function F1(i,a){if($a=nn,i=ar(),Zt(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var f=h.getSelection&&h.getSelection();if(f&&f.rangeCount!==0){h=f.anchorNode;var y=f.anchorOffset,E=f.focusNode;f=f.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var k=0,j=-1,W=-1,ae=0,xe=0,Ee=i,ve=null;t:for(;;){for(var Oe;Ee!==h||y!==0&&Ee.nodeType!==3||(j=k+y),Ee!==E||f!==0&&Ee.nodeType!==3||(W=k+f),Ee.nodeType===3&&(k+=Ee.nodeValue.length),(Oe=Ee.firstChild)!==null;)ve=Ee,Ee=Oe;for(;;){if(Ee===i)break t;if(ve===h&&++ae===y&&(j=k),ve===E&&++xe===f&&(W=k),(Oe=Ee.nextSibling)!==null)break;Ee=ve,ve=Ee.parentNode}Ee=Oe}h=j===-1||W===-1?null:{start:j,end:W}}else h=null}h=h||{start:0,end:0}}else h=null;for(Nh={focusedElem:i,selectionRange:h},nn=!1,Le=a;Le!==null;)if(a=Le,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Le=i;else for(;Le!==null;){a=Le;try{var Ge=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var Ve=Ge.memoizedProps,hr=Ge.memoizedState,ee=a.stateNode,Y=ee.getSnapshotBeforeUpdate(a.elementType===a.type?Ve:l(a.type,Ve),hr);ee.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ne=a.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ce){ir(a,a.return,Ce)}if(i=a.sibling,i!==null){i.return=a.return,Le=i;break}Le=a.return}return Ge=_y,_y=!1,Ge}function tc(i,a,h){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&i)===i){var E=y.destroy;y.destroy=void 0,E!==void 0&&tp(a,h,E)}y=y.next}while(y!==f)}}function sd(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&i)===i){var f=h.create;h.destroy=f()}h=h.next}while(h!==a)}}function rp(i){var a=i.ref;if(a!==null){var h=i.stateNode;switch(i.tag){case 5:i=h;break;default:i=h}typeof a=="function"?a(i):a.current=i}}function xy(i){var a=i.alternate;a!==null&&(i.alternate=null,xy(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Vn],delete a[rl],delete a[Pr],delete a[Yc],delete a[qc])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function wy(i){return i.tag===5||i.tag===3||i.tag===4}function Ey(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||wy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function np(i,a,h){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(i,a):h.insertBefore(i,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(i,h)):(a=h,a.appendChild(i)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=tl));else if(f!==4&&(i=i.child,i!==null))for(np(i,a,h),i=i.sibling;i!==null;)np(i,a,h),i=i.sibling}function ip(i,a,h){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?h.insertBefore(i,a):h.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(ip(i,a,h),i=i.sibling;i!==null;)ip(i,a,h),i=i.sibling}var Ur=null,Bi=!1;function io(i,a,h){for(h=h.child;h!==null;)Sy(i,a,h),h=h.sibling}function Sy(i,a,h){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Hn,h)}catch{}switch(h.tag){case 5:Jr||Du(h,a);case 6:var f=Ur,y=Bi;Ur=null,io(i,a,h),Ur=f,Bi=y,Ur!==null&&(Bi?(i=Ur,h=h.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)):Ur.removeChild(h.stateNode));break;case 18:Ur!==null&&(Bi?(i=Ur,h=h.stateNode,i.nodeType===8?wu(i.parentNode,h):i.nodeType===1&&wu(i,h),Bs(i)):wu(Ur,h.stateNode));break;case 4:f=Ur,y=Bi,Ur=h.stateNode.containerInfo,Bi=!0,io(i,a,h),Ur=f,Bi=y;break;case 0:case 11:case 14:case 15:if(!Jr&&(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var E=y,k=E.destroy;E=E.tag,k!==void 0&&(E&2||E&4)&&tp(h,a,k),y=y.next}while(y!==f)}io(i,a,h);break;case 1:if(!Jr&&(Du(h,a),f=h.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(j){ir(h,a,j)}io(i,a,h);break;case 21:io(i,a,h);break;case 22:h.mode&1?(Jr=(f=Jr)||h.memoizedState!==null,io(i,a,h),Jr=f):io(i,a,h);break;default:io(i,a,h)}}function by(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var h=i.stateNode;h===null&&(h=i.stateNode=new O1),a.forEach(function(f){var y=W1.bind(null,i,f);h.has(f)||(h.add(f),f.then(y,y))})}}function Li(i,a){var h=a.deletions;if(h!==null)for(var f=0;f<h.length;f++){var y=h[f];try{var E=i,k=a,j=k;e:for(;j!==null;){switch(j.tag){case 5:Ur=j.stateNode,Bi=!1;break e;case 3:Ur=j.stateNode.containerInfo,Bi=!0;break e;case 4:Ur=j.stateNode.containerInfo,Bi=!0;break e}j=j.return}if(Ur===null)throw Error(t(160));Sy(E,k,y),Ur=null,Bi=!1;var W=y.alternate;W!==null&&(W.return=null),y.return=null}catch(ae){ir(y,a,ae)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Ty(a,i),a=a.sibling}function Ty(i,a){var h=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Li(a,i),vs(i),f&4){try{tc(3,i,i.return),sd(3,i)}catch(Ve){ir(i,i.return,Ve)}try{tc(5,i,i.return)}catch(Ve){ir(i,i.return,Ve)}}break;case 1:Li(a,i),vs(i),f&512&&h!==null&&Du(h,h.return);break;case 5:if(Li(a,i),vs(i),f&512&&h!==null&&Du(h,h.return),i.flags&32){var y=i.stateNode;try{yi(y,"")}catch(Ve){ir(i,i.return,Ve)}}if(f&4&&(y=i.stateNode,y!=null)){var E=i.memoizedProps,k=h!==null?h.memoizedProps:E,j=i.type,W=i.updateQueue;if(i.updateQueue=null,W!==null)try{j==="input"&&E.type==="radio"&&E.name!=null&&We(y,E),se(j,k);var ae=se(j,E);for(k=0;k<W.length;k+=2){var xe=W[k],Ee=W[k+1];xe==="style"?va(y,Ee):xe==="dangerouslySetInnerHTML"?Qi(y,Ee):xe==="children"?yi(y,Ee):F(y,xe,Ee,ae)}switch(j){case"input":Dt(y,E);break;case"textarea":tn(y,E);break;case"select":var ve=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!E.multiple;var Oe=E.value;Oe!=null?pr(y,!!E.multiple,Oe,!1):ve!==!!E.multiple&&(E.defaultValue!=null?pr(y,!!E.multiple,E.defaultValue,!0):pr(y,!!E.multiple,E.multiple?[]:"",!1))}y[rl]=E}catch(Ve){ir(i,i.return,Ve)}}break;case 6:if(Li(a,i),vs(i),f&4){if(i.stateNode===null)throw Error(t(162));y=i.stateNode,E=i.memoizedProps;try{y.nodeValue=E}catch(Ve){ir(i,i.return,Ve)}}break;case 3:if(Li(a,i),vs(i),f&4&&h!==null&&h.memoizedState.isDehydrated)try{Bs(a.containerInfo)}catch(Ve){ir(i,i.return,Ve)}break;case 4:Li(a,i),vs(i);break;case 13:Li(a,i),vs(i),y=i.child,y.flags&8192&&(E=y.memoizedState!==null,y.stateNode.isHidden=E,!E||y.alternate!==null&&y.alternate.memoizedState!==null||(op=Yt())),f&4&&by(i);break;case 22:if(xe=h!==null&&h.memoizedState!==null,i.mode&1?(Jr=(ae=Jr)||xe,Li(a,i),Jr=ae):Li(a,i),vs(i),f&8192){if(ae=i.memoizedState!==null,(i.stateNode.isHidden=ae)&&!xe&&i.mode&1)for(Le=i,xe=i.child;xe!==null;){for(Ee=Le=xe;Le!==null;){switch(ve=Le,Oe=ve.child,ve.tag){case 0:case 11:case 14:case 15:tc(4,ve,ve.return);break;case 1:Du(ve,ve.return);var Ge=ve.stateNode;if(typeof Ge.componentWillUnmount=="function"){f=ve,h=ve.return;try{a=f,Ge.props=a.memoizedProps,Ge.state=a.memoizedState,Ge.componentWillUnmount()}catch(Ve){ir(f,h,Ve)}}break;case 5:Du(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Py(Ee);continue}}Oe!==null?(Oe.return=ve,Le=Oe):Py(Ee)}xe=xe.sibling}e:for(xe=null,Ee=i;;){if(Ee.tag===5){if(xe===null){xe=Ee;try{y=Ee.stateNode,ae?(E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(j=Ee.stateNode,W=Ee.memoizedProps.style,k=W!=null&&W.hasOwnProperty("display")?W.display:null,j.style.display=$l("display",k))}catch(Ve){ir(i,i.return,Ve)}}}else if(Ee.tag===6){if(xe===null)try{Ee.stateNode.nodeValue=ae?"":Ee.memoizedProps}catch(Ve){ir(i,i.return,Ve)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===i)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===i)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===i)break e;xe===Ee&&(xe=null),Ee=Ee.return}xe===Ee&&(xe=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:Li(a,i),vs(i),f&4&&by(i);break;case 21:break;default:Li(a,i),vs(i)}}function vs(i){var a=i.flags;if(a&2){try{e:{for(var h=i.return;h!==null;){if(wy(h)){var f=h;break e}h=h.return}throw Error(t(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(yi(y,""),f.flags&=-33);var E=Ey(i);ip(i,E,y);break;case 3:case 4:var k=f.stateNode.containerInfo,j=Ey(i);np(i,j,k);break;default:throw Error(t(161))}}catch(W){ir(i,i.return,W)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function B1(i,a,h){Le=i,Ay(i)}function Ay(i,a,h){for(var f=(i.mode&1)!==0;Le!==null;){var y=Le,E=y.child;if(y.tag===22&&f){var k=y.memoizedState!==null||id;if(!k){var j=y.alternate,W=j!==null&&j.memoizedState!==null||Jr;j=id;var ae=Jr;if(id=k,(Jr=W)&&!ae)for(Le=y;Le!==null;)k=Le,W=k.child,k.tag===22&&k.memoizedState!==null?Ry(y):W!==null?(W.return=k,Le=W):Ry(y);for(;E!==null;)Le=E,Ay(E),E=E.sibling;Le=y,id=j,Jr=ae}Cy(i)}else y.subtreeFlags&8772&&E!==null?(E.return=y,Le=E):Cy(i)}}function Cy(i){for(;Le!==null;){var a=Le;if(a.flags&8772){var h=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Jr||sd(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!Jr)if(h===null)f.componentDidMount();else{var y=a.elementType===a.type?h.memoizedProps:l(a.type,h.memoizedProps);f.componentDidUpdate(y,h.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&ms(a,E,f);break;case 3:var k=a.updateQueue;if(k!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}ms(a,k,h)}break;case 5:var j=a.stateNode;if(h===null&&a.flags&4){h=j;var W=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&h.focus();break;case"img":W.src&&(h.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ae=a.alternate;if(ae!==null){var xe=ae.memoizedState;if(xe!==null){var Ee=xe.dehydrated;Ee!==null&&Bs(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jr||a.flags&512&&rp(a)}catch(ve){ir(a,a.return,ve)}}if(a===i){Le=null;break}if(h=a.sibling,h!==null){h.return=a.return,Le=h;break}Le=a.return}}function Py(i){for(;Le!==null;){var a=Le;if(a===i){Le=null;break}var h=a.sibling;if(h!==null){h.return=a.return,Le=h;break}Le=a.return}}function Ry(i){for(;Le!==null;){var a=Le;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{sd(4,a)}catch(W){ir(a,h,W)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var y=a.return;try{f.componentDidMount()}catch(W){ir(a,y,W)}}var E=a.return;try{rp(a)}catch(W){ir(a,E,W)}break;case 5:var k=a.return;try{rp(a)}catch(W){ir(a,k,W)}}}catch(W){ir(a,a.return,W)}if(a===i){Le=null;break}var j=a.sibling;if(j!==null){j.return=a.return,Le=j;break}Le=a.return}}var L1=Math.ceil,ad=$.ReactCurrentDispatcher,sp=$.ReactCurrentOwner,ci=$.ReactCurrentBatchConfig,xt=0,kr=null,gr=null,zr=0,Kn=0,Ou=Pi(0),Sr=0,rc=null,vl=0,od=0,ap=0,nc=null,Dn=null,op=0,Fu=1/0,na=null,ld=!1,lp=null,so=null,ud=!1,ao=null,hd=0,ic=0,up=null,cd=-1,dd=0;function dn(){return xt&6?Yt():cd!==-1?cd:cd=Yt()}function oo(i){return i.mode&1?xt&2&&zr!==0?zr&-zr:Vf.transition!==null?(dd===0&&(dd=yn()),dd):(i=gt,i!==0||(i=window.event,i=i===void 0?16:sn(i.type)),i):1}function Ui(i,a,h,f){if(50<ic)throw ic=0,up=null,Error(t(185));Mo(i,h,f),(!(xt&2)||i!==kr)&&(i===kr&&(!(xt&2)&&(od|=h),Sr===4&&lo(i,zr)),On(i,f),h===1&&xt===0&&!(a.mode&1)&&(Fu=Yt()+500,bn&&An()))}function On(i,a){var h=i.callbackNode;Kl(i,a);var f=ko(i,i===kr?zr:0);if(f===0)h!==null&&Po(h),i.callbackNode=null,i.callbackPriority=0;else if(a=f&-f,i.callbackPriority!==a){if(h!=null&&Po(h),a===1)i.tag===0?Qc(ky.bind(null,i)):zh(ky.bind(null,i)),Fh(function(){!(xt&6)&&An()}),h=null;else{switch(Do(f)){case 1:h=Io;break;case 4:h=ql;break;case 16:h=Ql;break;case 536870912:h=Ds;break;default:h=Ql}h=Uy(h,Iy.bind(null,i))}i.callbackPriority=a,i.callbackNode=h}}function Iy(i,a){if(cd=-1,dd=0,xt&6)throw Error(t(327));var h=i.callbackNode;if(Bu()&&i.callbackNode!==h)return null;var f=ko(i,i===kr?zr:0);if(f===0)return null;if(f&30||f&i.expiredLanes||a)a=fd(i,f);else{a=f;var y=xt;xt|=2;var E=Ny();(kr!==i||zr!==a)&&(na=null,Fu=Yt()+500,xl(i,a));do try{G1();break}catch(j){My(i,j)}while(!0);ll(),ad.current=E,xt=y,gr!==null?a=0:(kr=null,zr=0,a=Sr)}if(a!==0){if(a===2&&(y=Zl(i),y!==0&&(f=y,a=hp(i,y))),a===1)throw h=rc,xl(i,0),lo(i,f),On(i,Yt()),h;if(a===6)lo(i,f);else{if(y=i.current.alternate,!(f&30)&&!U1(y)&&(a=fd(i,f),a===2&&(E=Zl(i),E!==0&&(f=E,a=hp(i,E))),a===1))throw h=rc,xl(i,0),lo(i,f),On(i,Yt()),h;switch(i.finishedWork=y,i.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:wl(i,Dn,na);break;case 3:if(lo(i,f),(f&130023424)===f&&(a=op+500-Yt(),10<a)){if(ko(i,0)!==0)break;if(y=i.suspendedLanes,(y&f)!==f){dn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=Oh(wl.bind(null,i,Dn,na),a);break}wl(i,Dn,na);break;case 4:if(lo(i,f),(f&4194240)===f)break;for(a=i.eventTimes,y=-1;0<f;){var k=31-mr(f);E=1<<k,k=a[k],k>y&&(y=k),f&=~E}if(f=y,f=Yt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*L1(f/1960))-f,10<f){i.timeoutHandle=Oh(wl.bind(null,i,Dn,na),f);break}wl(i,Dn,na);break;case 5:wl(i,Dn,na);break;default:throw Error(t(329))}}}return On(i,Yt()),i.callbackNode===h?Iy.bind(null,i):null}function hp(i,a){var h=nc;return i.current.memoizedState.isDehydrated&&(xl(i,a).flags|=256),i=fd(i,a),i!==2&&(a=Dn,Dn=h,a!==null&&cp(a)),i}function cp(i){Dn===null?Dn=i:Dn.push.apply(Dn,i)}function U1(i){for(var a=i;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var f=0;f<h.length;f++){var y=h[f],E=y.getSnapshot;y=y.value;try{if(!on(E(),y))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function lo(i,a){for(a&=~ap,a&=~od,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var h=31-mr(a),f=1<<h;i[h]=-1,a&=~f}}function ky(i){if(xt&6)throw Error(t(327));Bu();var a=ko(i,0);if(!(a&1))return On(i,Yt()),null;var h=fd(i,a);if(i.tag!==0&&h===2){var f=Zl(i);f!==0&&(a=f,h=hp(i,f))}if(h===1)throw h=rc,xl(i,0),lo(i,a),On(i,Yt()),h;if(h===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,wl(i,Dn,na),On(i,Yt()),null}function dp(i,a){var h=xt;xt|=1;try{return i(a)}finally{xt=h,xt===0&&(Fu=Yt()+500,bn&&An())}}function _l(i){ao!==null&&ao.tag===0&&!(xt&6)&&Bu();var a=xt;xt|=1;var h=ci.transition,f=gt;try{if(ci.transition=null,gt=1,i)return i()}finally{gt=f,ci.transition=h,xt=a,!(xt&6)&&An()}}function fp(){Kn=Ou.current,kt(Ou)}function xl(i,a){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;if(h!==-1&&(i.timeoutHandle=-1,Wa(h)),gr!==null)for(h=gr.return;h!==null;){var f=h;switch(il(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ya();break;case 3:un(),kt(xr),kt(or),ro();break;case 5:Cu(f);break;case 4:un();break;case 13:kt(Mt);break;case 19:kt(Mt);break;case 10:ul(f.type._context);break;case 22:case 23:fp()}h=h.return}if(kr=i,gr=i=uo(i.current,null),zr=Kn=a,Sr=0,rc=null,ap=od=vl=0,Dn=nc=null,Zs!==null){for(a=0;a<Zs.length;a++)if(h=Zs[a],f=h.interleaved,f!==null){h.interleaved=null;var y=f.next,E=h.pending;if(E!==null){var k=E.next;E.next=y,f.next=k}h.pending=f}Zs=null}return i}function My(i,a){do{var h=gr;try{if(ll(),Xn.current=yl,lr){for(var f=Ut.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}lr=!1}if(Yn=0,Qt=Vt=Ut=null,Nn=!1,Ir=0,sp.current=null,h===null||h.return===null){Sr=1,rc=a,gr=null;break}e:{var E=i,k=h.return,j=h,W=a;if(a=zr,j.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var ae=W,xe=j,Ee=xe.tag;if(!(xe.mode&1)&&(Ee===0||Ee===11||Ee===15)){var ve=xe.alternate;ve?(xe.updateQueue=ve.updateQueue,xe.memoizedState=ve.memoizedState,xe.lanes=ve.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var Oe=ze(k);if(Oe!==null){Oe.flags&=-257,ot(Oe,k,j,E,a),Oe.mode&1&&Se(E,ae,a),a=Oe,W=ae;var Ge=a.updateQueue;if(Ge===null){var Ve=new Set;Ve.add(W),a.updateQueue=Ve}else Ge.add(W);break e}else{if(!(a&1)){Se(E,ae,a),pp();break e}W=Error(t(426))}}else if(Bt&&j.mode&1){var hr=ze(k);if(hr!==null){!(hr.flags&65536)&&(hr.flags|=256),ot(hr,k,j,E,a),kn(V(W,j));break e}}E=W=V(W,j),Sr!==4&&(Sr=2),nc===null?nc=[E]:nc.push(E),E=k;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var ee=Ie(E,W,a);nr(E,ee);break e;case 1:j=W;var Y=E.type,ne=E.stateNode;if(!(E.flags&128)&&(typeof Y.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(so===null||!so.has(ne)))){E.flags|=65536,a&=-a,E.lanes|=a;var Ce=de(E,j,a);nr(E,Ce);break e}}E=E.return}while(E!==null)}Oy(h)}catch(Ye){a=Ye,gr===h&&h!==null&&(gr=h=h.return);continue}break}while(!0)}function Ny(){var i=ad.current;return ad.current=yl,i===null?yl:i}function pp(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),kr===null||!(vl&268435455)&&!(od&268435455)||lo(kr,zr)}function fd(i,a){var h=xt;xt|=2;var f=Ny();(kr!==i||zr!==a)&&(na=null,xl(i,a));do try{z1();break}catch(y){My(i,y)}while(!0);if(ll(),xt=h,ad.current=f,gr!==null)throw Error(t(261));return kr=null,zr=0,Sr}function z1(){for(;gr!==null;)Dy(gr)}function G1(){for(;gr!==null&&!Lf();)Dy(gr)}function Dy(i){var a=Ly(i.alternate,i,Kn);i.memoizedProps=i.pendingProps,a===null?Oy(i):gr=a,sp.current=null}function Oy(i){var a=i;do{var h=a.alternate;if(i=a.return,a.flags&32768){if(h=D1(h,a),h!==null){h.flags&=32767,gr=h;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Sr=6,gr=null;return}}else if(h=N1(h,a,Kn),h!==null){gr=h;return}if(a=a.sibling,a!==null){gr=a;return}gr=a=i}while(a!==null);Sr===0&&(Sr=5)}function wl(i,a,h){var f=gt,y=ci.transition;try{ci.transition=null,gt=1,H1(i,a,h,f)}finally{ci.transition=y,gt=f}return null}function H1(i,a,h,f){do Bu();while(ao!==null);if(xt&6)throw Error(t(327));h=i.finishedWork;var y=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var E=h.lanes|h.childLanes;if(hh(i,E),i===kr&&(gr=kr=null,zr=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||ud||(ud=!0,Uy(Ql,function(){return Bu(),null})),E=(h.flags&15990)!==0,h.subtreeFlags&15990||E){E=ci.transition,ci.transition=null;var k=gt;gt=1;var j=xt;xt|=4,sp.current=null,F1(i,h),Ty(h,i),hu(Nh),nn=!!$a,Nh=$a=null,i.current=h,B1(h),Uf(),xt=j,gt=k,ci.transition=E}else i.current=h;if(ud&&(ud=!1,ao=i,hd=y),E=i.pendingLanes,E===0&&(so=null),Pt(h.stateNode),On(i,Yt()),a!==null)for(f=i.onRecoverableError,h=0;h<a.length;h++)y=a[h],f(y.value,{componentStack:y.stack,digest:y.digest});if(ld)throw ld=!1,i=lp,lp=null,i;return hd&1&&i.tag!==0&&Bu(),E=i.pendingLanes,E&1?i===up?ic++:(ic=0,up=i):ic=0,An(),null}function Bu(){if(ao!==null){var i=Do(hd),a=ci.transition,h=gt;try{if(ci.transition=null,gt=16>i?16:i,ao===null)var f=!1;else{if(i=ao,ao=null,hd=0,xt&6)throw Error(t(331));var y=xt;for(xt|=4,Le=i.current;Le!==null;){var E=Le,k=E.child;if(Le.flags&16){var j=E.deletions;if(j!==null){for(var W=0;W<j.length;W++){var ae=j[W];for(Le=ae;Le!==null;){var xe=Le;switch(xe.tag){case 0:case 11:case 15:tc(8,xe,E)}var Ee=xe.child;if(Ee!==null)Ee.return=xe,Le=Ee;else for(;Le!==null;){xe=Le;var ve=xe.sibling,Oe=xe.return;if(xy(xe),xe===ae){Le=null;break}if(ve!==null){ve.return=Oe,Le=ve;break}Le=Oe}}}var Ge=E.alternate;if(Ge!==null){var Ve=Ge.child;if(Ve!==null){Ge.child=null;do{var hr=Ve.sibling;Ve.sibling=null,Ve=hr}while(Ve!==null)}}Le=E}}if(E.subtreeFlags&2064&&k!==null)k.return=E,Le=k;else e:for(;Le!==null;){if(E=Le,E.flags&2048)switch(E.tag){case 0:case 11:case 15:tc(9,E,E.return)}var ee=E.sibling;if(ee!==null){ee.return=E.return,Le=ee;break e}Le=E.return}}var Y=i.current;for(Le=Y;Le!==null;){k=Le;var ne=k.child;if(k.subtreeFlags&2064&&ne!==null)ne.return=k,Le=ne;else e:for(k=Y;Le!==null;){if(j=Le,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:sd(9,j)}}catch(Ye){ir(j,j.return,Ye)}if(j===k){Le=null;break e}var Ce=j.sibling;if(Ce!==null){Ce.return=j.return,Le=Ce;break e}Le=j.return}}if(xt=y,An(),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Hn,i)}catch{}f=!0}return f}finally{gt=h,ci.transition=a}}return!1}function Fy(i,a,h){a=V(h,a),a=Ie(i,a,1),i=rr(i,a,1),a=dn(),i!==null&&(Mo(i,1,a),On(i,a))}function ir(i,a,h){if(i.tag===3)Fy(i,i,h);else for(;a!==null;){if(a.tag===3){Fy(a,i,h);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(so===null||!so.has(f))){i=V(h,i),i=de(a,i,1),a=rr(a,i,1),i=dn(),a!==null&&(Mo(a,1,i),On(a,i));break}}a=a.return}}function j1(i,a,h){var f=i.pingCache;f!==null&&f.delete(a),a=dn(),i.pingedLanes|=i.suspendedLanes&h,kr===i&&(zr&h)===h&&(Sr===4||Sr===3&&(zr&130023424)===zr&&500>Yt()-op?xl(i,0):ap|=h),On(i,a)}function By(i,a){a===0&&(i.mode&1?(a=Cr,Cr<<=1,!(Cr&130023424)&&(Cr=4194304)):a=1);var h=dn();i=Tt(i,a),i!==null&&(Mo(i,a,h),On(i,h))}function $1(i){var a=i.memoizedState,h=0;a!==null&&(h=a.retryLane),By(i,h)}function W1(i,a){var h=0;switch(i.tag){case 13:var f=i.stateNode,y=i.memoizedState;y!==null&&(h=y.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),By(i,h)}var Ly;Ly=function(i,a,h){if(i!==null)if(i.memoizedProps!==a.pendingProps||xr.current)q=!0;else{if(!(i.lanes&h)&&!(a.flags&128))return q=!1,M1(i,a,h);q=!!(i.flags&131072)}else q=!1,Bt&&a.flags&1048576&&Ka(a,Vs,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;nd(i,a),i=a.pendingProps;var y=ds(a,or.current);Ks(a,h),y=fl(null,a,f,i,y,h);var E=ui();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Lr(f)?(E=!0,qa(a)):E=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,tr(a),y.updater=m,a.stateNode=y,y._reactInternals=a,O(a,f,i,h),a=hi(null,a,f,!0,E,h)):(a.tag=0,Bt&&E&&Za(a),oe(null,a,y,h),a=a.child),a;case 16:f=a.elementType;e:{switch(nd(i,a),i=a.pendingProps,y=f._init,f=y(f._payload),a.type=f,y=a.tag=X1(f),i=l(f,i),y){case 0:a=ur(null,a,f,i,h);break e;case 1:a=_t(null,a,f,i,h);break e;case 11:a=we(null,a,f,i,h);break e;case 14:a=Qe(null,a,f,l(f.type,i),h);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:l(f,y),ur(i,a,f,y,h);case 1:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:l(f,y),_t(i,a,f,y,h);case 3:e:{if(td(a),i===null)throw Error(t(387));f=a.pendingProps,E=a.memoizedState,y=E.element,qt(i,a),ps(a,f,null,h);var k=a.memoizedState;if(f=k.element,E.isDehydrated)if(E={element:f,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){y=V(Error(t(423)),a),a=dy(i,a,f,h,y);break e}else if(f!==y){y=V(Error(t(424)),a),a=dy(i,a,f,h,y);break e}else for(qr=Ci(a.stateNode.containerInfo.firstChild),Yr=a,Bt=!0,ln=null,h=ol(a,null,f,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Xs(),f===y){a=ra(i,a,h);break e}oe(i,a,f,h)}a=a.child}return a;case 5:return Js(a),i===null&&Rn(a),f=a.type,y=a.pendingProps,E=i!==null?i.memoizedProps:null,k=y.children,Dh(f,y)?k=null:E!==null&&Dh(f,E)&&(a.flags|=32),yt(i,a),oe(i,a,k,h),a.child;case 6:return i===null&&Rn(a),null;case 13:return fy(i,a,h);case 4:return cl(a,a.stateNode.containerInfo),f=a.pendingProps,i===null?a.child=Ii(a,null,f,h):oe(i,a,f,h),a.child;case 11:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:l(f,y),we(i,a,f,y,h);case 7:return oe(i,a,a.pendingProps,h),a.child;case 8:return oe(i,a,a.pendingProps.children,h),a.child;case 12:return oe(i,a,a.pendingProps.children,h),a.child;case 10:e:{if(f=a.type._context,y=a.pendingProps,E=a.memoizedProps,k=y.value,Et(Ys,f._currentValue),f._currentValue=k,E!==null)if(on(E.value,k)){if(E.children===y.children&&!xr.current){a=ra(i,a,h);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var j=E.dependencies;if(j!==null){k=E.child;for(var W=j.firstContext;W!==null;){if(W.context===f){if(E.tag===1){W=Lt(-1,h&-h),W.tag=2;var ae=E.updateQueue;if(ae!==null){ae=ae.shared;var xe=ae.pending;xe===null?W.next=W:(W.next=xe.next,xe.next=W),ae.pending=W}}E.lanes|=h,W=E.alternate,W!==null&&(W.lanes|=h),hl(E.return,h,a),j.lanes|=h;break}W=W.next}}else if(E.tag===10)k=E.type===a.type?null:E.child;else if(E.tag===18){if(k=E.return,k===null)throw Error(t(341));k.lanes|=h,j=k.alternate,j!==null&&(j.lanes|=h),hl(k,h,a),k=E.sibling}else k=E.child;if(k!==null)k.return=E;else for(k=E;k!==null;){if(k===a){k=null;break}if(E=k.sibling,E!==null){E.return=k.return,k=E;break}k=k.return}E=k}oe(i,a,y.children,h),a=a.child}return a;case 9:return y=a.type,f=a.pendingProps.children,Ks(a,h),y=Qr(y),f=f(y),a.flags|=1,oe(i,a,f,h),a.child;case 14:return f=a.type,y=l(f,a.pendingProps),y=l(f.type,y),Qe(i,a,f,y,h);case 15:return vt(i,a,a.type,a.pendingProps,h);case 17:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:l(f,y),nd(i,a),a.tag=1,Lr(f)?(i=!0,qa(a)):i=!1,Ks(a,h),w(a,f,y),O(a,f,y,h),hi(null,a,f,!0,i,h);case 19:return my(i,a,h);case 22:return je(i,a,h)}throw Error(t(156,a.tag))};function Uy(i,a){return Yl(i,a)}function V1(i,a,h,f){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(i,a,h,f){return new V1(i,a,h,f)}function mp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function X1(i){if(typeof i=="function")return mp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===K)return 11;if(i===Te)return 14}return 2}function uo(i,a){var h=i.alternate;return h===null?(h=di(i.tag,a,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=a,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&14680064,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,a=i.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h}function pd(i,a,h,f,y,E){var k=2;if(f=i,typeof i=="function")mp(i)&&(k=1);else if(typeof i=="string")k=5;else e:switch(i){case D:return El(h.children,y,E,a);case Z:k=8,y|=8;break;case ce:return i=di(12,h,a,y|2),i.elementType=ce,i.lanes=E,i;case J:return i=di(13,h,a,y),i.elementType=J,i.lanes=E,i;case le:return i=di(19,h,a,y),i.elementType=le,i.lanes=E,i;case G:return md(h,y,E,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case fe:k=10;break e;case Pe:k=9;break e;case K:k=11;break e;case Te:k=14;break e;case B:k=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return a=di(k,h,a,y),a.elementType=i,a.type=f,a.lanes=E,a}function El(i,a,h,f){return i=di(7,i,f,a),i.lanes=h,i}function md(i,a,h,f){return i=di(22,i,f,a),i.elementType=G,i.lanes=h,i.stateNode={isHidden:!1},i}function gp(i,a,h){return i=di(6,i,null,a),i.lanes=h,i}function yp(i,a,h){return a=di(4,i.children!==null?i.children:[],i.key,a),a.lanes=h,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function Y1(i,a,h,f,y){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uh(0),this.expirationTimes=uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uh(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function vp(i,a,h,f,y,E,k,j,W){return i=new Y1(i,a,h,j,W),a===1?(a=1,E===!0&&(a|=8)):a=0,E=di(3,null,null,a),i.current=E,E.stateNode=i,E.memoizedState={element:f,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},tr(E),i}function q1(i,a,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:f==null?null:""+f,children:i,containerInfo:a,implementation:h}}function zy(i){if(!i)return En;i=i._reactInternals;e:{if(Gn(i)!==i||i.tag!==1)throw Error(t(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Lr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(i.tag===1){var h=i.type;if(Lr(h))return Lh(i,h,a)}return a}function Gy(i,a,h,f,y,E,k,j,W){return i=vp(h,f,!0,i,y,E,k,j,W),i.context=zy(null),h=i.current,f=dn(),y=oo(h),E=Lt(f,y),E.callback=a??null,rr(h,E,y),i.current.lanes=y,Mo(i,y,f),On(i,f),i}function gd(i,a,h,f){var y=a.current,E=dn(),k=oo(y);return h=zy(h),a.context===null?a.context=h:a.pendingContext=h,a=Lt(E,k),a.payload={element:i},f=f===void 0?null:f,f!==null&&(a.callback=f),i=rr(y,a,k),i!==null&&(Ui(i,y,k,E),Mi(i,y,k)),k}function yd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Hy(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<a?h:a}}function _p(i,a){Hy(i,a),(i=i.alternate)&&Hy(i,a)}function Q1(){return null}var jy=typeof reportError=="function"?reportError:function(i){console.error(i)};function xp(i){this._internalRoot=i}vd.prototype.render=xp.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(t(409));gd(i,a,null,null)},vd.prototype.unmount=xp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;_l(function(){gd(null,i,null,null)}),a[Wt]=null}};function vd(i){this._internalRoot=i}vd.prototype.unstable_scheduleHydration=function(i){if(i){var a=Jl();i={blockedOn:null,target:i,priority:a};for(var h=0;h<Ot.length&&a!==0&&a<Ot[h].priority;h++);Ot.splice(h,0,i),h===0&&Uo(i)}};function wp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function _d(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function $y(){}function K1(i,a,h,f,y){if(y){if(typeof f=="function"){var E=f;f=function(){var ae=yd(k);E.call(ae)}}var k=Gy(a,f,i,0,null,!1,!1,"",$y);return i._reactRootContainer=k,i[Wt]=k.current,Ga(i.nodeType===8?i.parentNode:i),_l(),k}for(;y=i.lastChild;)i.removeChild(y);if(typeof f=="function"){var j=f;f=function(){var ae=yd(W);j.call(ae)}}var W=vp(i,0,!1,null,null,!1,!1,"",$y);return i._reactRootContainer=W,i[Wt]=W.current,Ga(i.nodeType===8?i.parentNode:i),_l(function(){gd(a,W,h,f)}),W}function xd(i,a,h,f,y){var E=h._reactRootContainer;if(E){var k=E;if(typeof y=="function"){var j=y;y=function(){var W=yd(k);j.call(W)}}gd(a,k,i,y)}else k=K1(h,a,i,y,f);return yd(k)}Bc=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var h=Fs(a.pendingLanes);h!==0&&(No(a,h|1),On(a,Yt()),!(xt&6)&&(Fu=Yt()+500,An()))}break;case 13:_l(function(){var f=Tt(i,1);if(f!==null){var y=dn();Ui(f,i,1,y)}}),_p(i,1)}},Oo=function(i){if(i.tag===13){var a=Tt(i,134217728);if(a!==null){var h=dn();Ui(a,i,134217728,h)}_p(i,134217728)}},ch=function(i){if(i.tag===13){var a=oo(i),h=Tt(i,a);if(h!==null){var f=dn();Ui(h,i,a,f)}_p(i,a)}},Jl=function(){return gt},ba=function(i,a){var h=gt;try{return gt=i,a()}finally{gt=h}},bt=function(i,a,h){switch(a){case"input":if(Dt(i,h),a=h.name,h.type==="radio"&&a!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var f=h[a];if(f!==i&&f.form===i.form){var y=Xa(f);if(!y)throw Error(t(90));Ue(f),Dt(f,y)}}}break;case"textarea":tn(i,h);break;case"select":a=h.value,a!=null&&pr(i,!!h.multiple,a,!1)}},xa=dp,Un=_l;var Z1={usingClientEntryPoint:!1,Events:[Va,Ws,Xa,vr,mn,dp]},sc={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J1={bundleType:sc.bundleType,version:sc.version,rendererPackageName:sc.rendererPackageName,rendererConfig:sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=_i(i),i===null?null:i.stateNode},findFiberByHostInstance:sc.findFiberByHostInstance||Q1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{Hn=wd.inject(J1),mt=wd}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z1,Fn.createPortal=function(i,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wp(a))throw Error(t(200));return q1(i,a,null,h)},Fn.createRoot=function(i,a){if(!wp(i))throw Error(t(299));var h=!1,f="",y=jy;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=vp(i,1,!1,null,null,h,!1,f,y),i[Wt]=a.current,Ga(i.nodeType===8?i.parentNode:i),new xp(a)},Fn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=_i(a),i=i===null?null:i.stateNode,i},Fn.flushSync=function(i){return _l(i)},Fn.hydrate=function(i,a,h){if(!_d(a))throw Error(t(200));return xd(null,i,a,!0,h)},Fn.hydrateRoot=function(i,a,h){if(!wp(i))throw Error(t(405));var f=h!=null&&h.hydratedSources||null,y=!1,E="",k=jy;if(h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(k=h.onRecoverableError)),a=Gy(a,null,i,1,h??null,y,!1,E,k),i[Wt]=a.current,Ga(i),f)for(i=0;i<f.length;i++)h=f[i],y=h._getVersion,y=y(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,y]:a.mutableSourceEagerHydrationData.push(h,y);return new vd(a)},Fn.render=function(i,a,h){if(!_d(a))throw Error(t(200));return xd(null,i,a,!1,h)},Fn.unmountComponentAtNode=function(i){if(!_d(i))throw Error(t(40));return i._reactRootContainer?(_l(function(){xd(null,null,i,!1,function(){i._reactRootContainer=null,i[Wt]=null})}),!0):!1},Fn.unstable_batchedUpdates=dp,Fn.unstable_renderSubtreeIntoContainer=function(i,a,h,f){if(!_d(h))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return xd(i,a,h,!1,f)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var Zy;function k_(){if(Zy)return bp.exports;Zy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bp.exports=ow(),bp.exports}var Jy;function lw(){if(Jy)return Ed;Jy=1;var n=k_();return Ed.createRoot=n.createRoot,Ed.hydrateRoot=n.hydrateRoot,Ed}var uw=lw();const hw=()=>tt.jsx("header",{children:tt.jsx("div",{className:"py-4 bg-dark text-white",children:tt.jsx("div",{className:"container",children:tt.jsx("div",{className:"d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start",children:tt.jsx("h4",{children:"Responsive Image Gallery"})})})})});var Sc={exports:{}},Ul=(n=>(n[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",n))(Ul||{}),M_=(n=>(n[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS",n))(M_||{}),ng=(n=>(n[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",n))(ng||{}),rt=(n=>(n[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",n))(rt||{}),Wi=(n=>(n[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",n))(Wi||{}),Ae=(n=>(n[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",n))(Ae||{}),Ku=(n=>(n[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",n))(Ku||{}),Ke=(n=>(n[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",n))(Ke||{}),Fe=(n=>(n[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",n))(Fe||{}),la=(n=>(n[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",n))(la||{}),ca=(n=>(n[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",n))(ca||{}),Ps=(n=>(n[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",n))(Ps||{}),Bn=(n=>(n[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",n))(Bn||{}),bs=(n=>(n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",n))(bs||{}),Zg=(n=>(n[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",n))(Zg||{}),pi=(n=>(n.LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",n))(pi||{}),br=(n=>(n[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",n[n.COLOR=4]="COLOR",n))(br||{}),yr=(n=>(n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",n))(yr||{}),As=(n=>(n[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",n))(As||{});const cw={createCanvas:(n,e)=>{const t=document.createElement("canvas");return t.width=n,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(n,e)=>fetch(n,e),parseXML:n=>new DOMParser().parseFromString(n,"text/xml")},Be={ADAPTER:cw,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Cp=/iPhone/i,ev=/iPod/i,tv=/iPad/i,rv=/\biOS-universal(?:.+)Mac\b/i,Pp=/\bAndroid(?:.+)Mobile\b/i,nv=/Android/i,Lu=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Sd=/Silk/i,ia=/Windows Phone/i,iv=/\bWindows(?:.+)ARM\b/i,sv=/BlackBerry/i,av=/BB10/i,ov=/Opera Mini/i,lv=/\b(CriOS|Chrome)(?:.+)Mobile/i,uv=/Mobile(?:.+)Firefox\b/i,hv=function(n){return typeof n<"u"&&n.platform==="MacIntel"&&typeof n.maxTouchPoints=="number"&&n.maxTouchPoints>1&&typeof MSStream>"u"};function dw(n){return function(e){return e.test(n)}}function cv(n){var e={userAgent:"",platform:"",maxTouchPoints:0};!n&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof n=="string"?e.userAgent=n:n&&n.userAgent&&(e={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0});var t=e.userAgent,r=t.split("[FBAN");typeof r[1]<"u"&&(t=r[0]),r=t.split("Twitter"),typeof r[1]<"u"&&(t=r[0]);var s=dw(t),o={apple:{phone:s(Cp)&&!s(ia),ipod:s(ev),tablet:!s(Cp)&&(s(tv)||hv(e))&&!s(ia),universal:s(rv),device:(s(Cp)||s(ev)||s(tv)||s(rv)||hv(e))&&!s(ia)},amazon:{phone:s(Lu),tablet:!s(Lu)&&s(Sd),device:s(Lu)||s(Sd)},android:{phone:!s(ia)&&s(Lu)||!s(ia)&&s(Pp),tablet:!s(ia)&&!s(Lu)&&!s(Pp)&&(s(Sd)||s(nv)),device:!s(ia)&&(s(Lu)||s(Sd)||s(Pp)||s(nv))||s(/\bokhttp\b/i)},windows:{phone:s(ia),tablet:s(iv),device:s(ia)||s(iv)},other:{blackberry:s(sv),blackberry10:s(av),opera:s(ov),firefox:s(uv),chrome:s(lv),device:s(sv)||s(av)||s(ov)||s(uv)||s(lv)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const fw=cv.default??cv,ua=fw(globalThis.navigator);Be.RETINA_PREFIX=/@([0-9\.]+)x/;Be.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Rp={exports:{}},dv;function pw(){return dv||(dv=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function s(p,g,_){this.fn=p,this.context=g,this.once=_||!1}function o(p,g,_,x,S){if(typeof _!="function")throw new TypeError("The listener must be a function");var b=new s(_,x||p,S),T=t?t+g:g;return p._events[T]?p._events[T].fn?p._events[T]=[p._events[T],b]:p._events[T].push(b):(p._events[T]=b,p._eventsCount++),p}function c(p,g){--p._eventsCount===0?p._events=new r:delete p._events[g]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var g=[],_,x;if(this._eventsCount===0)return g;for(x in _=this._events)e.call(_,x)&&g.push(t?x.slice(1):x);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(_)):g},d.prototype.listeners=function(g){var _=t?t+g:g,x=this._events[_];if(!x)return[];if(x.fn)return[x.fn];for(var S=0,b=x.length,T=new Array(b);S<b;S++)T[S]=x[S].fn;return T},d.prototype.listenerCount=function(g){var _=t?t+g:g,x=this._events[_];return x?x.fn?1:x.length:0},d.prototype.emit=function(g,_,x,S,b,T){var R=t?t+g:g;if(!this._events[R])return!1;var P=this._events[R],M=arguments.length,z,F;if(P.fn){switch(P.once&&this.removeListener(g,P.fn,void 0,!0),M){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,_),!0;case 3:return P.fn.call(P.context,_,x),!0;case 4:return P.fn.call(P.context,_,x,S),!0;case 5:return P.fn.call(P.context,_,x,S,b),!0;case 6:return P.fn.call(P.context,_,x,S,b,T),!0}for(F=1,z=new Array(M-1);F<M;F++)z[F-1]=arguments[F];P.fn.apply(P.context,z)}else{var $=P.length,L;for(F=0;F<$;F++)switch(P[F].once&&this.removeListener(g,P[F].fn,void 0,!0),M){case 1:P[F].fn.call(P[F].context);break;case 2:P[F].fn.call(P[F].context,_);break;case 3:P[F].fn.call(P[F].context,_,x);break;case 4:P[F].fn.call(P[F].context,_,x,S);break;default:if(!z)for(L=1,z=new Array(M-1);L<M;L++)z[L-1]=arguments[L];P[F].fn.apply(P[F].context,z)}}return!0},d.prototype.on=function(g,_,x){return o(this,g,_,x,!1)},d.prototype.once=function(g,_,x){return o(this,g,_,x,!0)},d.prototype.removeListener=function(g,_,x,S){var b=t?t+g:g;if(!this._events[b])return this;if(!_)return c(this,b),this;var T=this._events[b];if(T.fn)T.fn===_&&(!S||T.once)&&(!x||T.context===x)&&c(this,b);else{for(var R=0,P=[],M=T.length;R<M;R++)(T[R].fn!==_||S&&!T[R].once||x&&T[R].context!==x)&&P.push(T[R]);P.length?this._events[b]=P.length===1?P[0]:P:c(this,b)}return this},d.prototype.removeAllListeners=function(g){var _;return g?(_=t?t+g:g,this._events[_]&&c(this,_)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=t,d.EventEmitter=d,n.exports=d}(Rp)),Rp.exports}var mw=pw();const Mc=ih(mw);var bd={exports:{}},fv;function gw(){if(fv)return bd.exports;fv=1,bd.exports=n,bd.exports.default=n;function n(B,G,C){C=C||2;var H=G&&G.length,N=H?G[0]*C:B.length,I=e(B,0,N,C,!0),U=[];if(!I||I.next===I.prev)return U;var X,ie,ue,pe,_e,be,Re;if(H&&(I=p(B,G,I,C)),B.length>80*C){X=ue=B[0],ie=pe=B[1];for(var ye=C;ye<N;ye+=C)_e=B[ye],be=B[ye+1],_e<X&&(X=_e),be<ie&&(ie=be),_e>ue&&(ue=_e),be>pe&&(pe=be);Re=Math.max(ue-X,pe-ie),Re=Re!==0?32767/Re:0}return r(I,U,C,X,ie,Re,0),U}function e(B,G,C,H,N){var I,U;if(N===Te(B,G,C,H)>0)for(I=G;I<C;I+=H)U=K(I,B[I],B[I+1],U);else for(I=C-H;I>=G;I-=H)U=K(I,B[I],B[I+1],U);return U&&$(U,U.next)&&(J(U),U=U.next),U}function t(B,G){if(!B)return B;G||(G=B);var C=B,H;do if(H=!1,!C.steiner&&($(C,C.next)||F(C.prev,C,C.next)===0)){if(J(C),C=G=C.prev,C===C.next)break;H=!0}else C=C.next;while(H||C!==G);return G}function r(B,G,C,H,N,I,U){if(B){!U&&I&&b(B,H,N,I);for(var X=B,ie,ue;B.prev!==B.next;){if(ie=B.prev,ue=B.next,I?o(B,H,N,I):s(B)){G.push(ie.i/C|0),G.push(B.i/C|0),G.push(ue.i/C|0),J(B),B=ue.next,X=ue.next;continue}if(B=ue,B===X){U?U===1?(B=c(t(B),G,C),r(B,G,C,H,N,I,2)):U===2&&d(B,G,C,H,N,I):r(t(B),G,C,H,N,I,1);break}}}}function s(B){var G=B.prev,C=B,H=B.next;if(F(G,C,H)>=0)return!1;for(var N=G.x,I=C.x,U=H.x,X=G.y,ie=C.y,ue=H.y,pe=N<I?N<U?N:U:I<U?I:U,_e=X<ie?X<ue?X:ue:ie<ue?ie:ue,be=N>I?N>U?N:U:I>U?I:U,Re=X>ie?X>ue?X:ue:ie>ue?ie:ue,ye=H.next;ye!==G;){if(ye.x>=pe&&ye.x<=be&&ye.y>=_e&&ye.y<=Re&&M(N,X,I,ie,U,ue,ye.x,ye.y)&&F(ye.prev,ye,ye.next)>=0)return!1;ye=ye.next}return!0}function o(B,G,C,H){var N=B.prev,I=B,U=B.next;if(F(N,I,U)>=0)return!1;for(var X=N.x,ie=I.x,ue=U.x,pe=N.y,_e=I.y,be=U.y,Re=X<ie?X<ue?X:ue:ie<ue?ie:ue,ye=pe<_e?pe<be?pe:be:_e<be?_e:be,ke=X>ie?X>ue?X:ue:ie>ue?ie:ue,Ue=pe>_e?pe>be?pe:be:_e>be?_e:be,$e=R(Re,ye,G,C,H),ut=R(ke,Ue,G,C,H),He=B.prevZ,We=B.nextZ;He&&He.z>=$e&&We&&We.z<=ut;){if(He.x>=Re&&He.x<=ke&&He.y>=ye&&He.y<=Ue&&He!==N&&He!==U&&M(X,pe,ie,_e,ue,be,He.x,He.y)&&F(He.prev,He,He.next)>=0||(He=He.prevZ,We.x>=Re&&We.x<=ke&&We.y>=ye&&We.y<=Ue&&We!==N&&We!==U&&M(X,pe,ie,_e,ue,be,We.x,We.y)&&F(We.prev,We,We.next)>=0))return!1;We=We.nextZ}for(;He&&He.z>=$e;){if(He.x>=Re&&He.x<=ke&&He.y>=ye&&He.y<=Ue&&He!==N&&He!==U&&M(X,pe,ie,_e,ue,be,He.x,He.y)&&F(He.prev,He,He.next)>=0)return!1;He=He.prevZ}for(;We&&We.z<=ut;){if(We.x>=Re&&We.x<=ke&&We.y>=ye&&We.y<=Ue&&We!==N&&We!==U&&M(X,pe,ie,_e,ue,be,We.x,We.y)&&F(We.prev,We,We.next)>=0)return!1;We=We.nextZ}return!0}function c(B,G,C){var H=B;do{var N=H.prev,I=H.next.next;!$(N,I)&&L(N,H,H.next,I)&&ce(N,I)&&ce(I,N)&&(G.push(N.i/C|0),G.push(H.i/C|0),G.push(I.i/C|0),J(H),J(H.next),H=B=I),H=H.next}while(H!==B);return t(H)}function d(B,G,C,H,N,I){var U=B;do{for(var X=U.next.next;X!==U.prev;){if(U.i!==X.i&&z(U,X)){var ie=Pe(U,X);U=t(U,U.next),ie=t(ie,ie.next),r(U,G,C,H,N,I,0),r(ie,G,C,H,N,I,0);return}X=X.next}U=U.next}while(U!==B)}function p(B,G,C,H){var N=[],I,U,X,ie,ue;for(I=0,U=G.length;I<U;I++)X=G[I]*H,ie=I<U-1?G[I+1]*H:B.length,ue=e(B,X,ie,H,!1),ue===ue.next&&(ue.steiner=!0),N.push(P(ue));for(N.sort(g),I=0;I<N.length;I++)C=_(N[I],C);return C}function g(B,G){return B.x-G.x}function _(B,G){var C=x(B,G);if(!C)return G;var H=Pe(C,B);return t(H,H.next),t(C,C.next)}function x(B,G){var C=G,H=B.x,N=B.y,I=-1/0,U;do{if(N<=C.y&&N>=C.next.y&&C.next.y!==C.y){var X=C.x+(N-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(X<=H&&X>I&&(I=X,U=C.x<C.next.x?C:C.next,X===H))return U}C=C.next}while(C!==G);if(!U)return null;var ie=U,ue=U.x,pe=U.y,_e=1/0,be;C=U;do H>=C.x&&C.x>=ue&&H!==C.x&&M(N<pe?H:I,N,ue,pe,N<pe?I:H,N,C.x,C.y)&&(be=Math.abs(N-C.y)/(H-C.x),ce(C,B)&&(be<_e||be===_e&&(C.x>U.x||C.x===U.x&&S(U,C)))&&(U=C,_e=be)),C=C.next;while(C!==ie);return U}function S(B,G){return F(B.prev,B,G.prev)<0&&F(G.next,B,B.next)<0}function b(B,G,C,H){var N=B;do N.z===0&&(N.z=R(N.x,N.y,G,C,H)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==B);N.prevZ.nextZ=null,N.prevZ=null,T(N)}function T(B){var G,C,H,N,I,U,X,ie,ue=1;do{for(C=B,B=null,I=null,U=0;C;){for(U++,H=C,X=0,G=0;G<ue&&(X++,H=H.nextZ,!!H);G++);for(ie=ue;X>0||ie>0&&H;)X!==0&&(ie===0||!H||C.z<=H.z)?(N=C,C=C.nextZ,X--):(N=H,H=H.nextZ,ie--),I?I.nextZ=N:B=N,N.prevZ=I,I=N;C=H}I.nextZ=null,ue*=2}while(U>1);return B}function R(B,G,C,H,N){return B=(B-C)*N|0,G=(G-H)*N|0,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,B|G<<1}function P(B){var G=B,C=B;do(G.x<C.x||G.x===C.x&&G.y<C.y)&&(C=G),G=G.next;while(G!==B);return C}function M(B,G,C,H,N,I,U,X){return(N-U)*(G-X)>=(B-U)*(I-X)&&(B-U)*(H-X)>=(C-U)*(G-X)&&(C-U)*(I-X)>=(N-U)*(H-X)}function z(B,G){return B.next.i!==G.i&&B.prev.i!==G.i&&!Z(B,G)&&(ce(B,G)&&ce(G,B)&&fe(B,G)&&(F(B.prev,B,G.prev)||F(B,G.prev,G))||$(B,G)&&F(B.prev,B,B.next)>0&&F(G.prev,G,G.next)>0)}function F(B,G,C){return(G.y-B.y)*(C.x-G.x)-(G.x-B.x)*(C.y-G.y)}function $(B,G){return B.x===G.x&&B.y===G.y}function L(B,G,C,H){var N=D(F(B,G,C)),I=D(F(B,G,H)),U=D(F(C,H,B)),X=D(F(C,H,G));return!!(N!==I&&U!==X||N===0&&Q(B,C,G)||I===0&&Q(B,H,G)||U===0&&Q(C,B,H)||X===0&&Q(C,G,H))}function Q(B,G,C){return G.x<=Math.max(B.x,C.x)&&G.x>=Math.min(B.x,C.x)&&G.y<=Math.max(B.y,C.y)&&G.y>=Math.min(B.y,C.y)}function D(B){return B>0?1:B<0?-1:0}function Z(B,G){var C=B;do{if(C.i!==B.i&&C.next.i!==B.i&&C.i!==G.i&&C.next.i!==G.i&&L(C,C.next,B,G))return!0;C=C.next}while(C!==B);return!1}function ce(B,G){return F(B.prev,B,B.next)<0?F(B,G,B.next)>=0&&F(B,B.prev,G)>=0:F(B,G,B.prev)<0||F(B,B.next,G)<0}function fe(B,G){var C=B,H=!1,N=(B.x+G.x)/2,I=(B.y+G.y)/2;do C.y>I!=C.next.y>I&&C.next.y!==C.y&&N<(C.next.x-C.x)*(I-C.y)/(C.next.y-C.y)+C.x&&(H=!H),C=C.next;while(C!==B);return H}function Pe(B,G){var C=new le(B.i,B.x,B.y),H=new le(G.i,G.x,G.y),N=B.next,I=G.prev;return B.next=G,G.prev=B,C.next=N,N.prev=C,H.next=C,C.prev=H,I.next=H,H.prev=I,H}function K(B,G,C,H){var N=new le(B,G,C);return H?(N.next=H.next,N.prev=H,H.next.prev=N,H.next=N):(N.prev=N,N.next=N),N}function J(B){B.next.prev=B.prev,B.prev.next=B.next,B.prevZ&&(B.prevZ.nextZ=B.nextZ),B.nextZ&&(B.nextZ.prevZ=B.prevZ)}function le(B,G,C){this.i=B,this.x=G,this.y=C,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}n.deviation=function(B,G,C,H){var N=G&&G.length,I=N?G[0]*C:B.length,U=Math.abs(Te(B,0,I,C));if(N)for(var X=0,ie=G.length;X<ie;X++){var ue=G[X]*C,pe=X<ie-1?G[X+1]*C:B.length;U-=Math.abs(Te(B,ue,pe,C))}var _e=0;for(X=0;X<H.length;X+=3){var be=H[X]*C,Re=H[X+1]*C,ye=H[X+2]*C;_e+=Math.abs((B[be]-B[ye])*(B[Re+1]-B[be+1])-(B[be]-B[Re])*(B[ye+1]-B[be+1]))}return U===0&&_e===0?0:Math.abs((_e-U)/U)};function Te(B,G,C,H){for(var N=0,I=G,U=C-H;I<C;I+=H)N+=(B[U]-B[I])*(B[I+1]+B[U+1]),U=I;return N}return n.flatten=function(B){for(var G=B[0][0].length,C={vertices:[],holes:[],dimensions:G},H=0,N=0;N<B.length;N++){for(var I=0;I<B[N].length;I++)for(var U=0;U<G;U++)C.vertices.push(B[N][I][U]);N>0&&(H+=B[N-1].length,C.holes.push(H))}return C},bd.exports}var yw=gw();const vw=ih(yw);var Sl={},dc={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var _w=dc.exports,pv;function xw(){return pv||(pv=1,function(n,e){(function(t){var r=e&&!e.nodeType&&e,s=n&&!n.nodeType&&n,o=typeof sf=="object"&&sf;(o.global===o||o.window===o||o.self===o)&&(t=o);var c,d=2147483647,p=36,g=1,_=26,x=38,S=700,b=72,T=128,R="-",P=/^xn--/,M=/[^\x20-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,F={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$=p-g,L=Math.floor,Q=String.fromCharCode,D;function Z(N){throw new RangeError(F[N])}function ce(N,I){for(var U=N.length,X=[];U--;)X[U]=I(N[U]);return X}function fe(N,I){var U=N.split("@"),X="";U.length>1&&(X=U[0]+"@",N=U[1]),N=N.replace(z,".");var ie=N.split("."),ue=ce(ie,I).join(".");return X+ue}function Pe(N){for(var I=[],U=0,X=N.length,ie,ue;U<X;)ie=N.charCodeAt(U++),ie>=55296&&ie<=56319&&U<X?(ue=N.charCodeAt(U++),(ue&64512)==56320?I.push(((ie&1023)<<10)+(ue&1023)+65536):(I.push(ie),U--)):I.push(ie);return I}function K(N){return ce(N,function(I){var U="";return I>65535&&(I-=65536,U+=Q(I>>>10&1023|55296),I=56320|I&1023),U+=Q(I),U}).join("")}function J(N){return N-48<10?N-22:N-65<26?N-65:N-97<26?N-97:p}function le(N,I){return N+22+75*(N<26)-((I!=0)<<5)}function Te(N,I,U){var X=0;for(N=U?L(N/S):N>>1,N+=L(N/I);N>$*_>>1;X+=p)N=L(N/$);return L(X+($+1)*N/(N+x))}function B(N){var I=[],U=N.length,X,ie=0,ue=T,pe=b,_e,be,Re,ye,ke,Ue,$e,ut,He;for(_e=N.lastIndexOf(R),_e<0&&(_e=0),be=0;be<_e;++be)N.charCodeAt(be)>=128&&Z("not-basic"),I.push(N.charCodeAt(be));for(Re=_e>0?_e+1:0;Re<U;){for(ye=ie,ke=1,Ue=p;Re>=U&&Z("invalid-input"),$e=J(N.charCodeAt(Re++)),($e>=p||$e>L((d-ie)/ke))&&Z("overflow"),ie+=$e*ke,ut=Ue<=pe?g:Ue>=pe+_?_:Ue-pe,!($e<ut);Ue+=p)He=p-ut,ke>L(d/He)&&Z("overflow"),ke*=He;X=I.length+1,pe=Te(ie-ye,X,ye==0),L(ie/X)>d-ue&&Z("overflow"),ue+=L(ie/X),ie%=X,I.splice(ie++,0,ue)}return K(I)}function G(N){var I,U,X,ie,ue,pe,_e,be,Re,ye,ke,Ue=[],$e,ut,He,We;for(N=Pe(N),$e=N.length,I=T,U=0,ue=b,pe=0;pe<$e;++pe)ke=N[pe],ke<128&&Ue.push(Q(ke));for(X=ie=Ue.length,ie&&Ue.push(R);X<$e;){for(_e=d,pe=0;pe<$e;++pe)ke=N[pe],ke>=I&&ke<_e&&(_e=ke);for(ut=X+1,_e-I>L((d-U)/ut)&&Z("overflow"),U+=(_e-I)*ut,I=_e,pe=0;pe<$e;++pe)if(ke=N[pe],ke<I&&++U>d&&Z("overflow"),ke==I){for(be=U,Re=p;ye=Re<=ue?g:Re>=ue+_?_:Re-ue,!(be<ye);Re+=p)We=be-ye,He=p-ye,Ue.push(Q(le(ye+We%He,0))),be=L(We/He);Ue.push(Q(le(be,0))),ue=Te(U,ut,X==ie),U=0,++X}++U,++I}return Ue.join("")}function C(N){return fe(N,function(I){return P.test(I)?B(I.slice(4).toLowerCase()):I})}function H(N){return fe(N,function(I){return M.test(I)?"xn--"+G(I):I})}if(c={version:"1.4.1",ucs2:{decode:Pe,encode:K},decode:B,encode:G,toASCII:H,toUnicode:C},r&&s)if(n.exports==r)s.exports=c;else for(D in c)c.hasOwnProperty(D)&&(r[D]=c[D]);else t.punycode=c})(_w)}(dc,dc.exports)),dc.exports}var Ip,mv;function sh(){return mv||(mv=1,Ip=TypeError),Ip}const ww={},Ew=Object.freeze(Object.defineProperty({__proto__:null,default:ww},Symbol.toStringTag,{value:"Module"})),Sw=I_(Ew);var kp,gv;function bf(){if(gv)return kp;gv=1;var n=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=n&&e&&typeof e.get=="function"?e.get:null,r=n&&Map.prototype.forEach,s=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&o&&typeof o.get=="function"?o.get:null,d=s&&Set.prototype.forEach,p=typeof WeakMap=="function"&&WeakMap.prototype,g=p?WeakMap.prototype.has:null,_=typeof WeakSet=="function"&&WeakSet.prototype,x=_?WeakSet.prototype.has:null,S=typeof WeakRef=="function"&&WeakRef.prototype,b=S?WeakRef.prototype.deref:null,T=Boolean.prototype.valueOf,R=Object.prototype.toString,P=Function.prototype.toString,M=String.prototype.match,z=String.prototype.slice,F=String.prototype.replace,$=String.prototype.toUpperCase,L=String.prototype.toLowerCase,Q=RegExp.prototype.test,D=Array.prototype.concat,Z=Array.prototype.join,ce=Array.prototype.slice,fe=Math.floor,Pe=typeof BigInt=="function"?BigInt.prototype.valueOf:null,K=Object.getOwnPropertySymbols,J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,le=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Te=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===le||!0)?Symbol.toStringTag:null,B=Object.prototype.propertyIsEnumerable,G=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(re){return re.__proto__}:null);function C(re,se){if(re===1/0||re===-1/0||re!==re||re&&re>-1e3&&re<1e3||Q.call(/e/,se))return se;var ct=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof re=="number"){var wt=re<0?-fe(-re):fe(re);if(wt!==re){var bt=String(wt),nt=z.call(se,bt.length+1);return F.call(bt,ct,"$&_")+"."+F.call(F.call(nt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return F.call(se,ct,"$&_")}var H=Sw,N=H.custom,I=ut(N)?N:null,U={__proto__:null,double:'"',single:"'"},X={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};kp=function re(se,ct,wt,bt){var nt=ct||{};if(Dt(nt,"quoteStyle")&&!Dt(U,nt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Dt(nt,"maxStringLength")&&(typeof nt.maxStringLength=="number"?nt.maxStringLength<0&&nt.maxStringLength!==1/0:nt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Fr=Dt(nt,"customInspect")?nt.customInspect:!0;if(typeof Fr!="boolean"&&Fr!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Dt(nt,"indent")&&nt.indent!==null&&nt.indent!=="	"&&!(parseInt(nt.indent,10)===nt.indent&&nt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Dt(nt,"numericSeparator")&&typeof nt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ri=nt.numericSeparator;if(typeof se>"u")return"undefined";if(se===null)return"null";if(typeof se=="boolean")return se?"true":"false";if(typeof se=="string")return ga(se,nt);if(typeof se=="number"){if(se===0)return 1/0/se>0?"0":"-0";var vr=String(se);return ri?C(se,vr):vr}if(typeof se=="bigint"){var mn=String(se)+"n";return ri?C(se,mn):mn}var xa=typeof nt.depth>"u"?5:nt.depth;if(typeof wt>"u"&&(wt=0),wt>=xa&&xa>0&&typeof se=="object")return _e(se)?"[Array]":"[Object]";var Un=$l(nt,wt);if(typeof bt>"u")bt=[];else if(fr(bt,se)>=0)return"[Circular]";function Tr(_i,Ns,Yl){if(Ns&&(bt=ce.call(bt),bt.push(Ns)),Yl){var Po={depth:nt.depth};return Dt(nt,"quoteStyle")&&(Po.quoteStyle=nt.quoteStyle),re(_i,Po,wt+1,bt)}return re(_i,nt,wt+1,bt)}if(typeof se=="function"&&!Re(se)){var wa=ei(se),Zi=_a(se,Tr);return"[Function"+(wa?": "+wa:" (anonymous)")+"]"+(Zi.length>0?" { "+Z.call(Zi,", ")+" }":"")}if(ut(se)){var Ea=le?F.call(String(se),/^(Symbol\(.*\))_[^)]*$/,"$1"):J.call(se);return typeof se=="object"&&!le?Qi(Ea):Ea}if(jl(se)){for(var zn="<"+L.call(String(se.nodeName)),Sa=se.attributes||[],gn=0;gn<Sa.length;gn++)zn+=" "+Sa[gn].name+"="+ie(ue(Sa[gn].value),"double",nt);return zn+=">",se.childNodes&&se.childNodes.length&&(zn+="..."),zn+="</"+L.call(String(se.nodeName))+">",zn}if(_e(se)){if(se.length===0)return"[]";var Ji=_a(se,Tr);return Un&&!oh(Ji)?"["+va(Ji,Un)+"]":"[ "+Z.call(Ji,", ")+" ]"}if(ye(se)){var es=_a(se,Tr);return!("cause"in Error.prototype)&&"cause"in se&&!B.call(se,"cause")?"{ ["+String(se)+"] "+Z.call(D.call("[cause]: "+Tr(se.cause),es),", ")+" }":es.length===0?"["+String(se)+"]":"{ ["+String(se)+"] "+Z.call(es,", ")+" }"}if(typeof se=="object"&&Fr){if(I&&typeof se[I]=="function"&&H)return H(se,{depth:xa-wt});if(Fr!=="symbol"&&typeof se.inspect=="function")return se.inspect()}if(pr(se)){var vi=[];return r&&r.call(se,function(_i,Ns){vi.push(Tr(Ns,se,!0)+" => "+Tr(_i,se))}),Ki("Map",t.call(se),vi,Un)}if(tn(se)){var Wl=[];return d&&d.call(se,function(_i){Wl.push(Tr(_i,se))}),Ki("Set",c.call(se),Wl,Un)}if(ti(se))return yi("WeakMap");if(Hl(se))return yi("WeakSet");if(gi(se))return yi("WeakRef");if(Ue(se))return Qi(Tr(Number(se)));if(He(se))return Qi(Tr(Pe.call(se)));if($e(se))return Qi(T.call(se));if(ke(se))return Qi(Tr(String(se)));if(typeof window<"u"&&se===window)return"{ [object Window] }";if(typeof globalThis<"u"&&se===globalThis||typeof sf<"u"&&se===sf)return"{ [object globalThis] }";if(!be(se)&&!Re(se)){var To=_a(se,Tr),Vl=G?G(se)===Object.prototype:se instanceof Object||se.constructor===Object,Gn=se instanceof Object?"":"null prototype",Ao=!Vl&&Te&&Object(se)===se&&Te in se?z.call(jt(se),8,-1):Gn?"Object":"",Xl=Vl||typeof se.constructor!="function"?"":se.constructor.name?se.constructor.name+" ":"",Co=Xl+(Ao||Gn?"["+Z.call(D.call([],Ao||[],Gn||[]),": ")+"] ":"");return To.length===0?Co+"{}":Un?Co+"{"+va(To,Un)+"}":Co+"{ "+Z.call(To,", ")+" }"}return String(se)};function ie(re,se,ct){var wt=ct.quoteStyle||se,bt=U[wt];return bt+re+bt}function ue(re){return F.call(String(re),/"/g,"&quot;")}function pe(re){return!Te||!(typeof re=="object"&&(Te in re||typeof re[Te]<"u"))}function _e(re){return jt(re)==="[object Array]"&&pe(re)}function be(re){return jt(re)==="[object Date]"&&pe(re)}function Re(re){return jt(re)==="[object RegExp]"&&pe(re)}function ye(re){return jt(re)==="[object Error]"&&pe(re)}function ke(re){return jt(re)==="[object String]"&&pe(re)}function Ue(re){return jt(re)==="[object Number]"&&pe(re)}function $e(re){return jt(re)==="[object Boolean]"&&pe(re)}function ut(re){if(le)return re&&typeof re=="object"&&re instanceof Symbol;if(typeof re=="symbol")return!0;if(!re||typeof re!="object"||!J)return!1;try{return J.call(re),!0}catch{}return!1}function He(re){if(!re||typeof re!="object"||!Pe)return!1;try{return Pe.call(re),!0}catch{}return!1}var We=Object.prototype.hasOwnProperty||function(re){return re in this};function Dt(re,se){return We.call(re,se)}function jt(re){return R.call(re)}function ei(re){if(re.name)return re.name;var se=M.call(P.call(re),/^function\s*([\w$]+)/);return se?se[1]:null}function fr(re,se){if(re.indexOf)return re.indexOf(se);for(var ct=0,wt=re.length;ct<wt;ct++)if(re[ct]===se)return ct;return-1}function pr(re){if(!t||!re||typeof re!="object")return!1;try{t.call(re);try{c.call(re)}catch{return!0}return re instanceof Map}catch{}return!1}function ti(re){if(!g||!re||typeof re!="object")return!1;try{g.call(re,g);try{x.call(re,x)}catch{return!0}return re instanceof WeakMap}catch{}return!1}function gi(re){if(!b||!re||typeof re!="object")return!1;try{return b.call(re),!0}catch{}return!1}function tn(re){if(!c||!re||typeof re!="object")return!1;try{c.call(re);try{t.call(re)}catch{return!0}return re instanceof Set}catch{}return!1}function Hl(re){if(!x||!re||typeof re!="object")return!1;try{x.call(re,x);try{g.call(re,g)}catch{return!0}return re instanceof WeakSet}catch{}return!1}function jl(re){return!re||typeof re!="object"?!1:typeof HTMLElement<"u"&&re instanceof HTMLElement?!0:typeof re.nodeName=="string"&&typeof re.getAttribute=="function"}function ga(re,se){if(re.length>se.maxStringLength){var ct=re.length-se.maxStringLength,wt="... "+ct+" more character"+(ct>1?"s":"");return ga(z.call(re,0,se.maxStringLength),se)+wt}var bt=X[se.quoteStyle||"single"];bt.lastIndex=0;var nt=F.call(F.call(re,bt,"\\$1"),/[\x00-\x1f]/g,ya);return ie(nt,"single",se)}function ya(re){var se=re.charCodeAt(0),ct={8:"b",9:"t",10:"n",12:"f",13:"r"}[se];return ct?"\\"+ct:"\\x"+(se<16?"0":"")+$.call(se.toString(16))}function Qi(re){return"Object("+re+")"}function yi(re){return re+" { ? }"}function Ki(re,se,ct,wt){var bt=wt?va(ct,wt):Z.call(ct,", ");return re+" ("+se+") {"+bt+"}"}function oh(re){for(var se=0;se<re.length;se++)if(fr(re[se],`
`)>=0)return!1;return!0}function $l(re,se){var ct;if(re.indent==="	")ct="	";else if(typeof re.indent=="number"&&re.indent>0)ct=Z.call(Array(re.indent+1)," ");else return null;return{base:ct,prev:Z.call(Array(se+1),ct)}}function va(re,se){if(re.length===0)return"";var ct=`
`+se.prev+se.base;return ct+Z.call(re,","+ct)+`
`+se.prev}function _a(re,se){var ct=_e(re),wt=[];if(ct){wt.length=re.length;for(var bt=0;bt<re.length;bt++)wt[bt]=Dt(re,bt)?se(re[bt],re):""}var nt=typeof K=="function"?K(re):[],Fr;if(le){Fr={};for(var ri=0;ri<nt.length;ri++)Fr["$"+nt[ri]]=nt[ri]}for(var vr in re)Dt(re,vr)&&(ct&&String(Number(vr))===vr&&vr<re.length||le&&Fr["$"+vr]instanceof Symbol||(Q.call(/[^\w$]/,vr)?wt.push(se(vr,re)+": "+se(re[vr],re)):wt.push(vr+": "+se(re[vr],re))));if(typeof K=="function")for(var mn=0;mn<nt.length;mn++)B.call(re,nt[mn])&&wt.push("["+se(nt[mn])+"]: "+se(re[nt[mn]],re));return wt}return kp}var Mp,yv;function bw(){if(yv)return Mp;yv=1;var n=bf(),e=sh(),t=function(d,p,g){for(var _=d,x;(x=_.next)!=null;_=x)if(x.key===p)return _.next=x.next,g||(x.next=d.next,d.next=x),x},r=function(d,p){if(d){var g=t(d,p);return g&&g.value}},s=function(d,p,g){var _=t(d,p);_?_.value=g:d.next={key:p,next:d.next,value:g}},o=function(d,p){return d?!!t(d,p):!1},c=function(d,p){if(d)return t(d,p,!0)};return Mp=function(){var p,g={assert:function(_){if(!g.has(_))throw new e("Side channel does not contain "+n(_))},delete:function(_){var x=p&&p.next,S=c(p,_);return S&&x&&x===S&&(p=void 0),!!S},get:function(_){return r(p,_)},has:function(_){return o(p,_)},set:function(_,x){p||(p={next:void 0}),s(p,_,x)}};return g},Mp}var Np,vv;function N_(){return vv||(vv=1,Np=Object),Np}var Dp,_v;function Tw(){return _v||(_v=1,Dp=Error),Dp}var Op,xv;function Aw(){return xv||(xv=1,Op=EvalError),Op}var Fp,wv;function Cw(){return wv||(wv=1,Fp=RangeError),Fp}var Bp,Ev;function Pw(){return Ev||(Ev=1,Bp=ReferenceError),Bp}var Lp,Sv;function Rw(){return Sv||(Sv=1,Lp=SyntaxError),Lp}var Up,bv;function Iw(){return bv||(bv=1,Up=URIError),Up}var zp,Tv;function kw(){return Tv||(Tv=1,zp=Math.abs),zp}var Gp,Av;function Mw(){return Av||(Av=1,Gp=Math.floor),Gp}var Hp,Cv;function Nw(){return Cv||(Cv=1,Hp=Math.max),Hp}var jp,Pv;function Dw(){return Pv||(Pv=1,jp=Math.min),jp}var $p,Rv;function Ow(){return Rv||(Rv=1,$p=Math.pow),$p}var Wp,Iv;function Fw(){return Iv||(Iv=1,Wp=Math.round),Wp}var Vp,kv;function Bw(){return kv||(kv=1,Vp=Number.isNaN||function(e){return e!==e}),Vp}var Xp,Mv;function Lw(){if(Mv)return Xp;Mv=1;var n=Bw();return Xp=function(t){return n(t)||t===0?t:t<0?-1:1},Xp}var Yp,Nv;function Uw(){return Nv||(Nv=1,Yp=Object.getOwnPropertyDescriptor),Yp}var qp,Dv;function D_(){if(Dv)return qp;Dv=1;var n=Uw();if(n)try{n([],"length")}catch{n=null}return qp=n,qp}var Qp,Ov;function zw(){if(Ov)return Qp;Ov=1;var n=Object.defineProperty||!1;if(n)try{n({},"a",{value:1})}catch{n=!1}return Qp=n,Qp}var Kp,Fv;function Gw(){return Fv||(Fv=1,Kp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var s=42;e[t]=s;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,t);if(d.value!==s||d.enumerable!==!0)return!1}return!0}),Kp}var Zp,Bv;function Hw(){if(Bv)return Zp;Bv=1;var n=typeof Symbol<"u"&&Symbol,e=Gw();return Zp=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Zp}var Jp,Lv;function O_(){return Lv||(Lv=1,Jp=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Jp}var em,Uv;function F_(){if(Uv)return em;Uv=1;var n=N_();return em=n.getPrototypeOf||null,em}var tm,zv;function jw(){if(zv)return tm;zv=1;var n="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,r="[object Function]",s=function(p,g){for(var _=[],x=0;x<p.length;x+=1)_[x]=p[x];for(var S=0;S<g.length;S+=1)_[S+p.length]=g[S];return _},o=function(p,g){for(var _=[],x=g,S=0;x<p.length;x+=1,S+=1)_[S]=p[x];return _},c=function(d,p){for(var g="",_=0;_<d.length;_+=1)g+=d[_],_+1<d.length&&(g+=p);return g};return tm=function(p){var g=this;if(typeof g!="function"||e.apply(g)!==r)throw new TypeError(n+g);for(var _=o(arguments,1),x,S=function(){if(this instanceof x){var M=g.apply(this,s(_,arguments));return Object(M)===M?M:this}return g.apply(p,s(_,arguments))},b=t(0,g.length-_.length),T=[],R=0;R<b;R++)T[R]="$"+R;if(x=Function("binder","return function ("+c(T,",")+"){ return binder.apply(this,arguments); }")(S),g.prototype){var P=function(){};P.prototype=g.prototype,x.prototype=new P,P.prototype=null}return x},tm}var rm,Gv;function Tf(){if(Gv)return rm;Gv=1;var n=jw();return rm=Function.prototype.bind||n,rm}var nm,Hv;function Jg(){return Hv||(Hv=1,nm=Function.prototype.call),nm}var im,jv;function B_(){return jv||(jv=1,im=Function.prototype.apply),im}var sm,$v;function $w(){return $v||($v=1,sm=typeof Reflect<"u"&&Reflect&&Reflect.apply),sm}var am,Wv;function Ww(){if(Wv)return am;Wv=1;var n=Tf(),e=B_(),t=Jg(),r=$w();return am=r||n.call(t,e),am}var om,Vv;function L_(){if(Vv)return om;Vv=1;var n=Tf(),e=sh(),t=Jg(),r=Ww();return om=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return r(n,t,o)},om}var lm,Xv;function Vw(){if(Xv)return lm;Xv=1;var n=L_(),e=D_(),t;try{t=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var r=!!t&&e&&e(Object.prototype,"__proto__"),s=Object,o=s.getPrototypeOf;return lm=r&&typeof r.get=="function"?n([r.get]):typeof o=="function"?function(d){return o(d==null?d:s(d))}:!1,lm}var um,Yv;function Xw(){if(Yv)return um;Yv=1;var n=O_(),e=F_(),t=Vw();return um=n?function(s){return n(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:t?function(s){return t(s)}:null,um}var hm,qv;function Yw(){if(qv)return hm;qv=1;var n=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Tf();return hm=t.call(n,e),hm}var cm,Qv;function ey(){if(Qv)return cm;Qv=1;var n,e=N_(),t=Tw(),r=Aw(),s=Cw(),o=Pw(),c=Rw(),d=sh(),p=Iw(),g=kw(),_=Mw(),x=Nw(),S=Dw(),b=Ow(),T=Fw(),R=Lw(),P=Function,M=function(Re){try{return P('"use strict"; return ('+Re+").constructor;")()}catch{}},z=D_(),F=zw(),$=function(){throw new d},L=z?function(){try{return arguments.callee,$}catch{try{return z(arguments,"callee").get}catch{return $}}}():$,Q=Hw()(),D=Xw(),Z=F_(),ce=O_(),fe=B_(),Pe=Jg(),K={},J=typeof Uint8Array>"u"||!D?n:D(Uint8Array),le={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":Q&&D?D([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":K,"%AsyncGenerator%":K,"%AsyncGeneratorFunction%":K,"%AsyncIteratorPrototype%":K,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":P,"%GeneratorFunction%":K,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Q&&D?D(D([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Q||!D?n:D(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":z,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":s,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Q||!D?n:D(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Q&&D?D(""[Symbol.iterator]()):n,"%Symbol%":Q?Symbol:n,"%SyntaxError%":c,"%ThrowTypeError%":L,"%TypedArray%":J,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet,"%Function.prototype.call%":Pe,"%Function.prototype.apply%":fe,"%Object.defineProperty%":F,"%Object.getPrototypeOf%":Z,"%Math.abs%":g,"%Math.floor%":_,"%Math.max%":x,"%Math.min%":S,"%Math.pow%":b,"%Math.round%":T,"%Math.sign%":R,"%Reflect.getPrototypeOf%":ce};if(D)try{null.error}catch(Re){var Te=D(D(Re));le["%Error.prototype%"]=Te}var B=function Re(ye){var ke;if(ye==="%AsyncFunction%")ke=M("async function () {}");else if(ye==="%GeneratorFunction%")ke=M("function* () {}");else if(ye==="%AsyncGeneratorFunction%")ke=M("async function* () {}");else if(ye==="%AsyncGenerator%"){var Ue=Re("%AsyncGeneratorFunction%");Ue&&(ke=Ue.prototype)}else if(ye==="%AsyncIteratorPrototype%"){var $e=Re("%AsyncGenerator%");$e&&D&&(ke=D($e.prototype))}return le[ye]=ke,ke},G={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=Tf(),H=Yw(),N=C.call(Pe,Array.prototype.concat),I=C.call(fe,Array.prototype.splice),U=C.call(Pe,String.prototype.replace),X=C.call(Pe,String.prototype.slice),ie=C.call(Pe,RegExp.prototype.exec),ue=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,pe=/\\(\\)?/g,_e=function(ye){var ke=X(ye,0,1),Ue=X(ye,-1);if(ke==="%"&&Ue!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(Ue==="%"&&ke!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var $e=[];return U(ye,ue,function(ut,He,We,Dt){$e[$e.length]=We?U(Dt,pe,"$1"):He||ut}),$e},be=function(ye,ke){var Ue=ye,$e;if(H(G,Ue)&&($e=G[Ue],Ue="%"+$e[0]+"%"),H(le,Ue)){var ut=le[Ue];if(ut===K&&(ut=B(Ue)),typeof ut>"u"&&!ke)throw new d("intrinsic "+ye+" exists, but is not available. Please file an issue!");return{alias:$e,name:Ue,value:ut}}throw new c("intrinsic "+ye+" does not exist!")};return cm=function(ye,ke){if(typeof ye!="string"||ye.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ke!="boolean")throw new d('"allowMissing" argument must be a boolean');if(ie(/^%?[^%]*%?$/,ye)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=_e(ye),$e=Ue.length>0?Ue[0]:"",ut=be("%"+$e+"%",ke),He=ut.name,We=ut.value,Dt=!1,jt=ut.alias;jt&&($e=jt[0],I(Ue,N([0,1],jt)));for(var ei=1,fr=!0;ei<Ue.length;ei+=1){var pr=Ue[ei],ti=X(pr,0,1),gi=X(pr,-1);if((ti==='"'||ti==="'"||ti==="`"||gi==='"'||gi==="'"||gi==="`")&&ti!==gi)throw new c("property names with quotes must have matching quotes");if((pr==="constructor"||!fr)&&(Dt=!0),$e+="."+pr,He="%"+$e+"%",H(le,He))We=le[He];else if(We!=null){if(!(pr in We)){if(!ke)throw new d("base intrinsic for "+ye+" exists, but the property is not available.");return}if(z&&ei+1>=Ue.length){var tn=z(We,pr);fr=!!tn,fr&&"get"in tn&&!("originalValue"in tn.get)?We=tn.get:We=We[pr]}else fr=H(We,pr),We=We[pr];fr&&!Dt&&(le[He]=We)}}return We},cm}var dm,Kv;function U_(){if(Kv)return dm;Kv=1;var n=ey(),e=L_(),t=e([n("%String.prototype.indexOf%")]);return dm=function(s,o){var c=n(s,!!o);return typeof c=="function"&&t(s,".prototype.")>-1?e([c]):c},dm}var fm,Zv;function z_(){if(Zv)return fm;Zv=1;var n=ey(),e=U_(),t=bf(),r=sh(),s=n("%Map%",!0),o=e("Map.prototype.get",!0),c=e("Map.prototype.set",!0),d=e("Map.prototype.has",!0),p=e("Map.prototype.delete",!0),g=e("Map.prototype.size",!0);return fm=!!s&&function(){var x,S={assert:function(b){if(!S.has(b))throw new r("Side channel does not contain "+t(b))},delete:function(b){if(x){var T=p(x,b);return g(x)===0&&(x=void 0),T}return!1},get:function(b){if(x)return o(x,b)},has:function(b){return x?d(x,b):!1},set:function(b,T){x||(x=new s),c(x,b,T)}};return S},fm}var pm,Jv;function qw(){if(Jv)return pm;Jv=1;var n=ey(),e=U_(),t=bf(),r=z_(),s=sh(),o=n("%WeakMap%",!0),c=e("WeakMap.prototype.get",!0),d=e("WeakMap.prototype.set",!0),p=e("WeakMap.prototype.has",!0),g=e("WeakMap.prototype.delete",!0);return pm=o?function(){var x,S,b={assert:function(T){if(!b.has(T))throw new s("Side channel does not contain "+t(T))},delete:function(T){if(o&&T&&(typeof T=="object"||typeof T=="function")){if(x)return g(x,T)}else if(r&&S)return S.delete(T);return!1},get:function(T){return o&&T&&(typeof T=="object"||typeof T=="function")&&x?c(x,T):S&&S.get(T)},has:function(T){return o&&T&&(typeof T=="object"||typeof T=="function")&&x?p(x,T):!!S&&S.has(T)},set:function(T,R){o&&T&&(typeof T=="object"||typeof T=="function")?(x||(x=new o),d(x,T,R)):r&&(S||(S=r()),S.set(T,R))}};return b}:r,pm}var mm,e0;function Qw(){if(e0)return mm;e0=1;var n=sh(),e=bf(),t=bw(),r=z_(),s=qw(),o=s||r||t;return mm=function(){var d,p={assert:function(g){if(!p.has(g))throw new n("Side channel does not contain "+e(g))},delete:function(g){return!!d&&d.delete(g)},get:function(g){return d&&d.get(g)},has:function(g){return!!d&&d.has(g)},set:function(g,_){d||(d=o()),d.set(g,_)}};return p},mm}var gm,t0;function ty(){if(t0)return gm;t0=1;var n=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return gm={default:t.RFC3986,formatters:{RFC1738:function(r){return n.call(r,e,"+")},RFC3986:function(r){return String(r)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},gm}var ym,r0;function G_(){if(r0)return ym;r0=1;var n=ty(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r=function(){for(var P=[],M=0;M<256;++M)P.push("%"+((M<16?"0":"")+M.toString(16)).toUpperCase());return P}(),s=function(M){for(;M.length>1;){var z=M.pop(),F=z.obj[z.prop];if(t(F)){for(var $=[],L=0;L<F.length;++L)typeof F[L]<"u"&&$.push(F[L]);z.obj[z.prop]=$}}},o=function(M,z){for(var F=z&&z.plainObjects?{__proto__:null}:{},$=0;$<M.length;++$)typeof M[$]<"u"&&(F[$]=M[$]);return F},c=function P(M,z,F){if(!z)return M;if(typeof z!="object"&&typeof z!="function"){if(t(M))M.push(z);else if(M&&typeof M=="object")(F&&(F.plainObjects||F.allowPrototypes)||!e.call(Object.prototype,z))&&(M[z]=!0);else return[M,z];return M}if(!M||typeof M!="object")return[M].concat(z);var $=M;return t(M)&&!t(z)&&($=o(M,F)),t(M)&&t(z)?(z.forEach(function(L,Q){if(e.call(M,Q)){var D=M[Q];D&&typeof D=="object"&&L&&typeof L=="object"?M[Q]=P(D,L,F):M.push(L)}else M[Q]=L}),M):Object.keys(z).reduce(function(L,Q){var D=z[Q];return e.call(L,Q)?L[Q]=P(L[Q],D,F):L[Q]=D,L},$)},d=function(M,z){return Object.keys(z).reduce(function(F,$){return F[$]=z[$],F},M)},p=function(P,M,z){var F=P.replace(/\+/g," ");if(z==="iso-8859-1")return F.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(F)}catch{return F}},g=1024,_=function(M,z,F,$,L){if(M.length===0)return M;var Q=M;if(typeof M=="symbol"?Q=Symbol.prototype.toString.call(M):typeof M!="string"&&(Q=String(M)),F==="iso-8859-1")return escape(Q).replace(/%u[0-9a-f]{4}/gi,function(J){return"%26%23"+parseInt(J.slice(2),16)+"%3B"});for(var D="",Z=0;Z<Q.length;Z+=g){for(var ce=Q.length>=g?Q.slice(Z,Z+g):Q,fe=[],Pe=0;Pe<ce.length;++Pe){var K=ce.charCodeAt(Pe);if(K===45||K===46||K===95||K===126||K>=48&&K<=57||K>=65&&K<=90||K>=97&&K<=122||L===n.RFC1738&&(K===40||K===41)){fe[fe.length]=ce.charAt(Pe);continue}if(K<128){fe[fe.length]=r[K];continue}if(K<2048){fe[fe.length]=r[192|K>>6]+r[128|K&63];continue}if(K<55296||K>=57344){fe[fe.length]=r[224|K>>12]+r[128|K>>6&63]+r[128|K&63];continue}Pe+=1,K=65536+((K&1023)<<10|ce.charCodeAt(Pe)&1023),fe[fe.length]=r[240|K>>18]+r[128|K>>12&63]+r[128|K>>6&63]+r[128|K&63]}D+=fe.join("")}return D},x=function(M){for(var z=[{obj:{o:M},prop:"o"}],F=[],$=0;$<z.length;++$)for(var L=z[$],Q=L.obj[L.prop],D=Object.keys(Q),Z=0;Z<D.length;++Z){var ce=D[Z],fe=Q[ce];typeof fe=="object"&&fe!==null&&F.indexOf(fe)===-1&&(z.push({obj:Q,prop:ce}),F.push(fe))}return s(z),M},S=function(M){return Object.prototype.toString.call(M)==="[object RegExp]"},b=function(M){return!M||typeof M!="object"?!1:!!(M.constructor&&M.constructor.isBuffer&&M.constructor.isBuffer(M))},T=function(M,z){return[].concat(M,z)},R=function(M,z){if(t(M)){for(var F=[],$=0;$<M.length;$+=1)F.push(z(M[$]));return F}return z(M)};return ym={arrayToObject:o,assign:d,combine:T,compact:x,decode:p,encode:_,isBuffer:b,isRegExp:S,maybeMap:R,merge:c},ym}var vm,n0;function Kw(){if(n0)return vm;n0=1;var n=Qw(),e=G_(),t=ty(),r=Object.prototype.hasOwnProperty,s={brackets:function(P){return P+"[]"},comma:"comma",indices:function(P,M){return P+"["+M+"]"},repeat:function(P){return P}},o=Array.isArray,c=Array.prototype.push,d=function(R,P){c.apply(R,o(P)?P:[P])},p=Date.prototype.toISOString,g=t.default,_={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:g,formatter:t.formatters[g],indices:!1,serializeDate:function(P){return p.call(P)},skipNulls:!1,strictNullHandling:!1},x=function(P){return typeof P=="string"||typeof P=="number"||typeof P=="boolean"||typeof P=="symbol"||typeof P=="bigint"},S={},b=function R(P,M,z,F,$,L,Q,D,Z,ce,fe,Pe,K,J,le,Te,B,G){for(var C=P,H=G,N=0,I=!1;(H=H.get(S))!==void 0&&!I;){var U=H.get(P);if(N+=1,typeof U<"u"){if(U===N)throw new RangeError("Cyclic object value");I=!0}typeof H.get(S)>"u"&&(N=0)}if(typeof ce=="function"?C=ce(M,C):C instanceof Date?C=K(C):z==="comma"&&o(C)&&(C=e.maybeMap(C,function(He){return He instanceof Date?K(He):He})),C===null){if(L)return Z&&!Te?Z(M,_.encoder,B,"key",J):M;C=""}if(x(C)||e.isBuffer(C)){if(Z){var X=Te?M:Z(M,_.encoder,B,"key",J);return[le(X)+"="+le(Z(C,_.encoder,B,"value",J))]}return[le(M)+"="+le(String(C))]}var ie=[];if(typeof C>"u")return ie;var ue;if(z==="comma"&&o(C))Te&&Z&&(C=e.maybeMap(C,Z)),ue=[{value:C.length>0?C.join(",")||null:void 0}];else if(o(ce))ue=ce;else{var pe=Object.keys(C);ue=fe?pe.sort(fe):pe}var _e=D?String(M).replace(/\./g,"%2E"):String(M),be=F&&o(C)&&C.length===1?_e+"[]":_e;if($&&o(C)&&C.length===0)return be+"[]";for(var Re=0;Re<ue.length;++Re){var ye=ue[Re],ke=typeof ye=="object"&&ye&&typeof ye.value<"u"?ye.value:C[ye];if(!(Q&&ke===null)){var Ue=Pe&&D?String(ye).replace(/\./g,"%2E"):String(ye),$e=o(C)?typeof z=="function"?z(be,Ue):be:be+(Pe?"."+Ue:"["+Ue+"]");G.set(P,N);var ut=n();ut.set(S,G),d(ie,R(ke,$e,z,F,$,L,Q,D,z==="comma"&&Te&&o(C)?null:Z,ce,fe,Pe,K,J,le,Te,B,ut))}}return ie},T=function(P){if(!P)return _;if(typeof P.allowEmptyArrays<"u"&&typeof P.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof P.encodeDotInKeys<"u"&&typeof P.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(P.encoder!==null&&typeof P.encoder<"u"&&typeof P.encoder!="function")throw new TypeError("Encoder has to be a function.");var M=P.charset||_.charset;if(typeof P.charset<"u"&&P.charset!=="utf-8"&&P.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var z=t.default;if(typeof P.format<"u"){if(!r.call(t.formatters,P.format))throw new TypeError("Unknown format option provided.");z=P.format}var F=t.formatters[z],$=_.filter;(typeof P.filter=="function"||o(P.filter))&&($=P.filter);var L;if(P.arrayFormat in s?L=P.arrayFormat:"indices"in P?L=P.indices?"indices":"repeat":L=_.arrayFormat,"commaRoundTrip"in P&&typeof P.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var Q=typeof P.allowDots>"u"?P.encodeDotInKeys===!0?!0:_.allowDots:!!P.allowDots;return{addQueryPrefix:typeof P.addQueryPrefix=="boolean"?P.addQueryPrefix:_.addQueryPrefix,allowDots:Q,allowEmptyArrays:typeof P.allowEmptyArrays=="boolean"?!!P.allowEmptyArrays:_.allowEmptyArrays,arrayFormat:L,charset:M,charsetSentinel:typeof P.charsetSentinel=="boolean"?P.charsetSentinel:_.charsetSentinel,commaRoundTrip:!!P.commaRoundTrip,delimiter:typeof P.delimiter>"u"?_.delimiter:P.delimiter,encode:typeof P.encode=="boolean"?P.encode:_.encode,encodeDotInKeys:typeof P.encodeDotInKeys=="boolean"?P.encodeDotInKeys:_.encodeDotInKeys,encoder:typeof P.encoder=="function"?P.encoder:_.encoder,encodeValuesOnly:typeof P.encodeValuesOnly=="boolean"?P.encodeValuesOnly:_.encodeValuesOnly,filter:$,format:z,formatter:F,serializeDate:typeof P.serializeDate=="function"?P.serializeDate:_.serializeDate,skipNulls:typeof P.skipNulls=="boolean"?P.skipNulls:_.skipNulls,sort:typeof P.sort=="function"?P.sort:null,strictNullHandling:typeof P.strictNullHandling=="boolean"?P.strictNullHandling:_.strictNullHandling}};return vm=function(R,P){var M=R,z=T(P),F,$;typeof z.filter=="function"?($=z.filter,M=$("",M)):o(z.filter)&&($=z.filter,F=$);var L=[];if(typeof M!="object"||M===null)return"";var Q=s[z.arrayFormat],D=Q==="comma"&&z.commaRoundTrip;F||(F=Object.keys(M)),z.sort&&F.sort(z.sort);for(var Z=n(),ce=0;ce<F.length;++ce){var fe=F[ce],Pe=M[fe];z.skipNulls&&Pe===null||d(L,b(Pe,fe,Q,D,z.allowEmptyArrays,z.strictNullHandling,z.skipNulls,z.encodeDotInKeys,z.encode?z.encoder:null,z.filter,z.sort,z.allowDots,z.serializeDate,z.format,z.formatter,z.encodeValuesOnly,z.charset,Z))}var K=L.join(z.delimiter),J=z.addQueryPrefix===!0?"?":"";return z.charsetSentinel&&(z.charset==="iso-8859-1"?J+="utf8=%26%2310003%3B&":J+="utf8=%E2%9C%93&"),K.length>0?J+K:""},vm}var _m,i0;function Zw(){if(i0)return _m;i0=1;var n=G_(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(S){return S.replace(/&#(\d+);/g,function(b,T){return String.fromCharCode(parseInt(T,10))})},o=function(S,b,T){if(S&&typeof S=="string"&&b.comma&&S.indexOf(",")>-1)return S.split(",");if(b.throwOnLimitExceeded&&T>=b.arrayLimit)throw new RangeError("Array limit exceeded. Only "+b.arrayLimit+" element"+(b.arrayLimit===1?"":"s")+" allowed in an array.");return S},c="utf8=%26%2310003%3B",d="utf8=%E2%9C%93",p=function(b,T){var R={__proto__:null},P=T.ignoreQueryPrefix?b.replace(/^\?/,""):b;P=P.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var M=T.parameterLimit===1/0?void 0:T.parameterLimit,z=P.split(T.delimiter,T.throwOnLimitExceeded?M+1:M);if(T.throwOnLimitExceeded&&z.length>M)throw new RangeError("Parameter limit exceeded. Only "+M+" parameter"+(M===1?"":"s")+" allowed.");var F=-1,$,L=T.charset;if(T.charsetSentinel)for($=0;$<z.length;++$)z[$].indexOf("utf8=")===0&&(z[$]===d?L="utf-8":z[$]===c&&(L="iso-8859-1"),F=$,$=z.length);for($=0;$<z.length;++$)if($!==F){var Q=z[$],D=Q.indexOf("]="),Z=D===-1?Q.indexOf("="):D+1,ce,fe;Z===-1?(ce=T.decoder(Q,r.decoder,L,"key"),fe=T.strictNullHandling?null:""):(ce=T.decoder(Q.slice(0,Z),r.decoder,L,"key"),fe=n.maybeMap(o(Q.slice(Z+1),T,t(R[ce])?R[ce].length:0),function(K){return T.decoder(K,r.decoder,L,"value")})),fe&&T.interpretNumericEntities&&L==="iso-8859-1"&&(fe=s(String(fe))),Q.indexOf("[]=")>-1&&(fe=t(fe)?[fe]:fe);var Pe=e.call(R,ce);Pe&&T.duplicates==="combine"?R[ce]=n.combine(R[ce],fe):(!Pe||T.duplicates==="last")&&(R[ce]=fe)}return R},g=function(S,b,T,R){var P=0;if(S.length>0&&S[S.length-1]==="[]"){var M=S.slice(0,-1).join("");P=Array.isArray(b)&&b[M]?b[M].length:0}for(var z=R?b:o(b,T,P),F=S.length-1;F>=0;--F){var $,L=S[F];if(L==="[]"&&T.parseArrays)$=T.allowEmptyArrays&&(z===""||T.strictNullHandling&&z===null)?[]:n.combine([],z);else{$=T.plainObjects?{__proto__:null}:{};var Q=L.charAt(0)==="["&&L.charAt(L.length-1)==="]"?L.slice(1,-1):L,D=T.decodeDotInKeys?Q.replace(/%2E/g,"."):Q,Z=parseInt(D,10);!T.parseArrays&&D===""?$={0:z}:!isNaN(Z)&&L!==D&&String(Z)===D&&Z>=0&&T.parseArrays&&Z<=T.arrayLimit?($=[],$[Z]=z):D!=="__proto__"&&($[D]=z)}z=$}return z},_=function(b,T,R,P){if(b){var M=R.allowDots?b.replace(/\.([^.[]+)/g,"[$1]"):b,z=/(\[[^[\]]*])/,F=/(\[[^[\]]*])/g,$=R.depth>0&&z.exec(M),L=$?M.slice(0,$.index):M,Q=[];if(L){if(!R.plainObjects&&e.call(Object.prototype,L)&&!R.allowPrototypes)return;Q.push(L)}for(var D=0;R.depth>0&&($=F.exec(M))!==null&&D<R.depth;){if(D+=1,!R.plainObjects&&e.call(Object.prototype,$[1].slice(1,-1))&&!R.allowPrototypes)return;Q.push($[1])}if($){if(R.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+R.depth+" and strictDepth is true");Q.push("["+M.slice($.index)+"]")}return g(Q,T,R,P)}},x=function(b){if(!b)return r;if(typeof b.allowEmptyArrays<"u"&&typeof b.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof b.decodeDotInKeys<"u"&&typeof b.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(b.decoder!==null&&typeof b.decoder<"u"&&typeof b.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof b.charset<"u"&&b.charset!=="utf-8"&&b.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof b.throwOnLimitExceeded<"u"&&typeof b.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var T=typeof b.charset>"u"?r.charset:b.charset,R=typeof b.duplicates>"u"?r.duplicates:b.duplicates;if(R!=="combine"&&R!=="first"&&R!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var P=typeof b.allowDots>"u"?b.decodeDotInKeys===!0?!0:r.allowDots:!!b.allowDots;return{allowDots:P,allowEmptyArrays:typeof b.allowEmptyArrays=="boolean"?!!b.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof b.allowPrototypes=="boolean"?b.allowPrototypes:r.allowPrototypes,allowSparse:typeof b.allowSparse=="boolean"?b.allowSparse:r.allowSparse,arrayLimit:typeof b.arrayLimit=="number"?b.arrayLimit:r.arrayLimit,charset:T,charsetSentinel:typeof b.charsetSentinel=="boolean"?b.charsetSentinel:r.charsetSentinel,comma:typeof b.comma=="boolean"?b.comma:r.comma,decodeDotInKeys:typeof b.decodeDotInKeys=="boolean"?b.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof b.decoder=="function"?b.decoder:r.decoder,delimiter:typeof b.delimiter=="string"||n.isRegExp(b.delimiter)?b.delimiter:r.delimiter,depth:typeof b.depth=="number"||b.depth===!1?+b.depth:r.depth,duplicates:R,ignoreQueryPrefix:b.ignoreQueryPrefix===!0,interpretNumericEntities:typeof b.interpretNumericEntities=="boolean"?b.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof b.parameterLimit=="number"?b.parameterLimit:r.parameterLimit,parseArrays:b.parseArrays!==!1,plainObjects:typeof b.plainObjects=="boolean"?b.plainObjects:r.plainObjects,strictDepth:typeof b.strictDepth=="boolean"?!!b.strictDepth:r.strictDepth,strictNullHandling:typeof b.strictNullHandling=="boolean"?b.strictNullHandling:r.strictNullHandling,throwOnLimitExceeded:typeof b.throwOnLimitExceeded=="boolean"?b.throwOnLimitExceeded:!1}};return _m=function(S,b){var T=x(b);if(S===""||S===null||typeof S>"u")return T.plainObjects?{__proto__:null}:{};for(var R=typeof S=="string"?p(S,T):S,P=T.plainObjects?{__proto__:null}:{},M=Object.keys(R),z=0;z<M.length;++z){var F=M[z],$=_(F,R[F],T,typeof S=="string");P=n.merge(P,$,T)}return T.allowSparse===!0?P:n.compact(P)},_m}var xm,s0;function Jw(){if(s0)return xm;s0=1;var n=Kw(),e=Zw(),t=ty();return xm={formats:t,parse:e,stringify:n},xm}var a0;function eE(){if(a0)return Sl;a0=1;var n=xw();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],c=["{","}","|","\\","^","`"].concat(o),d=["'"].concat(c),p=["%","/","?",";","#"].concat(d),g=["/","?","#"],_=255,x=/^[+a-z0-9A-Z_-]{0,63}$/,S=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},T={javascript:!0,"javascript:":!0},R={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},P=Jw();function M(L,Q,D){if(L&&typeof L=="object"&&L instanceof e)return L;var Z=new e;return Z.parse(L,Q,D),Z}e.prototype.parse=function(L,Q,D){if(typeof L!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof L);var Z=L.indexOf("?"),ce=Z!==-1&&Z<L.indexOf("#")?"?":"#",fe=L.split(ce),Pe=/\\/g;fe[0]=fe[0].replace(Pe,"/"),L=fe.join(ce);var K=L;if(K=K.trim(),!D&&L.split("#").length===1){var J=s.exec(K);if(J)return this.path=K,this.href=K,this.pathname=J[1],J[2]?(this.search=J[2],Q?this.query=P.parse(this.search.substr(1)):this.query=this.search.substr(1)):Q&&(this.search="",this.query={}),this}var le=t.exec(K);if(le){le=le[0];var Te=le.toLowerCase();this.protocol=Te,K=K.substr(le.length)}if(D||le||K.match(/^\/\/[^@/]+@[^@/]+/)){var B=K.substr(0,2)==="//";B&&!(le&&T[le])&&(K=K.substr(2),this.slashes=!0)}if(!T[le]&&(B||le&&!R[le])){for(var G=-1,C=0;C<g.length;C++){var H=K.indexOf(g[C]);H!==-1&&(G===-1||H<G)&&(G=H)}var N,I;G===-1?I=K.lastIndexOf("@"):I=K.lastIndexOf("@",G),I!==-1&&(N=K.slice(0,I),K=K.slice(I+1),this.auth=decodeURIComponent(N)),G=-1;for(var C=0;C<p.length;C++){var H=K.indexOf(p[C]);H!==-1&&(G===-1||H<G)&&(G=H)}G===-1&&(G=K.length),this.host=K.slice(0,G),K=K.slice(G),this.parseHost(),this.hostname=this.hostname||"";var U=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!U)for(var X=this.hostname.split(/\./),C=0,ie=X.length;C<ie;C++){var ue=X[C];if(ue&&!ue.match(x)){for(var pe="",_e=0,be=ue.length;_e<be;_e++)ue.charCodeAt(_e)>127?pe+="x":pe+=ue[_e];if(!pe.match(x)){var Re=X.slice(0,C),ye=X.slice(C+1),ke=ue.match(S);ke&&(Re.push(ke[1]),ye.unshift(ke[2])),ye.length&&(K="/"+ye.join(".")+K),this.hostname=Re.join(".");break}}}this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),U||(this.hostname=n.toASCII(this.hostname));var Ue=this.port?":"+this.port:"",$e=this.hostname||"";this.host=$e+Ue,this.href+=this.host,U&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),K[0]!=="/"&&(K="/"+K))}if(!b[Te])for(var C=0,ie=d.length;C<ie;C++){var ut=d[C];if(K.indexOf(ut)!==-1){var He=encodeURIComponent(ut);He===ut&&(He=escape(ut)),K=K.split(ut).join(He)}}var We=K.indexOf("#");We!==-1&&(this.hash=K.substr(We),K=K.slice(0,We));var Dt=K.indexOf("?");if(Dt!==-1?(this.search=K.substr(Dt),this.query=K.substr(Dt+1),Q&&(this.query=P.parse(this.query)),K=K.slice(0,Dt)):Q&&(this.search="",this.query={}),K&&(this.pathname=K),R[Te]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ue=this.pathname||"",jt=this.search||"";this.path=Ue+jt}return this.href=this.format(),this};function z(L){return typeof L=="string"&&(L=M(L)),L instanceof e?L.format():e.prototype.format.call(L)}e.prototype.format=function(){var L=this.auth||"";L&&(L=encodeURIComponent(L),L=L.replace(/%3A/i,":"),L+="@");var Q=this.protocol||"",D=this.pathname||"",Z=this.hash||"",ce=!1,fe="";this.host?ce=L+this.host:this.hostname&&(ce=L+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ce+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(fe=P.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var Pe=this.search||fe&&"?"+fe||"";return Q&&Q.substr(-1)!==":"&&(Q+=":"),this.slashes||(!Q||R[Q])&&ce!==!1?(ce="//"+(ce||""),D&&D.charAt(0)!=="/"&&(D="/"+D)):ce||(ce=""),Z&&Z.charAt(0)!=="#"&&(Z="#"+Z),Pe&&Pe.charAt(0)!=="?"&&(Pe="?"+Pe),D=D.replace(/[?#]/g,function(K){return encodeURIComponent(K)}),Pe=Pe.replace("#","%23"),Q+ce+D+Pe+Z};function F(L,Q){return M(L,!1,!0).resolve(Q)}e.prototype.resolve=function(L){return this.resolveObject(M(L,!1,!0)).format()};function $(L,Q){return L?M(L,!1,!0).resolveObject(Q):Q}return e.prototype.resolveObject=function(L){if(typeof L=="string"){var Q=new e;Q.parse(L,!1,!0),L=Q}for(var D=new e,Z=Object.keys(this),ce=0;ce<Z.length;ce++){var fe=Z[ce];D[fe]=this[fe]}if(D.hash=L.hash,L.href==="")return D.href=D.format(),D;if(L.slashes&&!L.protocol){for(var Pe=Object.keys(L),K=0;K<Pe.length;K++){var J=Pe[K];J!=="protocol"&&(D[J]=L[J])}return R[D.protocol]&&D.hostname&&!D.pathname&&(D.pathname="/",D.path=D.pathname),D.href=D.format(),D}if(L.protocol&&L.protocol!==D.protocol){if(!R[L.protocol]){for(var le=Object.keys(L),Te=0;Te<le.length;Te++){var B=le[Te];D[B]=L[B]}return D.href=D.format(),D}if(D.protocol=L.protocol,!L.host&&!T[L.protocol]){for(var ie=(L.pathname||"").split("/");ie.length&&!(L.host=ie.shift()););L.host||(L.host=""),L.hostname||(L.hostname=""),ie[0]!==""&&ie.unshift(""),ie.length<2&&ie.unshift(""),D.pathname=ie.join("/")}else D.pathname=L.pathname;if(D.search=L.search,D.query=L.query,D.host=L.host||"",D.auth=L.auth,D.hostname=L.hostname||L.host,D.port=L.port,D.pathname||D.search){var G=D.pathname||"",C=D.search||"";D.path=G+C}return D.slashes=D.slashes||L.slashes,D.href=D.format(),D}var H=D.pathname&&D.pathname.charAt(0)==="/",N=L.host||L.pathname&&L.pathname.charAt(0)==="/",I=N||H||D.host&&L.pathname,U=I,X=D.pathname&&D.pathname.split("/")||[],ie=L.pathname&&L.pathname.split("/")||[],ue=D.protocol&&!R[D.protocol];if(ue&&(D.hostname="",D.port=null,D.host&&(X[0]===""?X[0]=D.host:X.unshift(D.host)),D.host="",L.protocol&&(L.hostname=null,L.port=null,L.host&&(ie[0]===""?ie[0]=L.host:ie.unshift(L.host)),L.host=null),I=I&&(ie[0]===""||X[0]==="")),N)D.host=L.host||L.host===""?L.host:D.host,D.hostname=L.hostname||L.hostname===""?L.hostname:D.hostname,D.search=L.search,D.query=L.query,X=ie;else if(ie.length)X||(X=[]),X.pop(),X=X.concat(ie),D.search=L.search,D.query=L.query;else if(L.search!=null){if(ue){D.host=X.shift(),D.hostname=D.host;var pe=D.host&&D.host.indexOf("@")>0?D.host.split("@"):!1;pe&&(D.auth=pe.shift(),D.hostname=pe.shift(),D.host=D.hostname)}return D.search=L.search,D.query=L.query,(D.pathname!==null||D.search!==null)&&(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.href=D.format(),D}if(!X.length)return D.pathname=null,D.search?D.path="/"+D.search:D.path=null,D.href=D.format(),D;for(var _e=X.slice(-1)[0],be=(D.host||L.host||X.length>1)&&(_e==="."||_e==="..")||_e==="",Re=0,ye=X.length;ye>=0;ye--)_e=X[ye],_e==="."?X.splice(ye,1):_e===".."?(X.splice(ye,1),Re++):Re&&(X.splice(ye,1),Re--);if(!I&&!U)for(;Re--;Re)X.unshift("..");I&&X[0]!==""&&(!X[0]||X[0].charAt(0)!=="/")&&X.unshift(""),be&&X.join("/").substr(-1)!=="/"&&X.push("");var ke=X[0]===""||X[0]&&X[0].charAt(0)==="/";if(ue){D.hostname=ke?"":X.length?X.shift():"",D.host=D.hostname;var pe=D.host&&D.host.indexOf("@")>0?D.host.split("@"):!1;pe&&(D.auth=pe.shift(),D.hostname=pe.shift(),D.host=D.hostname)}return I=I||D.host&&X.length,I&&!ke&&X.unshift(""),X.length>0?D.pathname=X.join("/"):(D.pathname=null,D.path=null),(D.pathname!==null||D.search!==null)&&(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.auth=L.auth||D.auth,D.slashes=D.slashes||L.slashes,D.href=D.format(),D},e.prototype.parseHost=function(){var L=this.host,Q=r.exec(L);Q&&(Q=Q[0],Q!==":"&&(this.port=Q.substr(1)),L=L.substr(0,L.length-Q.length)),L&&(this.hostname=L)},Sl.parse=M,Sl.resolve=F,Sl.resolveObject=$,Sl.format=z,Sl.Url=e,Sl}eE();const o0={};function ft(n,e,t=3){if(o0[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`):(r=r.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${n}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`),console.warn(r))),o0[e]=!0}function zi(n){if(typeof n!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(n)}`)}function oc(n){return n.split("?")[0].split("#")[0]}function tE(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function rE(n,e,t){return n.replace(new RegExp(tE(e),"g"),t)}function nE(n,e){let t="",r=0,s=-1,o=0,c=-1;for(let d=0;d<=n.length;++d){if(d<n.length)c=n.charCodeAt(d);else{if(c===47)break;c=47}if(c===47){if(!(s===d-1||o===1))if(s!==d-1&&o===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const p=t.lastIndexOf("/");if(p!==t.length-1){p===-1?(t="",r=0):(t=t.slice(0,p),r=t.length-1-t.lastIndexOf("/")),s=d,o=0;continue}}else if(t.length===2||t.length===1){t="",r=0,s=d,o=0;continue}}}else t.length>0?t+=`/${n.slice(s+1,d)}`:t=n.slice(s+1,d),r=d-s-1;s=d,o=0}else c===46&&o!==-1?++o:o=-1}return t}const Or={toPosix(n){return rE(n,"\\","/")},isUrl(n){return/^https?:/.test(this.toPosix(n))},isDataUrl(n){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(n)},isBlobUrl(n){return n.startsWith("blob:")},hasProtocol(n){return/^[^/:]+:/.test(this.toPosix(n))},getProtocol(n){zi(n),n=this.toPosix(n);const e=/^file:\/\/\//.exec(n);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(n);return t?t[0]:""},toAbsolute(n,e,t){if(zi(n),this.isDataUrl(n)||this.isBlobUrl(n))return n;const r=oc(this.toPosix(e??Be.ADAPTER.getBaseUrl())),s=oc(this.toPosix(t??this.rootname(r)));return n=this.toPosix(n),n.startsWith("/")?Or.join(s,n.slice(1)):this.isAbsolute(n)?n:this.join(r,n)},normalize(n){if(zi(n),n.length===0)return".";if(this.isDataUrl(n)||this.isBlobUrl(n))return n;n=this.toPosix(n);let e="";const t=n.startsWith("/");this.hasProtocol(n)&&(e=this.rootname(n),n=n.slice(e.length));const r=n.endsWith("/");return n=nE(n),n.length>0&&r&&(n+="/"),t?`/${n}`:e+n},isAbsolute(n){return zi(n),n=this.toPosix(n),this.hasProtocol(n)?!0:n.startsWith("/")},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const r=n[t];if(zi(r),r.length>0)if(e===void 0)e=r;else{const s=n[t-1]??"";this.joinExtensions.includes(this.extname(s).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(n){if(zi(n),n.length===0)return".";n=this.toPosix(n);let e=n.charCodeAt(0);const t=e===47;let r=-1,s=!0;const o=this.getProtocol(n),c=n;n=n.slice(o.length);for(let d=n.length-1;d>=1;--d)if(e=n.charCodeAt(d),e===47){if(!s){r=d;break}}else s=!1;return r===-1?t?"/":this.isUrl(c)?o+n:o:t&&r===1?"//":o+n.slice(0,r)},rootname(n){zi(n),n=this.toPosix(n);let e="";if(n.startsWith("/")?e="/":e=this.getProtocol(n),this.isUrl(n)){const t=n.indexOf("/",e.length);t!==-1?e=n.slice(0,t):e=n,e.endsWith("/")||(e+="/")}return e},basename(n,e){zi(n),e&&zi(e),n=oc(this.toPosix(n));let t=0,r=-1,s=!0,o;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";let c=e.length-1,d=-1;for(o=n.length-1;o>=0;--o){const p=n.charCodeAt(o);if(p===47){if(!s){t=o+1;break}}else d===-1&&(s=!1,d=o+1),c>=0&&(p===e.charCodeAt(c)?--c===-1&&(r=o):(c=-1,r=d))}return t===r?r=d:r===-1&&(r=n.length),n.slice(t,r)}for(o=n.length-1;o>=0;--o)if(n.charCodeAt(o)===47){if(!s){t=o+1;break}}else r===-1&&(s=!1,r=o+1);return r===-1?"":n.slice(t,r)},extname(n){zi(n),n=oc(this.toPosix(n));let e=-1,t=0,r=-1,s=!0,o=0;for(let c=n.length-1;c>=0;--c){const d=n.charCodeAt(c);if(d===47){if(!s){t=c+1;break}continue}r===-1&&(s=!1,r=c+1),d===46?e===-1?e=c:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||r===-1||o===0||o===1&&e===r-1&&e===t+1?"":n.slice(e,r)},parse(n){zi(n);const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;n=oc(this.toPosix(n));let t=n.charCodeAt(0);const r=this.isAbsolute(n);let s;e.root=this.rootname(n),r||this.hasProtocol(n)?s=1:s=0;let o=-1,c=0,d=-1,p=!0,g=n.length-1,_=0;for(;g>=s;--g){if(t=n.charCodeAt(g),t===47){if(!p){c=g+1;break}continue}d===-1&&(p=!1,d=g+1),t===46?o===-1?o=g:_!==1&&(_=1):o!==-1&&(_=-1)}return o===-1||d===-1||_===0||_===1&&o===d-1&&o===c+1?d!==-1&&(c===0&&r?e.base=e.name=n.slice(1,d):e.base=e.name=n.slice(c,d)):(c===0&&r?(e.name=n.slice(1,o),e.base=n.slice(1,d)):(e.name=n.slice(c,o),e.base=n.slice(c,d)),e.ext=n.slice(o,d)),e.dir=this.dirname(n),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let wm;async function iE(){return wm??(wm=(async()=>{var o;const n=document.createElement("canvas").getContext("webgl");if(!n)return Bn.UNPACK;const e=await new Promise(c=>{const d=document.createElement("video");d.onloadeddata=()=>c(d),d.onerror=()=>c(null),d.autoplay=!1,d.crossOrigin="anonymous",d.preload="auto",d.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",d.load()});if(!e)return Bn.UNPACK;const t=n.createTexture();n.bindTexture(n.TEXTURE_2D,t);const r=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,r),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e);const s=new Uint8Array(4);return n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,s),n.deleteFramebuffer(r),n.deleteTexture(t),(o=n.getExtension("WEBGL_lose_context"))==null||o.loseContext(),s[0]<=s[3]?Bn.PMA:Bn.UNPACK})()),wm}let Em;function sE(){return typeof Em>"u"&&(Em=function(){var e;const n={stencil:!0,failIfMajorPerformanceCaveat:Be.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Be.ADAPTER.getWebGLRenderingContext())return!1;const t=Be.ADAPTER.createCanvas();let r=t.getContext("webgl",n)||t.getContext("experimental-webgl",n);const s=!!((e=r==null?void 0:r.getContextAttributes())!=null&&e.stencil);if(r){const o=r.getExtension("WEBGL_lose_context");o&&o.loseContext()}return r=null,s}catch{return!1}}()),Em}var aE={grad:.9,turn:360,rad:360/(2*Math.PI)},sa=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Nr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},mi=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},H_=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},l0=function(n){return{r:mi(n.r,0,255),g:mi(n.g,0,255),b:mi(n.b,0,255),a:mi(n.a)}},Sm=function(n){return{r:Nr(n.r),g:Nr(n.g),b:Nr(n.b),a:Nr(n.a,3)}},oE=/^#([0-9a-f]{3,8})$/i,Td=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},j_=function(n){var e=n.r,t=n.g,r=n.b,s=n.a,o=Math.max(e,t,r),c=o-Math.min(e,t,r),d=c?o===e?(t-r)/c:o===t?2+(r-e)/c:4+(e-t)/c:0;return{h:60*(d<0?d+6:d),s:o?c/o*100:0,v:o/255*100,a:s}},$_=function(n){var e=n.h,t=n.s,r=n.v,s=n.a;e=e/360*6,t/=100,r/=100;var o=Math.floor(e),c=r*(1-t),d=r*(1-(e-o)*t),p=r*(1-(1-e+o)*t),g=o%6;return{r:255*[r,d,c,c,p,r][g],g:255*[p,r,r,d,c,c][g],b:255*[c,c,p,r,r,d][g],a:s}},u0=function(n){return{h:H_(n.h),s:mi(n.s,0,100),l:mi(n.l,0,100),a:mi(n.a)}},h0=function(n){return{h:Nr(n.h),s:Nr(n.s),l:Nr(n.l),a:Nr(n.a,3)}},c0=function(n){return $_((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},bc=function(n){return{h:(e=j_(n)).h,s:(s=(200-(t=e.s))*(r=e.v)/100)>0&&s<200?t*r/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,t,r,s},lE=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,uE=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,hE=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,cE=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ig={string:[[function(n){var e=oE.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Nr(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Nr(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=hE.exec(n)||cE.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:l0({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=lE.exec(n)||uE.exec(n);if(!e)return null;var t,r,s=u0({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(aE[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return c0(s)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,s=n.a,o=s===void 0?1:s;return sa(e)&&sa(t)&&sa(r)?l0({r:Number(e),g:Number(t),b:Number(r),a:Number(o)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,s=n.a,o=s===void 0?1:s;if(!sa(e)||!sa(t)||!sa(r))return null;var c=u0({h:Number(e),s:Number(t),l:Number(r),a:Number(o)});return c0(c)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,s=n.a,o=s===void 0?1:s;if(!sa(e)||!sa(t)||!sa(r))return null;var c=function(d){return{h:H_(d.h),s:mi(d.s,0,100),v:mi(d.v,0,100),a:mi(d.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(o)});return $_(c)},"hsv"]]},d0=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},dE=function(n){return typeof n=="string"?d0(n.trim(),ig.string):typeof n=="object"&&n!==null?d0(n,ig.object):[null,void 0]},bm=function(n,e){var t=bc(n);return{h:t.h,s:mi(t.s+100*e,0,100),l:t.l,a:t.a}},Tm=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},f0=function(n,e){var t=bc(n);return{h:t.h,s:t.s,l:mi(t.l+100*e,0,100),a:t.a}},sg=function(){function n(e){this.parsed=dE(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Nr(Tm(this.rgba),2)},n.prototype.isDark=function(){return Tm(this.rgba)<.5},n.prototype.isLight=function(){return Tm(this.rgba)>=.5},n.prototype.toHex=function(){return e=Sm(this.rgba),t=e.r,r=e.g,s=e.b,c=(o=e.a)<1?Td(Nr(255*o)):"","#"+Td(t)+Td(r)+Td(s)+c;var e,t,r,s,o,c},n.prototype.toRgb=function(){return Sm(this.rgba)},n.prototype.toRgbString=function(){return e=Sm(this.rgba),t=e.r,r=e.g,s=e.b,(o=e.a)<1?"rgba("+t+", "+r+", "+s+", "+o+")":"rgb("+t+", "+r+", "+s+")";var e,t,r,s,o},n.prototype.toHsl=function(){return h0(bc(this.rgba))},n.prototype.toHslString=function(){return e=h0(bc(this.rgba)),t=e.h,r=e.s,s=e.l,(o=e.a)<1?"hsla("+t+", "+r+"%, "+s+"%, "+o+")":"hsl("+t+", "+r+"%, "+s+"%)";var e,t,r,s,o},n.prototype.toHsv=function(){return e=j_(this.rgba),{h:Nr(e.h),s:Nr(e.s),v:Nr(e.v),a:Nr(e.a,3)};var e},n.prototype.invert=function(){return _s({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),_s(bm(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),_s(bm(this.rgba,-e))},n.prototype.grayscale=function(){return _s(bm(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),_s(f0(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),_s(f0(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?_s({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Nr(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=bc(this.rgba);return typeof e=="number"?_s({h:e,s:t.s,l:t.l,a:t.a}):Nr(t.h)},n.prototype.isEqual=function(e){return this.toHex()===_s(e).toHex()},n}(),_s=function(n){return n instanceof sg?n:new sg(n)},p0=[],fE=function(n){n.forEach(function(e){p0.indexOf(e)<0&&(e(sg,ig),p0.push(e))})};function pE(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var s in t)r[t[s]]=s;var o={};n.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,p,g=r[this.toHex()];if(g)return g;if(c!=null&&c.closest){var _=this.toRgb(),x=1/0,S="black";if(!o.length)for(var b in t)o[b]=new n(t[b]).toRgb();for(var T in t){var R=(d=_,p=o[T],Math.pow(d.r-p.r,2)+Math.pow(d.g-p.g,2)+Math.pow(d.b-p.b,2));R<x&&(x=R,S=T)}return S}},e.string.push([function(c){var d=c.toLowerCase(),p=d==="transparent"?"#0000":t[d];return p?new n(p).toRgb():null},"name"])}fE([pE]);const ju=class Qd{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Qd)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,t){const r=typeof e;if(r!==typeof t)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((s,o)=>s===t[o]);if(e!==null&&t!==null){const s=Object.keys(e),o=Object.keys(t);return s.length!==o.length?!1:s.every(c=>e[c]===t[c])}return e===t}toRgba(){const[e,t,r,s]=this._components;return{r:e,g:t,b:r,a:s}}toRgb(){const[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){const[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){const[t,r,s]=this._components;return e=e??[],e[0]=Math.round(t*255),e[1]=Math.round(r*255),e[2]=Math.round(s*255),e}toRgbArray(e){e=e??[];const[t,r,s]=this._components;return e[0]=t,e[1]=r,e[2]=s,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,r,s,o]=Qd.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=r,this._components[2]*=s,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let r=this._int>>16&255,s=this._int>>8&255,o=this._int&255;return t&&(r=r*e+.5|0,s=s*e+.5|0,o=o*e+.5|0),(e*255<<24)+(r<<16)+(s<<8)+o}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,r,s]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(s*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,r,s,o]=this._components;return e[0]=t,e[1]=r,e[2]=s,e[3]=o,e}normalize(e){let t,r,s,o;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const c=e;t=(c>>16&255)/255,r=(c>>8&255)/255,s=(c&255)/255,o=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,r,s,o=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,r,s,o=255]=e,t/=255,r/=255,s/=255,o/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const d=Qd.HEX_PATTERN.exec(e);d&&(e=`#${d[2]}`)}const c=_s(e);c.isValid()&&({r:t,g:r,b:s,a:o}=c.rgba,t/=255,r/=255,s/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=r,this._components[2]=s,this._components[3]=o,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,t,r]=this._components;this._int=(e*255<<16)+(t*255<<8)+(r*255|0)}_clamp(e,t=0,r=1){return typeof e=="number"?Math.min(Math.max(e,t),r):(e.forEach((s,o)=>{e[o]=Math.min(Math.max(s,t),r)}),e)}};ju.shared=new ju,ju.temp=new ju,ju.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Gt=ju;function mE(n){return ft("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Gt.shared.setValue(n).toHex()}function gE(n){return ft("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Gt.shared.setValue(n).toNumber()}function yE(){const n=[],e=[];for(let r=0;r<32;r++)n[r]=r,e[r]=r;n[rt.NORMAL_NPM]=rt.NORMAL,n[rt.ADD_NPM]=rt.ADD,n[rt.SCREEN_NPM]=rt.SCREEN,e[rt.NORMAL]=rt.NORMAL_NPM,e[rt.ADD]=rt.ADD_NPM,e[rt.SCREEN]=rt.SCREEN_NPM;const t=[];return t.push(e),t.push(n),t}const W_=yE();function V_(n,e){return W_[e?1:0][n]}function vE(n,e=null){const t=n*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let r=0,s=0;r<t;r+=6,s+=4)e[r+0]=s+0,e[r+1]=s+1,e[r+2]=s+2,e[r+3]=s+0,e[r+4]=s+2,e[r+5]=s+3;return e}function X_(n){if(n.BYTES_PER_ELEMENT===4)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(n.BYTES_PER_ELEMENT===2){if(n instanceof Uint16Array)return"Uint16Array"}else if(n.BYTES_PER_ELEMENT===1&&n instanceof Uint8Array)return"Uint8Array";return null}function af(n){return n+=n===0?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1}function m0(n){return!(n&n-1)&&!!n}function g0(n){let e=(n>65535?1:0)<<4;n>>>=e;let t=(n>255?1:0)<<3;return n>>>=t,e|=t,t=(n>15?1:0)<<2,n>>>=t,e|=t,t=(n>3?1:0)<<1,n>>>=t,e|=t,e|n>>1}function Zu(n,e,t){const r=n.length;let s;if(e>=r||t===0)return;t=e+t>r?r-e:t;const o=r-t;for(s=e;s<o;++s)n[s]=n[s+t];n.length=o}function yo(n){return n===0?0:n<0?-1:1}let _E=0;function Ll(){return++_E}const ag=class{constructor(n,e,t,r){this.left=n,this.top=e,this.right=t,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};ag.EMPTY=new ag(0,0,0,0);let y0=ag;const v0={},xs=Object.create(null),co=Object.create(null);class xE{constructor(e,t,r){this._canvas=Be.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||Be.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function _0(n,e,t){for(let r=0,s=4*t*e;r<e;++r,s+=4)if(n[s+3]!==0)return!1;return!0}function x0(n,e,t,r,s){const o=4*e;for(let c=r,d=r*o+4*t;c<=s;++c,d+=o)if(n[d+3]!==0)return!1;return!0}function wE(n){const{width:e,height:t}=n,r=n.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,t).data;let o=0,c=0,d=e-1,p=t-1;for(;c<t&&_0(s,e,c);)++c;if(c===t)return y0.EMPTY;for(;_0(s,e,p);)--p;for(;x0(s,e,o,c,p);)++o;for(;x0(s,e,d,c,p);)--d;return++d,++p,new y0(o,c,d,p)}function EE(n){const e=wE(n),{width:t,height:r}=e;let s=null;if(!e.isEmpty()){const o=n.getContext("2d");if(o===null)throw new TypeError("Failed to get canvas 2D context");s=o.getImageData(e.left,e.top,t,r)}return{width:t,height:r,data:s}}function SE(n,e=globalThis.location){if(n.startsWith("data:"))return"";e=e||globalThis.location;const t=new URL(n,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function da(n,e=1){var r;const t=(r=Be.RETINA_PREFIX)==null?void 0:r.exec(n);return t?parseFloat(t[1]):e}var Ne=(n=>(n.Renderer="renderer",n.Application="application",n.RendererSystem="renderer-webgl-system",n.RendererPlugin="renderer-webgl-plugin",n.CanvasRendererSystem="renderer-canvas-system",n.CanvasRendererPlugin="renderer-canvas-plugin",n.Asset="asset",n.LoadParser="load-parser",n.ResolveParser="resolve-parser",n.CacheParser="cache-parser",n.DetectionParser="detection-parser",n))(Ne||{});const og=n=>{if(typeof n=="function"||typeof n=="object"&&n.extension){if(!n.extension)throw new Error("Extension class must have an extension object");n={...typeof n.extension!="object"?{type:n.extension}:n.extension,ref:n}}if(typeof n=="object")n={...n};else throw new Error("Invalid extension type");return typeof n.type=="string"&&(n.type=[n.type]),n},w0=(n,e)=>og(n).priority??e,Xe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...n){return n.map(og).forEach(e=>{e.type.forEach(t=>{var r,s;return(s=(r=this._removeHandlers)[t])==null?void 0:s.call(r,e)})}),this},add(...n){return n.map(og).forEach(e=>{e.type.forEach(t=>{var o,c;const r=this._addHandlers,s=this._queue;r[t]?(o=r[t])==null||o.call(r,e):(s[t]=s[t]||[],(c=s[t])==null||c.push(e))})}),this},handle(n,e,t){var c;const r=this._addHandlers,s=this._removeHandlers;if(r[n]||s[n])throw new Error(`Extension type ${n} already has a handler`);r[n]=e,s[n]=t;const o=this._queue;return o[n]&&((c=o[n])==null||c.forEach(d=>e(d)),delete o[n]),this},handleByMap(n,e){return this.handle(n,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByList(n,e,t=-1){return this.handle(n,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((s,o)=>w0(o,t)-w0(s,t)))},r=>{const s=e.indexOf(r.ref);s!==-1&&e.splice(s,1)})}};class lg{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const bE=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function TE(n){let e="";for(let t=0;t<n;++t)t>0&&(e+=`
else `),t<n-1&&(e+=`if(test == ${t}.0){}`);return e}function AE(n,e){if(n===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=bE.replace(/%forloop%/gi,TE(n));if(e.shaderSource(t,r),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))n=n/2|0;else break}return n}const Am=0,Cm=1,Pm=2,Rm=3,Im=4,km=5;class ks{constructor(){this.data=0,this.blendMode=rt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Am)}set blend(e){!!(this.data&1<<Am)!==e&&(this.data^=1<<Am)}get offsets(){return!!(this.data&1<<Cm)}set offsets(e){!!(this.data&1<<Cm)!==e&&(this.data^=1<<Cm)}get culling(){return!!(this.data&1<<Pm)}set culling(e){!!(this.data&1<<Pm)!==e&&(this.data^=1<<Pm)}get depthTest(){return!!(this.data&1<<Rm)}set depthTest(e){!!(this.data&1<<Rm)!==e&&(this.data^=1<<Rm)}get depthMask(){return!!(this.data&1<<km)}set depthMask(e){!!(this.data&1<<km)!==e&&(this.data^=1<<km)}get clockwiseFrontFace(){return!!(this.data&1<<Im)}set clockwiseFrontFace(e){!!(this.data&1<<Im)!==e&&(this.data^=1<<Im)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==rt.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new ks;return e.depthTest=!1,e.blend=!0,e}}ks.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const ug=[];function Y_(n,e){if(!n)return null;let t="";if(typeof n=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);r&&(t=r[1].toLowerCase())}for(let r=ug.length-1;r>=0;--r){const s=ug[r];if(s.test&&s.test(n,t))return new s(n,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Xi{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,r,s,o,c,d,p){if(arguments.length>8)throw new Error("max arguments reached");const{name:g,items:_}=this;this._aliasCount++;for(let x=0,S=_.length;x<S;x++)_[x][g](e,t,r,s,o,c,d,p);return _===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Xi.prototype,{dispatch:{value:Xi.prototype.emit},run:{value:Xi.prototype.emit}});class Ac{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Xi("setRealSize"),this.onUpdate=new Xi("update"),this.onError=new Xi("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class Af extends Ac{constructor(e,t){const{width:r,height:s}=t||{};if(!r||!s)throw new Error("BufferResource width or height invalid");super(r,s),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,r){const s=e.gl;s.pixelStorei(s.UNPACK_ALIGNMENT,this.unpackAlignment),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Bn.UNPACK);const o=t.realWidth,c=t.realHeight;return r.width===o&&r.height===c?s.texSubImage2D(t.target,0,0,0,o,c,t.format,r.type,this.data):(r.width=o,r.height=c,s.texImage2D(t.target,0,r.internalFormat,o,c,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const CE={scaleMode:la.NEAREST,alphaMode:Bn.NPM},hg=class $u extends Mc{constructor(e=null,t=null){super(),t=Object.assign({},$u.defaultOptions,t);const{alphaMode:r,mipmap:s,anisotropicLevel:o,scaleMode:c,width:d,height:p,wrapMode:g,format:_,type:x,target:S,resolution:b,resourceOptions:T}=t;e&&!(e instanceof Ac)&&(e=Y_(e,T),e.internal=!0),this.resolution=b||Be.RESOLUTION,this.width=Math.round((d||0)*this.resolution)/this.resolution,this.height=Math.round((p||0)*this.resolution)/this.resolution,this._mipmap=s,this.anisotropicLevel=o,this._wrapMode=g,this._scaleMode=c,this.format=_,this.type=x,this.target=S,this.alphaMode=r,this.uid=Ll(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=d>0&&p>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=m0(this.realWidth)&&m0(this.realHeight)}setResolution(e){const t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete co[this.cacheId],delete xs[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),$u.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,r=Be.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let o=null;if(s)o=e;else{if(!e._pixiId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${d}_${Ll()}`}o=e._pixiId}let c=co[o];if(s&&r&&!c)throw new Error(`The cacheId "${o}" does not exist in BaseTextureCache.`);return c||(c=new $u(e,t),c.cacheId=o,$u.addToCache(c,o)),c}static fromBuffer(e,t,r,s){e=e||new Float32Array(t*r*4);const o=new Af(e,{width:t,height:r,...s==null?void 0:s.resourceOptions});let c,d;return e instanceof Float32Array?(c=Ae.RGBA,d=Ke.FLOAT):e instanceof Int32Array?(c=Ae.RGBA_INTEGER,d=Ke.INT):e instanceof Uint32Array?(c=Ae.RGBA_INTEGER,d=Ke.UNSIGNED_INT):e instanceof Int16Array?(c=Ae.RGBA_INTEGER,d=Ke.SHORT):e instanceof Uint16Array?(c=Ae.RGBA_INTEGER,d=Ke.UNSIGNED_SHORT):e instanceof Int8Array?(c=Ae.RGBA,d=Ke.BYTE):(c=Ae.RGBA,d=Ke.UNSIGNED_BYTE),o.internal=!0,new $u(o,Object.assign({},CE,{type:d,format:c},s))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),co[t]&&co[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),co[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=co[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete co[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete co[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};hg.defaultOptions={mipmap:Ps.POW2,anisotropicLevel:0,scaleMode:la.LINEAR,wrapMode:ca.CLAMP,alphaMode:Bn.UNPACK,target:Ku.TEXTURE_2D,format:Ae.RGBA,type:Ke.UNSIGNED_BYTE},hg._globalBatch=0;let at=hg;class cg{constructor(){this.texArray=null,this.blend=0,this.type=Wi.TRIANGLES,this.start=0,this.size=0,this.data=null}}let PE=0;class dr{constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=PE++,this.disposeRunner=new Xi("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?As.ELEMENT_ARRAY_BUFFER:As.ARRAY_BUFFER}get index(){return this.type===As.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new dr(e)}}class of{constructor(e,t=0,r=!1,s=Ke.FLOAT,o,c,d,p=1){this.buffer=e,this.size=t,this.normalized=r,this.type=s,this.stride=o,this.start=c,this.instance=d,this.divisor=p}destroy(){this.buffer=null}static from(e,t,r,s,o){return new of(e,t,r,s,o)}}const RE={Float32Array,Uint32Array,Int32Array,Uint8Array};function IE(n,e){let t=0,r=0;const s={};for(let p=0;p<n.length;p++)r+=e[p],t+=n[p].length;const o=new ArrayBuffer(t*4);let c=null,d=0;for(let p=0;p<n.length;p++){const g=e[p],_=n[p],x=X_(_);s[x]||(s[x]=new RE[x](o)),c=s[x];for(let S=0;S<_.length;S++){const b=(S/g|0)*r+d,T=S%g;c[b+T]=_[S]}d+=g}return new Float32Array(o)}const E0={5126:4,5123:2,5121:1};let kE=0;const ME={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class xo{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=kE++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Xi("disposeGeometry"),this.refCount=0}addAttribute(e,t,r=0,s=!1,o,c,d,p=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof dr||(t instanceof Array&&(t=new Float32Array(t)),t=new dr(t));const g=e.split("|");if(g.length>1){for(let x=0;x<g.length;x++)this.addAttribute(g[x],t,r,s,o);return this}let _=this.buffers.indexOf(t);return _===-1&&(this.buffers.push(t),_=this.buffers.length-1),this.attributes[e]=new of(_,r,s,o,c,d,p),this.instanced=this.instanced||p,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof dr||(e instanceof Array&&(e=new Uint16Array(e)),e=new dr(e)),e.type=As.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],t=[],r=new dr;let s;for(s in this.attributes){const o=this.attributes[s],c=this.buffers[o.buffer];e.push(c.data),t.push(o.size*E0[o.type]/4),o.buffer=0}for(r.data=IE(e,t),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new xo;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new dr(this.buffers[t].data.slice(0));for(const t in this.attributes){const r=this.attributes[t];e.attributes[t]=new of(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=As.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new xo,r=[],s=[],o=[];let c;for(let d=0;d<e.length;d++){c=e[d];for(let p=0;p<c.buffers.length;p++)s[p]=s[p]||0,s[p]+=c.buffers[p].data.length,o[p]=0}for(let d=0;d<c.buffers.length;d++)r[d]=new ME[X_(c.buffers[d].data)](s[d]),t.buffers[d]=new dr(r[d]);for(let d=0;d<e.length;d++){c=e[d];for(let p=0;p<c.buffers.length;p++)r[p].set(c.buffers[p].data,o[p]),o[p]+=c.buffers[p].data.length}if(t.attributes=c.attributes,c.indexBuffer){t.indexBuffer=t.buffers[c.buffers.indexOf(c.indexBuffer)],t.indexBuffer.type=As.ELEMENT_ARRAY_BUFFER;let d=0,p=0,g=0,_=0;for(let x=0;x<c.buffers.length;x++)if(c.buffers[x]!==c.indexBuffer){_=x;break}for(const x in c.attributes){const S=c.attributes[x];(S.buffer|0)===_&&(p+=S.size*E0[S.type]/4)}for(let x=0;x<e.length;x++){const S=e[x].indexBuffer.data;for(let b=0;b<S.length;b++)t.indexBuffer.data[b+g]+=d;d+=e[x].buffers[_].data.length/p,g+=S.length}}return t}}class q_ extends xo{constructor(e=!1){super(),this._buffer=new dr(null,e,!1),this._indexBuffer=new dr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Ke.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Ke.FLOAT).addAttribute("aColor",this._buffer,4,!0,Ke.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Ke.FLOAT).addIndex(this._indexBuffer)}}const lf=Math.PI*2,NE=180/Math.PI,DE=Math.PI/180;var Hr=(n=>(n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC",n))(Hr||{});class pt{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new pt(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}pt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Ad=[new pt,new pt,new pt,new pt];class lt{constructor(e=0,t=0,r=0,s=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(s),this.type=Hr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new lt(0,0,0,0)}clone(){return new lt(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const Z=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=Z)return!1;const ce=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>ce}const r=this.left,s=this.right,o=this.top,c=this.bottom;if(s<=r||c<=o)return!1;const d=Ad[0].set(e.left,e.top),p=Ad[1].set(e.left,e.bottom),g=Ad[2].set(e.right,e.top),_=Ad[3].set(e.right,e.bottom);if(g.x<=d.x||p.y<=d.y)return!1;const x=Math.sign(t.a*t.d-t.b*t.c);if(x===0||(t.apply(d,d),t.apply(p,p),t.apply(g,g),t.apply(_,_),Math.max(d.x,p.x,g.x,_.x)<=r||Math.min(d.x,p.x,g.x,_.x)>=s||Math.max(d.y,p.y,g.y,_.y)<=o||Math.min(d.y,p.y,g.y,_.y)>=c))return!1;const S=x*(p.y-d.y),b=x*(d.x-p.x),T=S*r+b*o,R=S*s+b*o,P=S*r+b*c,M=S*s+b*c;if(Math.max(T,R,P,M)<=S*d.x+b*d.y||Math.min(T,R,P,M)>=S*_.x+b*_.y)return!1;const z=x*(d.y-g.y),F=x*(g.x-d.x),$=z*r+F*o,L=z*s+F*o,Q=z*r+F*c,D=z*s+F*c;return!(Math.max($,L,Q,D)<=z*d.x+F*d.y||Math.min($,L,Q,D)>=z*_.x+F*_.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=s,this.height=Math.max(o-s,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,s=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=s-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=s,this.height=o-s,this}}lt.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Cf{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.radius=r,this.type=Hr.CIRC}clone(){return new Cf(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const r=this.radius*this.radius;let s=this.x-e,o=this.y-t;return s*=s,o*=o,s+o<=r}getBounds(){return new lt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Cf.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Pf{constructor(e=0,t=0,r=0,s=0){this.x=e,this.y=t,this.width=r,this.height=s,this.type=Hr.ELIP}clone(){return new Pf(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,s=(t-this.y)/this.height;return r*=r,s*=s,r+s<=1}getBounds(){return new lt(this.x-this.width,this.y-this.height,this.width,this.height)}}Pf.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Fl{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const r=[];for(let s=0,o=t.length;s<o;s++)r.push(t[s].x,t[s].y);t=r}this.points=t,this.type=Hr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new Fl(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let r=!1;const s=this.points.length/2;for(let o=0,c=s-1;o<s;c=o++){const d=this.points[o*2],p=this.points[o*2+1],g=this.points[c*2],_=this.points[c*2+1];p>t!=_>t&&e<(g-d)*((t-p)/(_-p))+d&&(r=!r)}return r}}Fl.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((n,e)=>`${n}, ${e}`,"")}]`};class Rf{constructor(e=0,t=0,r=0,s=0,o=20){this.x=e,this.y=t,this.width=r,this.height=s,this.radius=o,this.type=Hr.RREC}clone(){return new Rf(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let s=e-(this.x+r),o=t-(this.y+r);const c=r*r;if(s*s+o*o<=c||(s=e-(this.x+this.width-r),s*s+o*o<=c)||(o=t-(this.y+this.height-r),s*s+o*o<=c)||(s=e-(this.x+r),s*s+o*o<=c))return!0}return!1}}Rf.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Ht{constructor(e=1,t=0,r=0,s=1,o=0,c=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=s,this.tx=o,this.ty=c}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,s,o,c){return this.a=e,this.b=t,this.c=r,this.d=s,this.tx=o,this.ty=c,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,t){t=t||new pt;const r=e.x,s=e.y;return t.x=this.a*r+this.c*s+this.tx,t.y=this.b*r+this.d*s+this.ty,t}applyInverse(e,t){t=t||new pt;const r=1/(this.a*this.d+this.c*-this.b),s=e.x,o=e.y;return t.x=this.d*r*s+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*o+-this.b*r*s+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),s=this.a,o=this.c,c=this.tx;return this.a=s*t-this.b*r,this.b=s*r+this.b*t,this.c=o*t-this.d*r,this.d=o*r+this.d*t,this.tx=c*t-this.ty*r,this.ty=c*r+this.ty*t,this}append(e){const t=this.a,r=this.b,s=this.c,o=this.d;return this.a=e.a*t+e.b*s,this.b=e.a*r+e.b*o,this.c=e.c*t+e.d*s,this.d=e.c*r+e.d*o,this.tx=e.tx*t+e.ty*s+this.tx,this.ty=e.tx*r+e.ty*o+this.ty,this}setTransform(e,t,r,s,o,c,d,p,g){return this.a=Math.cos(d+g)*o,this.b=Math.sin(d+g)*o,this.c=-Math.sin(d-p)*c,this.d=Math.cos(d-p)*c,this.tx=e-(r*this.a+s*this.c),this.ty=t-(r*this.b+s*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,s=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,r=this.b,s=this.c,o=this.d,c=e.pivot,d=-Math.atan2(-s,o),p=Math.atan2(r,t),g=Math.abs(d+p);return g<1e-5||Math.abs(lf-g)<1e-5?(e.rotation=p,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=d,e.skew.y=p),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(s*s+o*o),e.position.x=this.tx+(c.x*t+c.y*s),e.position.y=this.ty+(c.x*r+c.y*o),e}invert(){const e=this.a,t=this.b,r=this.c,s=this.d,o=this.tx,c=e*s-t*r;return this.a=s/c,this.b=-t/c,this.c=-r/c,this.d=e/c,this.tx=(r*this.ty-s*o)/c,this.ty=-(e*this.ty-t*o)/c,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ht;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Ht}static get TEMP_MATRIX(){return new Ht}}Ht.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Cl=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Pl=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Rl=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Il=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],dg=[],Q_=[],Cd=Math.sign;function OE(){for(let n=0;n<16;n++){const e=[];dg.push(e);for(let t=0;t<16;t++){const r=Cd(Cl[n]*Cl[t]+Rl[n]*Pl[t]),s=Cd(Pl[n]*Cl[t]+Il[n]*Pl[t]),o=Cd(Cl[n]*Rl[t]+Rl[n]*Il[t]),c=Cd(Pl[n]*Rl[t]+Il[n]*Il[t]);for(let d=0;d<16;d++)if(Cl[d]===r&&Pl[d]===s&&Rl[d]===o&&Il[d]===c){e.push(d);break}}}for(let n=0;n<16;n++){const e=new Ht;e.set(Cl[n],Pl[n],Rl[n],Il[n],0,0),Q_.push(e)}}OE();const Kt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:n=>Cl[n],uY:n=>Pl[n],vX:n=>Rl[n],vY:n=>Il[n],inv:n=>n&8?n&15:-n&7,add:(n,e)=>dg[n][e],sub:(n,e)=>dg[n][Kt.inv(e)],rotate180:n=>n^4,isVertical:n=>(n&3)===2,byDirection:(n,e)=>Math.abs(n)*2<=Math.abs(e)?e>=0?Kt.S:Kt.N:Math.abs(e)*2<=Math.abs(n)?n>0?Kt.E:Kt.W:e>0?n>0?Kt.SE:Kt.SW:n>0?Kt.NE:Kt.NW,matrixAppendRotationInv:(n,e,t=0,r=0)=>{const s=Q_[Kt.inv(e)];s.tx=t,s.ty=r,n.append(s)}};class Ts{constructor(e,t,r=0,s=0){this._x=r,this._y=s,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new Ts(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Ts.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const fg=class{constructor(){this.worldTransform=new Ht,this.localTransform=new Ht,this.position=new Ts(this.onChange,this,0,0),this.scale=new Ts(this.onChange,this,1,1),this.pivot=new Ts(this.onChange,this,0,0),this.skew=new Ts(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const n=this.localTransform;this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(n){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==n._worldID){const t=n.worldTransform,r=this.worldTransform;r.a=e.a*t.a+e.b*t.c,r.b=e.a*t.b+e.b*t.d,r.c=e.c*t.a+e.d*t.c,r.d=e.c*t.b+e.d*t.d,r.tx=e.tx*t.a+e.ty*t.c+t.tx,r.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=n._worldID,this._worldID++}}setFromMatrix(n){n.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(n){this._rotation!==n&&(this._rotation=n,this.updateSkew())}};fg.IDENTITY=new fg;let If=fg;If.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var FE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,BE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function S0(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}function Mm(n){const e=new Array(n);for(let t=0;t<e.length;t++)e[t]=!1;return e}function K_(n,e){switch(n){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Mm(2*e);case"bvec3":return Mm(3*e);case"bvec4":return Mm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Ju=[{test:n=>n.type==="float"&&n.size===1&&!n.isArray,code:n=>`
            if(uv["${n}"] !== ud["${n}"].value)
            {
                ud["${n}"].value = uv["${n}"]
                gl.uniform1f(ud["${n}"].location, uv["${n}"])
            }
            `},{test:(n,e)=>(n.type==="sampler2D"||n.type==="samplerCube"||n.type==="sampler2DArray")&&n.size===1&&!n.isArray&&(e==null||e.castToBaseTexture!==void 0),code:n=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${n}"], t);

            if(ud["${n}"].value !== t)
            {
                ud["${n}"].value = t;
                gl.uniform1i(ud["${n}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(n,e)=>n.type==="mat3"&&n.size===1&&!n.isArray&&e.a!==void 0,code:n=>`
            gl.uniformMatrix3fv(ud["${n}"].location, false, uv["${n}"].toArray(true));
            `,codeUbo:n=>`
                var ${n}_matrix = uv.${n}.toArray(true);

                data[offset] = ${n}_matrix[0];
                data[offset+1] = ${n}_matrix[1];
                data[offset+2] = ${n}_matrix[2];
        
                data[offset + 4] = ${n}_matrix[3];
                data[offset + 5] = ${n}_matrix[4];
                data[offset + 6] = ${n}_matrix[5];
        
                data[offset + 8] = ${n}_matrix[6];
                data[offset + 9] = ${n}_matrix[7];
                data[offset + 10] = ${n}_matrix[8];
            `},{test:(n,e)=>n.type==="vec2"&&n.size===1&&!n.isArray&&e.x!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${n}"].location, v.x, v.y);
                }`,codeUbo:n=>`
                v = uv.${n};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:n=>n.type==="vec2"&&n.size===1&&!n.isArray,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${n}"].location, v[0], v[1]);
                }
            `},{test:(n,e)=>n.type==="vec4"&&n.size===1&&!n.isArray&&e.width!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${n}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(n,e)=>n.type==="vec4"&&n.size===1&&!n.isArray&&e.red!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${n}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(n,e)=>n.type==="vec3"&&n.size===1&&!n.isArray&&e.red!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${n}"].location, v.red, v.green, v.blue)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:n=>n.type==="vec4"&&n.size===1&&!n.isArray,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${n}"].location, v[0], v[1], v[2], v[3])
                }`}],LE={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},UE={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function zE(n,e){var r;const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const s in n.uniforms){const o=e[s];if(!o){((r=n.uniforms[s])==null?void 0:r.group)===!0&&(n.uniforms[s].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${s}, '${s}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${s}, syncData);
                    `));continue}const c=n.uniforms[s];let d=!1;for(let p=0;p<Ju.length;p++)if(Ju[p].test(o,c)){t.push(Ju[p].code(s,c)),d=!0;break}if(!d){const p=(o.size===1&&!o.isArray?LE:UE)[o.type].replace("location",`ud["${s}"].location`);t.push(`
            cu = ud["${s}"];
            cv = cu.value;
            v = uv["${s}"];
            ${p};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}const Z_={};let Uu=Z_;function GE(){if(Uu===Z_||Uu!=null&&Uu.isContextLost()){const n=Be.ADAPTER.createCanvas();let e;Be.PREFER_ENV>=Ul.WEBGL2&&(e=n.getContext("webgl2",{})),e||(e=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Uu=e}return Uu}let Pd;function HE(){if(!Pd){Pd=pi.MEDIUM;const n=GE();if(n&&n.getShaderPrecisionFormat){const e=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);e&&(Pd=e.precision?pi.HIGH:pi.MEDIUM)}}return Pd}function b0(n,e){const t=n.getShaderSource(e).split(`
`).map((g,_)=>`${_}: ${g}`),r=n.getShaderInfoLog(e),s=r.split(`
`),o={},c=s.map(g=>parseFloat(g.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(g=>g&&!o[g]?(o[g]=!0,!0):!1),d=[""];c.forEach(g=>{t[g-1]=`%c${t[g-1]}%c`,d.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const p=t.join(`
`);d[0]=p,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...d),console.groupEnd()}function jE(n,e,t,r){n.getProgramParameter(e,n.LINK_STATUS)||(n.getShaderParameter(t,n.COMPILE_STATUS)||b0(n,t),n.getShaderParameter(r,n.COMPILE_STATUS)||b0(n,r),console.error("PixiJS Error: Could not initialize shader."),n.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(e)))}const $E={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function J_(n){return $E[n]}let Rd=null;const T0={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function ex(n,e){if(!Rd){const t=Object.keys(T0);Rd={};for(let r=0;r<t.length;++r){const s=t[r];Rd[n[s]]=T0[s]}}return Rd[e]}function A0(n,e,t){if(n.substring(0,9)!=="precision"){let r=e;return e===pi.HIGH&&t!==pi.HIGH&&(r=pi.MEDIUM),`precision ${r} float;
${n}`}else if(t!==pi.HIGH&&n.substring(0,15)==="precision highp")return n.replace("precision highp","precision mediump");return n}let lc;function WE(){if(typeof lc=="boolean")return lc;try{lc=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{lc=!1}return lc}let VE=0;const Id={},pg=class Wu{constructor(e,t,r="pixi-shader",s={}){this.extra={},this.id=VE++,this.vertexSrc=e||Wu.defaultVertexSrc,this.fragmentSrc=t||Wu.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=s,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Id[r]?(Id[r]++,r+=`-${Id[r]}`):Id[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=A0(this.vertexSrc,Wu.defaultVertexPrecision,pi.HIGH),this.fragmentSrc=A0(this.fragmentSrc,Wu.defaultFragmentPrecision,HE())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return BE}static get defaultFragmentSrc(){return FE}static from(e,t,r){const s=e+t;let o=v0[s];return o||(v0[s]=o=new Wu(e,t,r)),o}};pg.defaultVertexPrecision=pi.HIGH,pg.defaultFragmentPrecision=ua.apple.device?pi.HIGH:pi.MEDIUM;let ha=pg,XE=0;class Yi{constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=XE++,this.static=!!t,this.ubo=!!r,e instanceof dr?(this.buffer=e,this.buffer.type=As.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new dr(new Float32Array(1)),this.buffer.type=As.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(!this.ubo)this.uniforms[e]=new Yi(t,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,r){return new Yi(e,t,r)}static uboFrom(e,t){return new Yi(e,t??!0,!0)}}class Cs{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof Yi?this.uniformGroup=t:this.uniformGroup=new Yi(t):this.uniformGroup=new Yi({}),this.disposeRunner=new Xi("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const r in t.uniforms){const s=t.uniforms[r];if(s.group===!0&&this.checkUniformExists(e,s))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){const s=ha.from(e,t);return new Cs(s,r)}}class YE{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let o=0;o<e;o++)r[o]=o;this.defaultGroupCache[e]=Yi.from({uSamplers:r},!0);let s=this.fragTemplate;s=s.replace(/%count%/gi,`${e}`),s=s.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new ha(this.vertexSrc,s)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ht,default:this.defaultGroupCache[e]};return new Cs(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let r=0;r<e;r++)r>0&&(t+=`
else `),r<e-1&&(t+=`if(vTextureId < ${r}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}}class mg{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function qE(){return!ua.apple.device}function QE(n){let e=!0;const t=Be.ADAPTER.getNavigator();if(ua.tablet||ua.phone){if(ua.apple.device){const r=t.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(ua.android.device){const r=t.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?n:4}class kf{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var KE=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,ZE=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const fc=class Hi extends kf{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=q_,this.vertexSize=6,this.state=ks.for2d(),this.size=Hi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??QE(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??qE(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return ft("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return ZE}static get defaultFragmentTemplate(){return KE}setShaderGenerator({vertex:e=Hi.defaultVertexSrc,fragment:t=Hi.defaultFragmentTemplate}={}){this.shaderGenerator=new YE(e,t)}contextChange(){const e=this.renderer.gl;Be.PREFER_ENV===Ul.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Hi.defaultMaxTextures),this.maxTextures=AE(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=Hi,r=this.size/4,s=Math.floor(r/this.maxTextures)+1;for(;e.length<r;)e.push(new cg);for(;t.length<s;)t.push(new mg);for(let o=0;o<this.maxTextures;o++)this._tempBoundTextures[o]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,r=Hi._textureArrayPool,s=this.renderer.batch,o=this._tempBoundTextures,c=this.renderer.textureGC.count;let d=++at._globalBatch,p=0,g=r[0],_=0;s.copyBoundTextures(o,t);for(let x=0;x<this._bufferSize;++x){const S=e[x];e[x]=null,S._batchEnabled!==d&&(g.count>=t&&(s.boundArray(g,o,d,t),this.buildDrawCalls(g,_,x),_=x,g=r[++p],++d),S._batchEnabled=d,S.touched=c,g.elements[g.count++]=S)}g.count>0&&(s.boundArray(g,o,d,t),this.buildDrawCalls(g,_,this._bufferSize),++p,++d);for(let x=0;x<o.length;x++)o[x]=null;at._globalBatch=d}buildDrawCalls(e,t,r){const{_bufferedElements:s,_attributeBuffer:o,_indexBuffer:c,vertexSize:d}=this,p=Hi._drawCallPool;let g=this._dcIndex,_=this._aIndex,x=this._iIndex,S=p[g];S.start=this._iIndex,S.texArray=e;for(let b=t;b<r;++b){const T=s[b],R=T._texture.baseTexture,P=W_[R.alphaMode?1:0][T.blendMode];s[b]=null,t<b&&S.blend!==P&&(S.size=x-S.start,t=b,S=p[++g],S.texArray=e,S.start=x),this.packInterleavedGeometry(T,o,c,_,x),_+=T.vertexData.length/2*d,x+=T.indices.length,S.blend=P}t<r&&(S.size=x-S.start,++g),this._dcIndex=g,this._aIndex=_,this._iIndex=x}bindAndClearTexArray(e){const t=this.renderer.texture;for(let r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:r}=this;Hi.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:r}=this.renderer,s=Hi._drawCallPool;let o=null;for(let c=0;c<e;c++){const{texArray:d,type:p,size:g,start:_,blend:x}=s[c];o!==d&&(o=d,this.bindAndClearTexArray(d)),this.state.blendMode=x,r.set(this.state),t.drawElements(p,g,t.UNSIGNED_SHORT,_*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Hi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=af(Math.ceil(e/8)),r=g0(t),s=t*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let o=this._aBuffers[s];return o||(this._aBuffers[s]=o=new lg(s*this.vertexSize*4)),o}getIndexBuffer(e){const t=af(Math.ceil(e/12)),r=g0(t),s=t*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let o=this._iBuffers[r];return o||(this._iBuffers[r]=o=new Uint16Array(s)),o}packInterleavedGeometry(e,t,r,s,o){const{uint32View:c,float32View:d}=t,p=s/this.vertexSize,g=e.uvs,_=e.indices,x=e.vertexData,S=e._texture.baseTexture._batchLocation,b=Math.min(e.worldAlpha,1),T=Gt.shared.setValue(e._tintRGB).toPremultiplied(b,e._texture.baseTexture.alphaMode>0);for(let R=0;R<x.length;R+=2)d[s++]=x[R],d[s++]=x[R+1],d[s++]=g[R],d[s++]=g[R+1],c[s++]=T,d[s++]=S;for(let R=0;R<_.length;R++)r[o++]=p+_[R]}};fc.defaultBatchSize=4096,fc.extension={name:"batch",type:Ne.RendererPlugin},fc._drawCallPool=[],fc._textureArrayPool=[];let kl=fc;Xe.add(kl);var JE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,eS=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const gg=class pc extends Cs{constructor(e,t,r){const s=ha.from(e||pc.defaultVertexSrc,t||pc.defaultFragmentSrc);super(s,r),this.padding=0,this.resolution=pc.defaultResolution,this.multisample=pc.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new ks}apply(e,t,r,s,o){e.applyFilter(this,t,r,s)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return eS}static get defaultFragmentSrc(){return JE}};gg.defaultResolution=1,gg.defaultMultisample=yr.NONE;let fn=gg;class uf{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Gt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:r,backgroundAlpha:s}=e,o=r??t;o!==void 0&&(this.color=o),this.alpha=s}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}uf.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},uf.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"background"};Xe.add(uf);class tx{constructor(e){this.renderer=e,this.emptyRenderer=new kf(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:r}=this.renderer.texture;for(let s=t-1;s>=0;--s)e[s]=r[s]||null,e[s]&&(e[s]._batchLocation=s)}boundArray(e,t,r,s){const{elements:o,ids:c,count:d}=e;let p=0;for(let g=0;g<d;g++){const _=o[g],x=_._batchLocation;if(x>=0&&x<s&&t[x]===_){c[g]=x;continue}for(;p<s;){const S=t[p];if(S&&S._batchEnabled===r&&S._batchLocation===p){p++;continue}c[g]=p,_._batchLocation=p,t[p]=_;break}}}destroy(){this.renderer=null}}tx.extension={type:Ne.RendererSystem,name:"batch"};Xe.add(tx);let C0=0;class hf{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=C0++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=C0++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let r;if(Be.PREFER_ENV>=Ul.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const s=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}hf.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},hf.extension={type:Ne.RendererSystem,name:"context"};Xe.add(hf);class yg{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Xi("disposeFramebuffer"),this.multisample=yr.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new at(null,{scaleMode:la.NEAREST,resolution:1,mipmap:Ps.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new at(null,{scaleMode:la.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ps.OFF,format:Ae.DEPTH_COMPONENT,type:Ke.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const s=this.colorTextures[r],o=s.resolution;s.setSize(e/o,t/o)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class rx extends at{constructor(e={}){if(typeof e=="number"){const t=arguments[0],r=arguments[1],s=arguments[2],o=arguments[3];e={width:t,height:r,scaleMode:s,resolution:o}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=yr.NONE),super(null,e),this.mipmap=Ps.OFF,this.valid=!0,this._clear=new Gt([0,0,0,0]),this.framebuffer=new yg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class fa extends Ac{constructor(e){const t=e,r=t.naturalWidth||t.videoWidth||t.displayWidth||t.width,s=t.naturalHeight||t.videoHeight||t.displayHeight||t.height;super(r,s),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,r){r===void 0&&!t.startsWith("data:")?e.crossOrigin=SE(t):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,t,r,s){const o=e.gl,c=t.realWidth,d=t.realHeight;if(s=s||this.source,typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Bn.UNPACK),!this.noSubImage&&t.target===o.TEXTURE_2D&&r.width===c&&r.height===d?o.texSubImage2D(o.TEXTURE_2D,0,0,0,t.format,r.type,s):(r.width=c,r.height=d,o.texImage2D(t.target,0,r.internalFormat,t.format,r.type,s)),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),super.update()}dispose(){this.source=null}}class nx extends fa{constructor(e,t){if(t=t||{},typeof e=="string"){const r=new Image;fa.crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??Be.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,r)=>{const s=this.source;this.url=s.src;const o=()=>{this.destroyed||(s.onload=null,s.onerror=null,this.update(),this._load=null,this.createBitmap?t(this.process()):t(this))};s.complete&&s.src?o():(s.onload=o,s.onerror=c=>{r(c),this.onError.emit(c)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(s=>s.blob()).then(s=>t(s,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Bn.UNPACK?"premultiply":"none"})).then(s=>this.destroyed?Promise.reject():(this.bitmap=s,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,r){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let s=!0;const o=t._glTextures;for(const c in o){const d=o[c];if(d!==r&&d.dirtyId!==t.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class ry{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){const s=t.width,o=t.height;if(r){const c=e.width/2/s,d=e.height/2/o,p=e.x/s+c,g=e.y/o+d;r=Kt.add(r,Kt.NW),this.x0=p+c*Kt.uX(r),this.y0=g+d*Kt.uY(r),r=Kt.add(r,2),this.x1=p+c*Kt.uX(r),this.y1=g+d*Kt.uY(r),r=Kt.add(r,2),this.x2=p+c*Kt.uX(r),this.y2=g+d*Kt.uY(r),r=Kt.add(r,2),this.x3=p+c*Kt.uX(r),this.y3=g+d*Kt.uY(r)}else this.x0=e.x/s,this.y0=e.y/o,this.x1=(e.x+e.width)/s,this.y1=e.y/o,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/o,this.x3=e.x/s,this.y3=(e.y+e.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}ry.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const P0=new ry;function kd(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}class Me extends Mc{constructor(e,t,r,s,o,c,d){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new lt(0,0,1,1)),e instanceof Me&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=s,this.valid=!1,this.destroyed=!1,this._uvs=P0,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=c?new pt(c.x,c.y):new pt(0,0),this.defaultBorders=d,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;t!=null&&t.url&&xs[t.url]&&Me.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Me.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var s;const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),r=new Me(this.baseTexture,!this.noFrame&&e,t,(s=this.trim)==null?void 0:s.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===P0&&(this._uvs=new ry),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},r=Be.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let o=null;if(s)o=e;else if(e instanceof at){if(!e.cacheId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId=`${d}-${Ll()}`,at.addToCache(e,e.cacheId)}o=e.cacheId}else{if(!e._pixiId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${d}_${Ll()}`}o=e._pixiId}let c=xs[o];if(s&&r&&!c)throw new Error(`The cacheId "${o}" does not exist in TextureCache.`);return!c&&!(e instanceof at)?(t.resolution||(t.resolution=da(e)),c=new Me(new at(e,t)),c.baseTexture.cacheId=o,at.addToCache(c.baseTexture,o),Me.addToCache(c,o)):!c&&e instanceof at&&(c=new Me(e),Me.addToCache(c,o)),c}static fromURL(e,t){const r=Object.assign({autoLoad:!1},t==null?void 0:t.resourceOptions),s=Me.from(e,Object.assign({resourceOptions:r},t),!1),o=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):o.load().then(()=>Promise.resolve(s))}static fromBuffer(e,t,r,s){return new Me(at.fromBuffer(e,t,r,s))}static fromLoader(e,t,r,s){const o=new at(e,Object.assign({scaleMode:at.defaultOptions.scaleMode,resolution:da(t)},s)),{resource:c}=o;c instanceof nx&&(c.url=t);const d=new Me(o);return r||(r=t),at.addToCache(d.baseTexture,r),Me.addToCache(d,r),r!==t&&(at.addToCache(d.baseTexture,t),Me.addToCache(d,t)),d.baseTexture.valid?Promise.resolve(d):new Promise(p=>{d.baseTexture.once("loaded",()=>p(d))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),xs[t]&&xs[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),xs[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=xs[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete xs[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)xs[e.textureCacheIds[t]]===e&&delete xs[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:r,width:s,height:o}=e,c=t+s>this.baseTexture.width,d=r+o>this.baseTexture.height;if(c||d){const p=c&&d?"and":"or",g=`X: ${t} + ${s} = ${t+s} > ${this.baseTexture.width}`,_=`Y: ${r} + ${o} = ${r+o} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${g} ${p} ${_}`)}this.valid=s&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Me._EMPTY||(Me._EMPTY=new Me(new at),kd(Me._EMPTY),kd(Me._EMPTY.baseTexture)),Me._EMPTY}static get WHITE(){if(!Me._WHITE){const e=Be.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),Me._WHITE=new Me(at.from(e)),kd(Me._WHITE),kd(Me._WHITE.baseTexture)}return Me._WHITE}}class zl extends Me{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,r=!0){const s=this.baseTexture.resolution,o=Math.round(e*s)/s,c=Math.round(t*s)/s;this.valid=o>0&&c>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=c,r&&this.baseTexture.resize(o,c),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new zl(new rx(e))}}class ix{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,r=yr.NONE){const s=new rx(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new zl(s)}getOptimalTexture(e,t,r=1,s=yr.NONE){let o;e=Math.max(Math.ceil(e*r-1e-6),1),t=Math.max(Math.ceil(t*r-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=af(e),t=af(t),o=((e&65535)<<16|t&65535)>>>0,s>1&&(o+=s*4294967296)):o=s>1?-s:-1,this.texturePool[o]||(this.texturePool[o]=[]);let c=this.texturePool[o].pop();return c||(c=this.createTexture(e,t,s)),c.filterPoolKey=o,c.setResolution(r),c}getFilterTexture(e,t,r){const s=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||yr.NONE);return s.filterFrame=e.filterFrame,s}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const t in this.texturePool){const r=this.texturePool[t];if(r)for(let s=0;s<r.length;s++)r[s].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const r=this.texturePool[t];if(r)for(let s=0;s<r.length;s++)r[s].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}ix.SCREEN_KEY=-1;class tS extends xo{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class sx extends xo{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new dr(this.vertices),this.uvBuffer=new dr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let r=0,s=0;return this.uvs[0]=r,this.uvs[1]=s,this.uvs[2]=r+t.width/e.width,this.uvs[3]=s,this.uvs[4]=r+t.width/e.width,this.uvs[5]=s+t.height/e.height,this.uvs[6]=r,this.uvs[7]=s+t.height/e.height,r=t.x,s=t.y,this.vertices[0]=r,this.vertices[1]=s,this.vertices[2]=r+t.width,this.vertices[3]=s,this.vertices[4]=r+t.width,this.vertices[5]=s+t.height,this.vertices[6]=r,this.vertices[7]=s+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class rS{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=yr.NONE,this.sourceFrame=new lt,this.destinationFrame=new lt,this.bindingSourceFrame=new lt,this.bindingDestinationFrame=new lt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Md=[new pt,new pt,new pt,new pt],Nm=new Ht;class ax{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new ix,this.statePool=[],this.quad=new tS,this.quadUv=new sx,this.tempRect=new lt,this.activeState={},this.globalUniforms=new Yi({outputFrame:new lt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const r=this.renderer,s=this.defaultFilterStack,o=this.statePool.pop()||new rS,c=r.renderTexture;let d,p;if(c.current){const P=c.current;d=P.resolution,p=P.multisample}else d=r.resolution,p=r.multisample;let g=t[0].resolution||d,_=t[0].multisample??p,x=t[0].padding,S=t[0].autoFit,b=t[0].legacy??!0;for(let P=1;P<t.length;P++){const M=t[P];g=Math.min(g,M.resolution||d),_=Math.min(_,M.multisample??p),x=this.useMaxPadding?Math.max(x,M.padding):x+M.padding,S=S&&M.autoFit,b=b||(M.legacy??!0)}s.length===1&&(this.defaultFilterStack[0].renderTexture=c.current),s.push(o),o.resolution=g,o.multisample=_,o.legacy=b,o.target=e,o.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),o.sourceFrame.pad(x);const T=this.tempRect.copyFrom(c.sourceFrame);r.projection.transform&&this.transformAABB(Nm.copyFrom(r.projection.transform).invert(),T),S?(o.sourceFrame.fit(T),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(T)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,c.current?c.current.resolution:r.resolution,c.sourceFrame,c.destinationFrame,r.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,g,_),o.filters=t,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const R=this.tempRect;R.x=0,R.y=0,R.width=o.sourceFrame.width,R.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(c.sourceFrame),o.bindingDestinationFrame.copyFrom(c.destinationFrame),o.transform=r.projection.transform,r.projection.transform=null,c.bind(o.renderTexture,o.sourceFrame,R),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;const s=this.globalUniforms.uniforms;s.outputFrame=t.sourceFrame,s.resolution=t.resolution;const o=s.inputSize,c=s.inputPixel,d=s.inputClamp;if(o[0]=t.destinationFrame.width,o[1]=t.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],c[0]=Math.round(o[0]*t.resolution),c[1]=Math.round(o[1]*t.resolution),c[2]=1/c[0],c[3]=1/c[1],d[0]=.5*c[2],d[1]=.5*c[3],d[2]=t.sourceFrame.width*o[2]-.5*c[2],d[3]=t.sourceFrame.height*o[3]-.5*c[3],t.legacy){const g=s.filterArea;g[0]=t.destinationFrame.width,g[1]=t.destinationFrame.height,g[2]=t.sourceFrame.x,g[3]=t.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();const p=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,t.renderTexture,p.renderTexture,bs.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let g=t.renderTexture,_=this.getOptimalFilterTexture(g.width,g.height,t.resolution);_.filterFrame=g.filterFrame;let x=0;for(x=0;x<r.length-1;++x){x===1&&t.multisample>1&&(_=this.getOptimalFilterTexture(g.width,g.height,t.resolution),_.filterFrame=g.filterFrame),r[x].apply(this,g,_,bs.CLEAR,t);const S=g;g=_,_=S}r[x].apply(this,g,p.renderTexture,bs.BLEND,t),x>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(g),this.returnFilterTexture(_)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=bs.CLEAR){const{renderTexture:r,state:s}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const c=this.tempRect;c.x=0,c.y=0,c.width=e.filterFrame.width,c.height=e.filterFrame.height,r.bind(e,e.filterFrame,c)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const o=s.stateId&1||this.forceClear;(t===bs.CLEAR||t===bs.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,s){const o=this.renderer;o.state.set(e.state),this.bindAndClear(r,s),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Wi.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Wi.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:r,destinationFrame:s}=this.activeState,{orig:o}=t._texture,c=e.set(s.width,0,0,s.height,r.x,r.y),d=t.worldTransform.copyTo(Ht.TEMP_MATRIX);return d.invert(),c.prepend(d),c.scale(1/o.width,1/o.height),c.translate(t.anchor.x,t.anchor.y),c}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,r=1,s=yr.NONE){return this.texturePool.getOptimalTexture(e,t,r,s)}getFilterTexture(e,t,r){if(typeof e=="number"){const o=e;e=t,t=o}e=e||this.activeState.renderTexture;const s=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||yr.NONE);return s.filterFrame=e.filterFrame,s}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const r=Md[0],s=Md[1],o=Md[2],c=Md[3];r.set(t.left,t.top),s.set(t.left,t.bottom),o.set(t.right,t.top),c.set(t.right,t.bottom),e.apply(r,r),e.apply(s,s),e.apply(o,o),e.apply(c,c);const d=Math.min(r.x,s.x,o.x,c.x),p=Math.min(r.y,s.y,o.y,c.y),g=Math.max(r.x,s.x,o.x,c.x),_=Math.max(r.y,s.y,o.y,c.y);t.x=d,t.y=p,t.width=g-d,t.height=_-p}roundFrame(e,t,r,s,o){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(o){const{a:c,b:d,c:p,d:g}=o;if((Math.abs(d)>1e-4||Math.abs(p)>1e-4)&&(Math.abs(c)>1e-4||Math.abs(g)>1e-4))return}o=o?Nm.copyFrom(o):Nm.identity(),o.translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.transformAABB(o,e),e.ceil(t),this.transformAABB(o.invert(),e)}}}ax.extension={type:Ne.RendererSystem,name:"filter"};Xe.add(ax);class nS{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=yr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const iS=new lt;class ox{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new yg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new lt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Be.PREFER_ENV===Ul.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=s=>t.drawBuffersWEBGL(s):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,r=0){const{gl:s}=this;if(e){const o=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,s.bindFramebuffer(s.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,o.mipLevel=r),o.dirtyId!==e.dirtyId&&(o.dirtyId=e.dirtyId,o.dirtyFormat!==e.dirtyFormat?(o.dirtyFormat=e.dirtyFormat,o.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):o.dirtySize!==e.dirtySize&&(o.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let c=0;c<e.colorTextures.length;c++){const d=e.colorTextures[c];this.renderer.texture.unbind(d.parentTextureArray||d)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const c=t.width>>r,d=t.height>>r,p=c/t.width;this.setViewport(t.x*p,t.y*p,c,d)}else{const c=e.width>>r,d=e.height>>r;this.setViewport(0,0,c,d)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,s){const o=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),s=Math.round(s),(o.width!==r||o.height!==s||o.x!==e||o.y!==t)&&(o.x=e,o.y=t,o.width=r,o.height=s,this.gl.viewport(e,t,r,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,s,o=ng.COLOR|ng.DEPTH){const{gl:c}=this;c.clearColor(e,t,r,s),c.clear(o)}initFramebuffer(e){const{gl:t}=this,r=new nS(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:t}=this,r=e.glFramebuffers[this.CONTEXT_UID];if(r.stencil){t.bindRenderbuffer(t.RENDERBUFFER,r.stencil);let c;this.renderer.context.webGLVersion===1?c=t.DEPTH_STENCIL:e.depth&&e.stencil?c=t.DEPTH24_STENCIL8:e.depth?c=t.DEPTH_COMPONENT24:c=t.STENCIL_INDEX8,r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,c,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,c,e.width,e.height)}const s=e.colorTextures;let o=s.length;t.drawBuffers||(o=Math.min(o,1));for(let c=0;c<o;c++){const d=s[c],p=d.parentTextureArray||d;this.renderer.texture.bind(p,0),c===0&&r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,p._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:r}=this,s=e.glFramebuffers[this.CONTEXT_UID],o=e.colorTextures;let c=o.length;r.drawBuffers||(c=Math.min(c,1)),s.multisample>1&&this.canMultisampleFramebuffer(e)?s.msaaBuffer=s.msaaBuffer||r.createRenderbuffer():s.msaaBuffer&&(r.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));const d=[];for(let p=0;p<c;p++){const g=o[p],_=g.parentTextureArray||g;this.renderer.texture.bind(_,0),p===0&&s.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,s.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,_._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,s.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+p,g.target,_._glTextures[this.CONTEXT_UID].texture,t),d.push(r.COLOR_ATTACHMENT0+p))}if(d.length>1&&r.drawBuffers(d),e.depthTexture&&this.writeDepthTexture){const p=e.depthTexture;this.renderer.texture.bind(p,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,p._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){s.stencil=s.stencil||r.createRenderbuffer();let p,g;this.renderer.context.webGLVersion===1?(p=r.DEPTH_STENCIL_ATTACHMENT,g=r.DEPTH_STENCIL):e.depth&&e.stencil?(p=r.DEPTH_STENCIL_ATTACHMENT,g=r.DEPTH24_STENCIL8):e.depth?(p=r.DEPTH_ATTACHMENT,g=r.DEPTH_COMPONENT24):(p=r.STENCIL_ATTACHMENT,g=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,s.stencil),s.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,g,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,g,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,p,r.RENDERBUFFER,s.stencil)}else s.stencil&&(r.deleteRenderbuffer(s.stencil),s.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let r=yr.NONE;if(e<=1||t===null)return r;for(let s=0;s<t.length;s++)if(t[s]<=e){r=t[s];break}return r===1&&(r=yr.NONE),r}blit(e,t,r){const{current:s,renderer:o,gl:c,CONTEXT_UID:d}=this;if(o.context.webGLVersion!==2||!s)return;const p=s.glFramebuffers[d];if(!p)return;if(!e){if(!p.msaaBuffer)return;const _=s.colorTextures[0];if(!_)return;p.blitFramebuffer||(p.blitFramebuffer=new yg(s.width,s.height),p.blitFramebuffer.addColorTexture(0,_)),e=p.blitFramebuffer,e.colorTextures[0]!==_&&(e.colorTextures[0]=_,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}t||(t=iS,t.width=s.width,t.height=s.height),r||(r=t);const g=t.width===r.width&&t.height===r.height;this.bind(e),c.bindFramebuffer(c.READ_FRAMEBUFFER,p.framebuffer),c.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,c.COLOR_BUFFER_BIT,g?c.NEAREST:c.LINEAR),c.bindFramebuffer(c.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const r=e.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const o=this.managedFramebuffers.indexOf(e);o>=0&&this.managedFramebuffers.splice(o,1),e.disposeRunner.remove(this),t||(s.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&s.deleteRenderbuffer(r.msaaBuffer),r.stencil&&s.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const r=e.width,s=e.height,o=this.gl,c=t.stencil=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,c);let d,p;this.renderer.context.webGLVersion===1?(d=o.DEPTH_STENCIL_ATTACHMENT,p=o.DEPTH_STENCIL):e.depth?(d=o.DEPTH_STENCIL_ATTACHMENT,p=o.DEPTH24_STENCIL8):(d=o.STENCIL_ATTACHMENT,p=o.STENCIL_INDEX8),t.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,t.multisample,p,r,s):o.renderbufferStorage(o.RENDERBUFFER,p,r,s),o.framebufferRenderbuffer(o.FRAMEBUFFER,d,o.RENDERBUFFER,c)}reset(){this.current=this.unknownFramebuffer,this.viewport=new lt}destroy(){this.renderer=null}}ox.extension={type:Ne.RendererSystem,name:"framebuffer"};Xe.add(ox);const Dm={5126:4,5123:2,5121:1};class lx{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;Be.PREFER_ENV===Ul.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=s=>r.bindVertexArrayOES(s),e.deleteVertexArray=s=>r.deleteVertexArrayOES(s)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(s,o)=>r.vertexAttribDivisorANGLE(s,o),e.drawElementsInstanced=(s,o,c,d,p)=>r.drawElementsInstancedANGLE(s,o,c,d,p),e.drawArraysInstanced=(s,o,c,d)=>r.drawArraysInstancedANGLE(s,o,c,d)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:r}=this;let s=e.glVertexArrayObjects[this.CONTEXT_UID],o=!1;s||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=s={},o=!0);const c=s[t.program.id]||this.initGeometryVao(e,t,o);this._activeGeometry=e,this._activeVao!==c&&(this._activeVao=c,this.hasVao?r.bindVertexArray(c):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const s=e.buffers[r];t.update(s)}}checkCompatibility(e,t){const r=e.attributes,s=t.attributeData;for(const o in s)if(!r[o])throw new Error(`shader and geometry incompatible, geometry missing the "${o}" attribute`)}getSignature(e,t){const r=e.attributes,s=t.attributeData,o=["g",e.id];for(const c in r)s[c]&&o.push(c,s[c].location);return o.join("-")}initGeometryVao(e,t,r=!0){const s=this.gl,o=this.CONTEXT_UID,c=this.renderer.buffer,d=t.program;d.glPrograms[o]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,d);const p=this.getSignature(e,d),g=e.glVertexArrayObjects[this.CONTEXT_UID];let _=g[p];if(_)return g[d.id]=_,_;const x=e.buffers,S=e.attributes,b={},T={};for(const R in x)b[R]=0,T[R]=0;for(const R in S)!S[R].size&&d.attributeData[R]?S[R].size=d.attributeData[R].size:S[R].size||console.warn(`PIXI Geometry attribute '${R}' size cannot be determined (likely the bound shader does not have the attribute)`),b[S[R].buffer]+=S[R].size*Dm[S[R].type];for(const R in S){const P=S[R],M=P.size;P.stride===void 0&&(b[P.buffer]===M*Dm[P.type]?P.stride=0:P.stride=b[P.buffer]),P.start===void 0&&(P.start=T[P.buffer],T[P.buffer]+=M*Dm[P.type])}_=s.createVertexArray(),s.bindVertexArray(_);for(let R=0;R<x.length;R++){const P=x[R];c.bind(P),r&&P._glBuffers[o].refCount++}return this.activateVao(e,d),g[d.id]=_,g[p]=_,s.bindVertexArray(null),c.unbind(As.ARRAY_BUFFER),_}disposeGeometry(e,t){var d;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,o=e.buffers,c=(d=this.renderer)==null?void 0:d.buffer;if(e.disposeRunner.remove(this),!!r){if(c)for(let p=0;p<o.length;p++){const g=o[p]._glBuffers[this.CONTEXT_UID];g&&(g.refCount--,g.refCount===0&&!t&&c.dispose(o[p],t))}if(!t){for(const p in r)if(p[0]==="g"){const g=r[p];this._activeVao===g&&this.unbind(),s.deleteVertexArray(g)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)}activateVao(e,t){const r=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,c=e.buffers,d=e.attributes;e.indexBuffer&&o.bind(e.indexBuffer);let p=null;for(const g in d){const _=d[g],x=c[_.buffer],S=x._glBuffers[s];if(t.attributeData[g]){p!==S&&(o.bind(x),p=S);const b=t.attributeData[g].location;if(r.enableVertexAttribArray(b),r.vertexAttribPointer(b,_.size,_.type||r.FLOAT,_.normalized,_.stride,_.start),_.instance)if(this.hasInstance)r.vertexAttribDivisor(b,_.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,r,s){const{gl:o}=this,c=this._activeGeometry;if(c.indexBuffer){const d=c.indexBuffer.data.BYTES_PER_ELEMENT,p=d===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;d===2||d===4&&this.canUseUInt32ElementIndex?c.instanced?o.drawElementsInstanced(e,t||c.indexBuffer.data.length,p,(r||0)*d,s||1):o.drawElements(e,t||c.indexBuffer.data.length,p,(r||0)*d):console.warn("unsupported index buffer type: uint32")}else c.instanced?o.drawArraysInstanced(e,r,t||c.getSize(),s||1):o.drawArrays(e,r,t||c.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}lx.extension={type:Ne.RendererSystem,name:"geometry"};Xe.add(lx);const R0=new Ht;class ny{constructor(e,t){this._texture=e,this.mapCoord=new Ht,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);const r=this.mapCoord;for(let s=0;s<e.length;s+=2){const o=e[s],c=e[s+1];t[s]=o*r.a+c*r.c+r.tx,t[s+1]=o*r.b+c*r.d+r.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const s=t.orig,o=t.trim;o&&(R0.set(s.width/o.width,0,0,s.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(R0));const c=t.baseTexture,d=this.uClampFrame,p=this.clampMargin/c.resolution,g=this.clampOffset;return d[0]=(t._frame.x+p+g)/c.width,d[1]=(t._frame.y+p+g)/c.height,d[2]=(t._frame.x+t._frame.width-p+g)/c.width,d[3]=(t._frame.y+t._frame.height-p+g)/c.height,this.uClampOffset[0]=g/c.realWidth,this.uClampOffset[1]=g/c.realHeight,this.isSimple=t._frame.width===c.width&&t._frame.height===c.height&&t.rotate===0,!0}}var sS=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,aS=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class oS extends fn{constructor(e,t,r){let s=null;typeof e!="string"&&t===void 0&&r===void 0&&(s=e,e=void 0,t=void 0,r=void 0),super(e||aS,t||sS,r),this.maskSprite=s,this.maskMatrix=new Ht}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,s){const o=this._maskSprite,c=o._texture;c.valid&&(c.uvMatrix||(c.uvMatrix=new ny(c,0)),c.uvMatrix.update(),this.uniforms.npmAlpha=c.baseTexture.alphaMode?0:1,this.uniforms.mask=c,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(c.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=c.uvMatrix.uClampFrame,e.applyFilter(this,t,r,s))}}class lS{constructor(e=null){this.type=br.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=fn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=br.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class ux{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;if(!r.isMaskData){const o=this.maskDataPool.pop()||new lS;o.pooled=!0,o.maskObject=t,r=o}const s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(s),r._colorMask=s?s._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==br.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case br.SCISSOR:this.renderer.scissor.push(r);break;case br.STENCIL:this.renderer.stencil.push(r);break;case br.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case br.COLOR:this.pushColorMask(r);break}r.type===br.SPRITE&&this.maskStack.push(r)}pop(e){const t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case br.SCISSOR:this.renderer.scissor.pop(t);break;case br.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case br.SPRITE:this.popSpriteMask(t);break;case br.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===br.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=br.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=br.SCISSOR:e.type=br.STENCIL:e.type=br.COLOR}pushSpriteMask(e){const{maskObject:t}=e,r=e._target;let s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new oS])),s[0].resolution=e.resolution,s[0].multisample=e.multisample,s[0].maskSprite=t;const o=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,s),r.filterArea=o,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}ux.extension={type:Ne.RendererSystem,name:"mask"};Xe.add(ux);class hx{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,r=this.getStackLength();this.maskStack=e;const s=this.getStackLength();s!==r&&(s===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const I0=new Ht,k0=[],cx=class Kd extends hx{constructor(e){super(e),this.glConst=Be.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:r}=e,{renderer:s}=this,o=s.renderTexture,c=r.getBounds(!0,k0.pop()??new lt);this.roundFrameToPixels(c,o.current?o.current.resolution:s.resolution,o.sourceFrame,o.destinationFrame,s.projection.transform),t&&c.fit(t),e._scissorRectLocal=c}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:r,c:s,d:o}=e;return(Math.abs(r)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(o)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||Kd.isMatrixRotated(t.worldTransform)||Kd.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const r=e._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(e,t,r,s,o){Kd.isMatrixRotated(o)||(o=o?I0.copyFrom(o):I0.identity(),o.translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.renderer.filter.transformAABB(o,e),e.fit(s),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&k0.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};cx.extension={type:Ne.RendererSystem,name:"scissor"};let uS=cx;Xe.add(uS);class dx extends hx{constructor(e){super(e),this.glConst=Be.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:r}=this.renderer,s=e._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const o=e._colorMask;o!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,s,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,o!==0&&(e._colorMask=o,r.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}pop(e){const t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=r?r._colorMask:15;s!==0&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,s!==0&&(r._colorMask=s,t.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}dx.extension={type:Ne.RendererSystem,name:"stencil"};Xe.add(dx);class fx{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return ft("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return ft("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return ft("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}fx.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"_plugin"};Xe.add(fx);class px{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ht,this.transform=null}update(e,t,r,s){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,s),this.transform&&this.projectionMatrix.append(this.transform);const o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(e,t,r,s){const o=this.projectionMatrix,c=s?-1:1;o.identity(),o.a=1/t.width*2,o.d=c*(1/t.height*2),o.tx=-1-t.x*o.a,o.ty=-c-t.y*o.d}setTransform(e){}destroy(){this.renderer=null}}px.extension={type:Ne.RendererSystem,name:"projection"};Xe.add(px);const hS=new If,M0=new lt;class mx{constructor(e){this.renderer=e,this._tempMatrix=new Ht}generateTexture(e,t){const{region:r,...s}=t||{},o=(r==null?void 0:r.copyTo(M0))||e.getLocalBounds(M0,!0),c=s.resolution||this.renderer.resolution;o.width=Math.max(o.width,1/c),o.height=Math.max(o.height,1/c),s.width=o.width,s.height=o.height,s.resolution=c,s.multisample??(s.multisample=this.renderer.multisample);const d=zl.create(s);this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;const p=e.transform;return e.transform=hS,this.renderer.render(e,{renderTexture:d,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=p,d}destroy(){}}mx.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"textureGenerator"};Xe.add(mx);const bl=new lt,uc=new lt;class gx{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new lt,this.destinationFrame=new lt,this.viewportFrame=new lt}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,r){const s=this.renderer;this.current=e;let o,c,d;e?(o=e.baseTexture,d=o.resolution,t||(bl.width=e.frame.width,bl.height=e.frame.height,t=bl),r||(uc.x=e.frame.x,uc.y=e.frame.y,uc.width=t.width,uc.height=t.height,r=uc),c=o.framebuffer):(d=s.resolution,t||(bl.width=s._view.screen.width,bl.height=s._view.screen.height,t=bl),r||(r=bl,r.width=t.width,r.height=t.height));const p=this.viewportFrame;p.x=r.x*d,p.y=r.y*d,p.width=r.width*d,p.height=r.height*d,e||(p.y=s.view.height-(p.y+p.height)),p.ceil(),this.renderer.framebuffer.bind(c,p),this.renderer.projection.update(r,t,d,!c),e?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)}clear(e,t){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,s=Gt.shared.setValue(e||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&s.premultiply(s.alpha);const o=this.destinationFrame,c=this.current?this.current.baseTexture:this.renderer._view.screen,d=o.width!==c.width||o.height!==c.height;if(d){let{x:p,y:g,width:_,height:x}=this.viewportFrame;p=Math.round(p),g=Math.round(g),_=Math.round(_),x=Math.round(x),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(p,g,_,x)}this.renderer.framebuffer.clear(s.red,s.green,s.blue,s.alpha,t),d&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}gx.extension={type:Ne.RendererSystem,name:"renderTexture"};Xe.add(gx);class cS{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function dS(n,e){const t={},r=e.getProgramParameter(n,e.ACTIVE_ATTRIBUTES);for(let s=0;s<r;s++){const o=e.getActiveAttrib(n,s);if(o.name.startsWith("gl_"))continue;const c=ex(e,o.type),d={type:c,name:o.name,size:J_(c),location:e.getAttribLocation(n,o.name)};t[o.name]=d}return t}function fS(n,e){const t={},r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<r;s++){const o=e.getActiveUniform(n,s),c=o.name.replace(/\[.*?\]$/,""),d=!!o.name.match(/\[.*?\]$/),p=ex(e,o.type);t[c]={name:c,index:s,type:p,size:o.size,isArray:d,value:K_(p,o.size)}}return t}function pS(n,e){var d;const t=S0(n,n.VERTEX_SHADER,e.vertexSrc),r=S0(n,n.FRAGMENT_SHADER,e.fragmentSrc),s=n.createProgram();n.attachShader(s,t),n.attachShader(s,r);const o=(d=e.extra)==null?void 0:d.transformFeedbackVaryings;if(o&&(typeof n.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):n.transformFeedbackVaryings(s,o.names,o.bufferMode==="separate"?n.SEPARATE_ATTRIBS:n.INTERLEAVED_ATTRIBS)),n.linkProgram(s),n.getProgramParameter(s,n.LINK_STATUS)||jE(n,s,t,r),e.attributeData=dS(s,n),e.uniformData=fS(s,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const p=Object.keys(e.attributeData);p.sort((g,_)=>g>_?1:-1);for(let g=0;g<p.length;g++)e.attributeData[p[g]].location=g,n.bindAttribLocation(s,g,p[g]);n.linkProgram(s)}n.deleteShader(t),n.deleteShader(r);const c={};for(const p in e.uniformData){const g=e.uniformData[p];c[p]={location:n.getUniformLocation(s,p),value:K_(g.type,g.size)}}return new cS(s,c)}function mS(n,e,t,r,s){t.buffer.update(s)}const gS={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},yx={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function yS(n){const e=n.map(o=>({data:o,offset:0,dataLen:0,dirty:0}));let t=0,r=0,s=0;for(let o=0;o<e.length;o++){const c=e[o];if(t=yx[c.data.type],c.data.size>1&&(t=Math.max(t,16)*c.data.size),c.dataLen=t,r%t!==0&&r<16){const d=r%t%16;r+=d,s+=d}r+t>16?(s=Math.ceil(s/16)*16,c.offset=s,s+=t,r=t):(c.offset=s,r+=t,s+=t)}return s=Math.ceil(s/16)*16,{uboElements:e,size:s}}function vS(n,e){const t=[];for(const r in n)e[r]&&t.push(e[r]);return t.sort((r,s)=>r.index-s.index),t}function _S(n,e){if(!n.autoManage)return{size:0,syncFunc:mS};const t=vS(n.uniforms,e),{uboElements:r,size:s}=yS(t),o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let c=0;c<r.length;c++){const d=r[c],p=n.uniforms[d.data.name],g=d.data.name;let _=!1;for(let x=0;x<Ju.length;x++){const S=Ju[x];if(S.codeUbo&&S.test(d.data,p)){o.push(`offset = ${d.offset/4};`,Ju[x].codeUbo(d.data.name,p)),_=!0;break}}if(!_)if(d.data.size>1){const x=J_(d.data.type),S=Math.max(yx[d.data.type]/16,1),b=x/S,T=(4-b%4)%4;o.push(`
                cv = ud.${g}.value;
                v = uv.${g};
                offset = ${d.offset/4};

                t = 0;

                for(var i=0; i < ${d.data.size*S}; i++)
                {
                    for(var j = 0; j < ${b}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${T};
                }

                `)}else{const x=gS[d.data.type];o.push(`
                cv = ud.${g}.value;
                v = uv.${g};
                offset = ${d.offset/4};
                ${x};
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}let xS=0;const Nd={textureCount:0,uboCount:0};class vx{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=xS++}systemCheck(){if(!WE())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,s=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(s.program)),t||(Nd.textureCount=0,Nd.uboCount=0,this.syncUniformGroup(e.uniformGroup,Nd)),s}setUniforms(e){const t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=zE(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const s=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),s(r.uniformData,e.uniforms,this.renderer,Nd,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){const{gl:s}=this.renderer;this.renderer.buffer.bind(e.buffer);const o=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,s.uniformBlockBinding(t.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;const c=this.getSignature(e,this.shader.program.uniformData,"ubo");let d=this._uboCache[c];if(d||(d=this._uboCache[c]=_S(e,this.shader.program.uniformData)),e.autoManage){const p=new Float32Array(d.size/4);e.buffer.update(p)}return t.uniformGroups[e.id]=d.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){const s=e.uniforms,o=[`${r}-`];for(const c in s)o.push(c),t[c]&&o.push(t[c].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,r=e.program,s=pS(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=s,s}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}vx.extension={type:Ne.RendererSystem,name:"shader"};Xe.add(vx);class cf{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.2 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}cf.defaultOptions={hello:!1},cf.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"startup"};Xe.add(cf);function wS(n,e=[]){return e[rt.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.ADD]=[n.ONE,n.ONE],e[rt.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.NONE]=[0,0],e[rt.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],e[rt.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[rt.SRC_IN]=[n.DST_ALPHA,n.ZERO],e[rt.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],e[rt.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],e[rt.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],e[rt.DST_IN]=[n.ZERO,n.SRC_ALPHA],e[rt.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],e[rt.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],e[rt.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],e[rt.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],e}const ES=0,SS=1,bS=2,TS=3,AS=4,CS=5,_x=class vg{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=rt.NONE,this._blendEq=!1,this.map=[],this.map[ES]=this.setBlend,this.map[SS]=this.setOffset,this.map[bS]=this.setCullFace,this.map[TS]=this.setDepthTest,this.map[AS]=this.setFrontFace,this.map[CS]=this.setDepthMask,this.checks=[],this.defaultState=new ks,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=wS(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)t&1&&this.map[r].call(this,!!(e.data&1<<r)),t=t>>1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(vg.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(vg.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],r=this.gl;t.length===2?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const r=this.checks.indexOf(e);t&&r===-1?this.checks.push(e):!t&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};_x.extension={type:Ne.RendererSystem,name:"state"};let PS=_x;Xe.add(PS);class RS extends Mc{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(s=>e.systems[s]),r=[...t,...Object.keys(e.systems).filter(s=>!t.includes(s))];for(const s of r)this.addSystem(e.systems[s],s)}addRunners(...e){e.forEach(t=>{this.runners[t]=new Xi(t)})}addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const s in this.runners)this.runners[s].add(r);return this}emitWithCustomOptions(e,t){const r=Object.keys(this._systemsHash);e.items.forEach(s=>{const o=r.find(c=>this._systemsHash[c]===s);s[e.name](t[o])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const mc=class Zd{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Zd.defaultMaxIdle,this.checkCountMax=Zd.defaultCheckCountMax,this.mode=Zd.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Zg.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let r=!1;for(let s=0;s<t.length;s++){const o=t[s];o.resource&&this.count-o.touched>this.maxIdle&&(e.destroyTexture(o,!0),t[s]=null,r=!0)}if(r){let s=0;for(let o=0;o<t.length;o++)t[o]!==null&&(t[s++]=t[o]);t.length=s}}unload(e){const t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(let s=e.children.length-1;s>=0;s--)this.unload(e.children[s])}destroy(){this.renderer=null}};mc.defaultMode=Zg.AUTO,mc.defaultMaxIdle=60*60,mc.defaultCheckCountMax=60*10,mc.extension={type:Ne.RendererSystem,name:"textureGC"};let Ml=mc;Xe.add(Ml);class Om{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ke.UNSIGNED_BYTE,this.internalFormat=Ae.RGBA,this.samplerType=0}}function IS(n){let e;return"WebGL2RenderingContext"in globalThis&&n instanceof globalThis.WebGL2RenderingContext?e={[n.RGB]:Fe.FLOAT,[n.RGBA]:Fe.FLOAT,[n.ALPHA]:Fe.FLOAT,[n.LUMINANCE]:Fe.FLOAT,[n.LUMINANCE_ALPHA]:Fe.FLOAT,[n.R8]:Fe.FLOAT,[n.R8_SNORM]:Fe.FLOAT,[n.RG8]:Fe.FLOAT,[n.RG8_SNORM]:Fe.FLOAT,[n.RGB8]:Fe.FLOAT,[n.RGB8_SNORM]:Fe.FLOAT,[n.RGB565]:Fe.FLOAT,[n.RGBA4]:Fe.FLOAT,[n.RGB5_A1]:Fe.FLOAT,[n.RGBA8]:Fe.FLOAT,[n.RGBA8_SNORM]:Fe.FLOAT,[n.RGB10_A2]:Fe.FLOAT,[n.RGB10_A2UI]:Fe.FLOAT,[n.SRGB8]:Fe.FLOAT,[n.SRGB8_ALPHA8]:Fe.FLOAT,[n.R16F]:Fe.FLOAT,[n.RG16F]:Fe.FLOAT,[n.RGB16F]:Fe.FLOAT,[n.RGBA16F]:Fe.FLOAT,[n.R32F]:Fe.FLOAT,[n.RG32F]:Fe.FLOAT,[n.RGB32F]:Fe.FLOAT,[n.RGBA32F]:Fe.FLOAT,[n.R11F_G11F_B10F]:Fe.FLOAT,[n.RGB9_E5]:Fe.FLOAT,[n.R8I]:Fe.INT,[n.R8UI]:Fe.UINT,[n.R16I]:Fe.INT,[n.R16UI]:Fe.UINT,[n.R32I]:Fe.INT,[n.R32UI]:Fe.UINT,[n.RG8I]:Fe.INT,[n.RG8UI]:Fe.UINT,[n.RG16I]:Fe.INT,[n.RG16UI]:Fe.UINT,[n.RG32I]:Fe.INT,[n.RG32UI]:Fe.UINT,[n.RGB8I]:Fe.INT,[n.RGB8UI]:Fe.UINT,[n.RGB16I]:Fe.INT,[n.RGB16UI]:Fe.UINT,[n.RGB32I]:Fe.INT,[n.RGB32UI]:Fe.UINT,[n.RGBA8I]:Fe.INT,[n.RGBA8UI]:Fe.UINT,[n.RGBA16I]:Fe.INT,[n.RGBA16UI]:Fe.UINT,[n.RGBA32I]:Fe.INT,[n.RGBA32UI]:Fe.UINT,[n.DEPTH_COMPONENT16]:Fe.FLOAT,[n.DEPTH_COMPONENT24]:Fe.FLOAT,[n.DEPTH_COMPONENT32F]:Fe.FLOAT,[n.DEPTH_STENCIL]:Fe.FLOAT,[n.DEPTH24_STENCIL8]:Fe.FLOAT,[n.DEPTH32F_STENCIL8]:Fe.FLOAT}:e={[n.RGB]:Fe.FLOAT,[n.RGBA]:Fe.FLOAT,[n.ALPHA]:Fe.FLOAT,[n.LUMINANCE]:Fe.FLOAT,[n.LUMINANCE_ALPHA]:Fe.FLOAT,[n.DEPTH_STENCIL]:Fe.FLOAT},e}function kS(n){let e;return"WebGL2RenderingContext"in globalThis&&n instanceof globalThis.WebGL2RenderingContext?e={[Ke.UNSIGNED_BYTE]:{[Ae.RGBA]:n.RGBA8,[Ae.RGB]:n.RGB8,[Ae.RG]:n.RG8,[Ae.RED]:n.R8,[Ae.RGBA_INTEGER]:n.RGBA8UI,[Ae.RGB_INTEGER]:n.RGB8UI,[Ae.RG_INTEGER]:n.RG8UI,[Ae.RED_INTEGER]:n.R8UI,[Ae.ALPHA]:n.ALPHA,[Ae.LUMINANCE]:n.LUMINANCE,[Ae.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[Ke.BYTE]:{[Ae.RGBA]:n.RGBA8_SNORM,[Ae.RGB]:n.RGB8_SNORM,[Ae.RG]:n.RG8_SNORM,[Ae.RED]:n.R8_SNORM,[Ae.RGBA_INTEGER]:n.RGBA8I,[Ae.RGB_INTEGER]:n.RGB8I,[Ae.RG_INTEGER]:n.RG8I,[Ae.RED_INTEGER]:n.R8I},[Ke.UNSIGNED_SHORT]:{[Ae.RGBA_INTEGER]:n.RGBA16UI,[Ae.RGB_INTEGER]:n.RGB16UI,[Ae.RG_INTEGER]:n.RG16UI,[Ae.RED_INTEGER]:n.R16UI,[Ae.DEPTH_COMPONENT]:n.DEPTH_COMPONENT16},[Ke.SHORT]:{[Ae.RGBA_INTEGER]:n.RGBA16I,[Ae.RGB_INTEGER]:n.RGB16I,[Ae.RG_INTEGER]:n.RG16I,[Ae.RED_INTEGER]:n.R16I},[Ke.UNSIGNED_INT]:{[Ae.RGBA_INTEGER]:n.RGBA32UI,[Ae.RGB_INTEGER]:n.RGB32UI,[Ae.RG_INTEGER]:n.RG32UI,[Ae.RED_INTEGER]:n.R32UI,[Ae.DEPTH_COMPONENT]:n.DEPTH_COMPONENT24},[Ke.INT]:{[Ae.RGBA_INTEGER]:n.RGBA32I,[Ae.RGB_INTEGER]:n.RGB32I,[Ae.RG_INTEGER]:n.RG32I,[Ae.RED_INTEGER]:n.R32I},[Ke.FLOAT]:{[Ae.RGBA]:n.RGBA32F,[Ae.RGB]:n.RGB32F,[Ae.RG]:n.RG32F,[Ae.RED]:n.R32F,[Ae.DEPTH_COMPONENT]:n.DEPTH_COMPONENT32F},[Ke.HALF_FLOAT]:{[Ae.RGBA]:n.RGBA16F,[Ae.RGB]:n.RGB16F,[Ae.RG]:n.RG16F,[Ae.RED]:n.R16F},[Ke.UNSIGNED_SHORT_5_6_5]:{[Ae.RGB]:n.RGB565},[Ke.UNSIGNED_SHORT_4_4_4_4]:{[Ae.RGBA]:n.RGBA4},[Ke.UNSIGNED_SHORT_5_5_5_1]:{[Ae.RGBA]:n.RGB5_A1},[Ke.UNSIGNED_INT_2_10_10_10_REV]:{[Ae.RGBA]:n.RGB10_A2,[Ae.RGBA_INTEGER]:n.RGB10_A2UI},[Ke.UNSIGNED_INT_10F_11F_11F_REV]:{[Ae.RGB]:n.R11F_G11F_B10F},[Ke.UNSIGNED_INT_5_9_9_9_REV]:{[Ae.RGB]:n.RGB9_E5},[Ke.UNSIGNED_INT_24_8]:{[Ae.DEPTH_STENCIL]:n.DEPTH24_STENCIL8},[Ke.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Ae.DEPTH_STENCIL]:n.DEPTH32F_STENCIL8}}:e={[Ke.UNSIGNED_BYTE]:{[Ae.RGBA]:n.RGBA,[Ae.RGB]:n.RGB,[Ae.ALPHA]:n.ALPHA,[Ae.LUMINANCE]:n.LUMINANCE,[Ae.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[Ke.UNSIGNED_SHORT_5_6_5]:{[Ae.RGB]:n.RGB},[Ke.UNSIGNED_SHORT_4_4_4_4]:{[Ae.RGBA]:n.RGBA},[Ke.UNSIGNED_SHORT_5_5_5_1]:{[Ae.RGBA]:n.RGBA}},e}class xx{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new at,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=kS(e),this.samplerTypes=IS(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let s=0;s<t;s++)this.boundTextures[s]=null;this.emptyTextures={};const r=new Om(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Om(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let s=0;s<6;s++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let s=0;s<this.boundTextures.length;s++)this.bind(null,s)}bind(e,t=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const s=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,s.texture)),s.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):s.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let s=0;s<r.length;s++)r[s]===this.unknownTexture&&this.bind(null,s)}for(let s=0;s<r.length;s++)r[s]===e&&(this.currentLocation!==s&&(t.activeTexture(t.TEXTURE0+s),this.currentLocation=s),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[s]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:r,CONTEXT_UID:s}=this;if(r)for(let o=e-1;o>=0;--o){const c=t[o];c&&c._glTextures[s].samplerType!==Fe.FLOAT&&this.renderer.texture.unbind(c)}}initTexture(e){const t=new Om(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var r;t.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??Fe.FLOAT,this.webGLVersion===2&&e.type===Ke.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var s;const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const r=this.renderer;if(this.initTextureType(e,t),(s=e.resource)==null?void 0:s.upload(r,e,t))t.samplerType!==Fe.FLOAT&&(this.hasIntegerTextures=!0);else{const o=e.realWidth,c=e.realHeight,d=r.gl;(t.width!==o||t.height!==c||t.dirtyId<0)&&(t.width=o,t.height=c,d.texImage2D(e.target,0,t.internalFormat,o,c,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const s=this.managedTextures.indexOf(e);s!==-1&&Zu(this.managedTextures,s,1)}}updateTextureStyle(e){var r;const t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===Ps.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=ca.CLAMP:t.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const r=this.gl;if(t.mipmap&&e.mipmap!==Ps.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===la.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const s=this.renderer.context.extensions.anisotropicFiltering;if(s&&e.anisotropicLevel>0&&e.scaleMode===la.LINEAR){const o=Math.min(e.anisotropicLevel,r.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,s.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===la.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===la.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}xx.extension={type:Ne.RendererSystem,name:"texture"};Xe.add(xx);class wx{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,s)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:r,renderer:s}=this;t&&s.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:r,CONTEXT_UID:s}=this,o=t.createTransformFeedback();e._glTransformFeedbacks[s]=o,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,o);for(let c=0;c<e.buffers.length;c++){const d=e.buffers[c];d&&(r.buffer.update(d),d._glBuffers[s].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,c,d._glBuffers[s].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),o}disposeTransformFeedback(e,t){const r=e._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this);const o=this.renderer.buffer;if(o)for(let c=0;c<e.buffers.length;c++){const d=e.buffers[c];if(!d)continue;const p=d._glBuffers[this.CONTEXT_UID];p&&(p.refCount--,p.refCount===0&&!t&&o.dispose(d,t))}r&&(t||s.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}wx.extension={type:Ne.RendererSystem,name:"transformFeedback"};Xe.add(wx);class df{constructor(e){this.renderer=e}init(e){this.screen=new lt(0,0,e.width,e.height),this.element=e.view||Be.ADAPTER.createCanvas(),this.resolution=e.resolution||Be.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const r=this.element.width/this.resolution,s=this.element.height/this.resolution;this.screen.width=r,this.screen.height=s,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${s}px`),this.renderer.emit("resize",r,s),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&((t=this.element.parentNode)==null||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}df.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},df.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"_view"};Xe.add(df);Be.PREFER_ENV=Ul.WEBGL2;Be.STRICT_TEXTURE_CACHE=!1;Be.RENDER_OPTIONS={...hf.defaultOptions,...uf.defaultOptions,...df.defaultOptions,...cf.defaultOptions};Object.defineProperties(Be,{WRAP_MODE:{get(){return at.defaultOptions.wrapMode},set(n){ft("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),at.defaultOptions.wrapMode=n}},SCALE_MODE:{get(){return at.defaultOptions.scaleMode},set(n){ft("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),at.defaultOptions.scaleMode=n}},MIPMAP_TEXTURES:{get(){return at.defaultOptions.mipmap},set(n){ft("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),at.defaultOptions.mipmap=n}},ANISOTROPIC_LEVEL:{get(){return at.defaultOptions.anisotropicLevel},set(n){ft("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),at.defaultOptions.anisotropicLevel=n}},FILTER_RESOLUTION:{get(){return ft("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),fn.defaultResolution},set(n){fn.defaultResolution=n}},FILTER_MULTISAMPLE:{get(){return ft("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),fn.defaultMultisample},set(n){fn.defaultMultisample=n}},SPRITE_MAX_TEXTURES:{get(){return kl.defaultMaxTextures},set(n){ft("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),kl.defaultMaxTextures=n}},SPRITE_BATCH_SIZE:{get(){return kl.defaultBatchSize},set(n){ft("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),kl.defaultBatchSize=n}},CAN_UPLOAD_SAME_BUFFER:{get(){return kl.canUploadSameBuffer},set(n){ft("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),kl.canUploadSameBuffer=n}},GC_MODE:{get(){return Ml.defaultMode},set(n){ft("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Ml.defaultMode=n}},GC_MAX_IDLE:{get(){return Ml.defaultMaxIdle},set(n){ft("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Ml.defaultMaxIdle=n}},GC_MAX_CHECK_COUNT:{get(){return Ml.defaultCheckCountMax},set(n){ft("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Ml.defaultCheckCountMax=n}},PRECISION_VERTEX:{get(){return ha.defaultVertexPrecision},set(n){ft("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),ha.defaultVertexPrecision=n}},PRECISION_FRAGMENT:{get(){return ha.defaultFragmentPrecision},set(n){ft("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),ha.defaultFragmentPrecision=n}}});var wo=(n=>(n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",n))(wo||{});class Fm{constructor(e,t=null,r=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=s}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const Ex=class Zn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Fm(null,null,1/0),this.deltaMS=1/Zn.targetFPMS,this.elapsedMS=1/Zn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=wo.NORMAL){return this._addListener(new Fm(e,t,r))}addOnce(e,t,r=wo.NORMAL){return this._addListener(new Fm(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r.match(e,t)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const o=e-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=e-o%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Zn.targetFPMS;const r=this._head;let s=r.next;for(;s;)s=s.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,Zn.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!Zn._shared){const e=Zn._shared=new Zn;e.autoStart=!0,e._protected=!0}return Zn._shared}static get system(){if(!Zn._system){const e=Zn._system=new Zn;e.autoStart=!0,e._protected=!0}return Zn._system}};Ex.targetFPMS=.06;let Dr=Ex;Object.defineProperties(Be,{TARGET_FPMS:{get(){return Dr.targetFPMS},set(n){ft("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Dr.targetFPMS=n}}});class Sx{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,wo.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Dr.shared:new Dr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}Sx.extension=Ne.Application;Xe.add(Sx);const bx=[];Xe.handleByList(Ne.Renderer,bx);function MS(n){for(const e of bx)if(e.test(n))return new e(n);throw new Error("Unable to auto-detect a suitable renderer.")}var NS=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,DS=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const OS=NS,Tx=DS;class Ax{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=yr.HIGH?this.multisample=yr.HIGH:t>=yr.MEDIUM?this.multisample=yr.MEDIUM:t>=yr.LOW?this.multisample=yr.LOW:this.multisample=yr.NONE}destroy(){}}Ax.extension={type:Ne.RendererSystem,name:"_multisample"};Xe.add(Ax);class FS{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Cx{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,s.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:r,CONTEXT_UID:s}=this;if(this.boundBufferBases[t]!==e){const o=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,o.buffer)}}bindBufferRange(e,t,r){const{gl:s,CONTEXT_UID:o}=this;r=r||0;const c=e._glBuffers[o]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,t||0,c.buffer,r*256,256)}update(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==s.updateID)if(s.updateID=e._updateID,t.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const o=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,o)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this),r&&(t||s.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new FS(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}Cx.extension={type:Ne.RendererSystem,name:"buffer"};Xe.add(Cx);class Px{constructor(e){this.renderer=e}render(e,t){const r=this.renderer;let s,o,c,d;if(t&&(s=t.renderTexture,o=t.clear,c=t.transform,d=t.skipUpdateTransform),this.renderingToScreen=!s,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=c,!r.context.isLost){if(s||(this.lastObjectRendered=e),!d){const p=e.enableTempParent();e.updateTransform(),e.disableTempParent(p)}r.renderTexture.bind(s),r.batch.currentRenderer.start(),(o??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),s&&(t.blit&&r.framebuffer.blit(),s.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}Px.extension={type:Ne.RendererSystem,name:"objectRenderer"};Xe.add(Px);const Jd=class _g extends RS{constructor(e){super(),this.type=M_.WEBGL,e=Object.assign({},Be.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Yi({projectionMatrix:new Ht},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:_g.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(ft("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=_g.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:sE()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return ft("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return ft("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return ft("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return ft("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){ft("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return ft("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){ft("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return ft("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};Jd.extension={type:Ne.Renderer,priority:1},Jd.__plugins={},Jd.__systems={};let iy=Jd;Xe.handleByMap(Ne.RendererPlugin,iy.__plugins);Xe.handleByMap(Ne.RendererSystem,iy.__systems);Xe.add(iy);class Rx extends Ac{constructor(e,t){const{width:r,height:s}=t||{};super(r,s),this.items=[],this.itemDirtyIds=[];for(let o=0;o<e;o++){const c=new at;this.items.push(c),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof Ac?this.addResourceAt(e[r],r):this.addResourceAt(Y_(e[r],t),r))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(t=>t.resource).filter(t=>t).map(t=>t.load());return this._load=Promise.all(e).then(()=>{const{realWidth:t,realHeight:r}=this.items[0];return this.resize(t,r),this.update(),Promise.resolve(this)}),this._load}}class BS extends Rx{constructor(e,t){const{width:r,height:s}=t||{};let o,c;Array.isArray(e)?(o=e,c=e.length):c=e,super(c,{width:r,height:s}),o&&this.initFromArray(o,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Ku.TEXTURE_2D_ARRAY}upload(e,t,r){const{length:s,itemDirtyIds:o,items:c}=this,{gl:d}=e;r.dirtyId<0&&d.texImage3D(d.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,s,0,t.format,r.type,null);for(let p=0;p<s;p++){const g=c[p];o[p]<g.dirtyId&&(o[p]=g.dirtyId,g.valid&&d.texSubImage3D(d.TEXTURE_2D_ARRAY,0,0,0,p,g.resource.width,g.resource.height,1,t.format,r.type,g.resource.source))}return!0}}class LS extends fa{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Ix=class gc extends Rx{constructor(e,t){const{width:r,height:s,autoLoad:o,linkBaseTexture:c}=t||{};if(e&&e.length!==gc.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:r,height:s});for(let d=0;d<gc.SIDES;d++)this.items[d].target=Ku.TEXTURE_CUBE_MAP_POSITIVE_X+d;this.linkBaseTexture=c!==!1,e&&this.initFromArray(e,t),o!==!1&&this.load()}bind(e){super.bind(e),e.target=Ku.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=Ku.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,r){const s=this.itemDirtyIds;for(let o=0;o<gc.SIDES;o++){const c=this.items[o];(s[o]<c.dirtyId||r.dirtyId<t.dirtyId)&&(c.valid&&c.resource?(c.resource.upload(e,c,r),s[o]=c.dirtyId):s[o]<-1&&(e.gl.texImage2D(c.target,0,r.internalFormat,t.realWidth,t.realHeight,0,t.format,r.type,null),s[o]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===gc.SIDES}};Ix.SIDES=6;let US=Ix;class qu extends fa{constructor(e,t){t=t||{};let r,s,o;typeof e=="string"?(r=qu.EMPTY,s=e,o=!0):(r=e,s=null,o=!1),super(r),this.url=s,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??o,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,t)=>{if(this.url===null){e(this);return}try{const r=await Be.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const s=await r.blob();if(this.destroyed)return;const o=await createImageBitmap(s,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Bn.UNPACK?"premultiply":"none"});if(this.destroyed){o.close();return}this.source=o,this.update(),e(this)}catch(r){if(this.destroyed)return;t(r),this.onError.emit(r)}}),this._load)}upload(e,t,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return qu._EMPTY=qu._EMPTY??Be.ADAPTER.createCanvas(0,0),qu._EMPTY}}const xg=class ef extends fa{constructor(e,t){t=t||{},super(Be.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},ef.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;fa.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,r=e.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let s=t*this.scale,o=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(s=this._overrideWidth||this._overrideHeight/r*t,o=this._overrideHeight||this._overrideWidth/t*r),s=Math.round(s),o=Math.round(o);const c=this.source;c.width=s,c.height=o,c._pixiId=`canvas_${Ll()}`,c.getContext("2d").drawImage(e,0,0,t,r,0,0,s,o),this._resolve(),this._resolve=null}}static getSize(e){const t=ef.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=Math.round(parseFloat(t[3])),r[t[5]]=Math.round(parseFloat(t[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&ef.SVG_XML.test(e)}};xg.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,xg.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let wg=xg;class zS extends fa{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const Eg=class Sg extends fa{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const r=document.createElement("video");t.autoLoad!==!1&&r.setAttribute("preload","auto"),t.playsinline!==!1&&(r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","")),t.muted===!0&&(r.setAttribute("muted",""),r.muted=!0),t.loop===!0&&r.setAttribute("loop",""),t.autoPlay!==!1&&r.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const s=e[0].src||e[0];fa.crossOrigin(r,s,t.crossorigin);for(let o=0;o<e.length;++o){const c=document.createElement("source");let{src:d,mime:p}=e[o];if(d=d||e[o],d.startsWith("data:"))p=d.slice(5,d.indexOf(";"));else if(!d.startsWith("blob:")){const g=d.split("?").shift().toLowerCase(),_=g.slice(g.lastIndexOf(".")+1);p=p||Sg.MIME_TYPES[_]||`video/${_}`}c.src=d,p&&(c.type=p),r.appendChild(c)}e=r}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const t=Dr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,r)=>{this.valid?t(this):(this._resolve=t,this._reject=r,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Dr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Dr.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Dr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||Sg.TYPES.includes(t)}};Eg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Eg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let kx=Eg;ug.push(qu,nx,LS,kx,zS,wg,Af,US,BS);class ff{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?lt.EMPTY:(e=e||new lt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:r,b:s,c:o,d:c,tx:d,ty:p}=e,g=r*t.x+o*t.y+d,_=s*t.x+c*t.y+p;this.minX=Math.min(this.minX,g),this.maxX=Math.max(this.maxX,g),this.minY=Math.min(this.minY,_),this.maxY=Math.max(this.maxY,_)}addQuad(e){let t=this.minX,r=this.minY,s=this.maxX,o=this.maxY,c=e[0],d=e[1];t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,o=d>o?d:o,c=e[2],d=e[3],t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,o=d>o?d:o,c=e[4],d=e[5],t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,o=d>o?d:o,c=e[6],d=e[7],t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,o=d>o?d:o,this.minX=t,this.minY=r,this.maxX=s,this.maxY=o}addFrame(e,t,r,s,o){this.addFrameMatrix(e.worldTransform,t,r,s,o)}addFrameMatrix(e,t,r,s,o){const c=e.a,d=e.b,p=e.c,g=e.d,_=e.tx,x=e.ty;let S=this.minX,b=this.minY,T=this.maxX,R=this.maxY,P=c*t+p*r+_,M=d*t+g*r+x;S=P<S?P:S,b=M<b?M:b,T=P>T?P:T,R=M>R?M:R,P=c*s+p*r+_,M=d*s+g*r+x,S=P<S?P:S,b=M<b?M:b,T=P>T?P:T,R=M>R?M:R,P=c*t+p*o+_,M=d*t+g*o+x,S=P<S?P:S,b=M<b?M:b,T=P>T?P:T,R=M>R?M:R,P=c*s+p*o+_,M=d*s+g*o+x,S=P<S?P:S,b=M<b?M:b,T=P>T?P:T,R=M>R?M:R,this.minX=S,this.minY=b,this.maxX=T,this.maxY=R}addVertexData(e,t,r){let s=this.minX,o=this.minY,c=this.maxX,d=this.maxY;for(let p=t;p<r;p+=2){const g=e[p],_=e[p+1];s=g<s?g:s,o=_<o?_:o,c=g>c?g:c,d=_>d?_:d}this.minX=s,this.minY=o,this.maxX=c,this.maxY=d}addVertices(e,t,r,s){this.addVerticesMatrix(e.worldTransform,t,r,s)}addVerticesMatrix(e,t,r,s,o=0,c=o){const d=e.a,p=e.b,g=e.c,_=e.d,x=e.tx,S=e.ty;let b=this.minX,T=this.minY,R=this.maxX,P=this.maxY;for(let M=r;M<s;M+=2){const z=t[M],F=t[M+1],$=d*z+g*F+x,L=_*F+p*z+S;b=Math.min(b,$-o),R=Math.max(R,$+o),T=Math.min(T,L-c),P=Math.max(P,L+c)}this.minX=b,this.minY=T,this.maxX=R,this.maxY=P}addBounds(e){const t=this.minX,r=this.minY,s=this.maxX,o=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>s?e.maxX:s,this.maxY=e.maxY>o?e.maxY:o}addBoundsMask(e,t){const r=e.minX>t.minX?e.minX:t.minX,s=e.minY>t.minY?e.minY:t.minY,o=e.maxX<t.maxX?e.maxX:t.maxX,c=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=o&&s<=c){const d=this.minX,p=this.minY,g=this.maxX,_=this.maxY;this.minX=r<d?r:d,this.minY=s<p?s:p,this.maxX=o>g?o:g,this.maxY=c>_?c:_}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const r=e.minX>t.x?e.minX:t.x,s=e.minY>t.y?e.minY:t.y,o=e.maxX<t.x+t.width?e.maxX:t.x+t.width,c=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=o&&s<=c){const d=this.minX,p=this.minY,g=this.maxX,_=this.maxY;this.minX=r<d?r:d,this.minY=s<p?s:p,this.maxX=o>g?o:g,this.maxY=c>_?c:_}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,r,s,o,c){e-=o,t-=c,r+=o,s+=c,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>s?this.maxY:s}}class Xt extends Mc{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new If,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new ff,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let r=0;r<t.length;++r){const s=t[r];Object.defineProperty(Xt.prototype,s,Object.getOwnPropertyDescriptor(e,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new lt),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new lt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new ff);const t=this.transform,r=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(r==null?void 0:r.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const c=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=s,this._bounds.updateID+=this._boundsID-o,c}toGlobal(e,t,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,r,s){return t&&(e=t.toGlobal(e,r,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,t=0,r=1,s=1,o=0,c=0,d=0,p=0,g=0){return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=s||1,this.rotation=o,this.skew.x=c,this.skew.y=d,this.pivot.x=p,this.pivot.y=g,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new GS),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*NE}set angle(e){this.transform.rotation=e*DE}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class GS extends Xt{constructor(){super(...arguments),this.sortDirty=null}}Xt.prototype.displayObjectUpdateTransform=Xt.prototype.updateTransform;const HS=new Ht;function jS(n,e){return n.zIndex===e.zIndex?n._lastSortedIndex-e._lastSortedIndex:n.zIndex-e.zIndex}const Mx=class bg extends Xt{constructor(){super(),this.children=[],this.sortableChildren=bg.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const r=this.getChildIndex(e),s=this.getChildIndex(t);this.children[r]=t,this.children[s]=e,this.onChildrenChange(r<s?r:s)}getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(e);Zu(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],r=this.children.indexOf(t);if(r===-1)return null;t.parent=null,t.transform._parentID=-1,Zu(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this),this.emit("childRemoved",t,this,r)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Zu(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const r=e,s=t,o=s-r;let c;if(o>0&&o<=s){c=this.children.splice(r,o);for(let d=0;d<c.length;++d)c[d].parent=null,c[d].transform&&(c[d].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let d=0;d<c.length;++d)c[d].emit("removed",this),this.emit("childRemoved",c[d],this,d);return c}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,r=this.children.length;t<r;++t){const s=this.children[t];s._lastSortedIndex=t,!e&&s.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(jS),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const r=this.children[e];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){const r=t._mask.isMaskData?t._mask.maskObject:t._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(t._bounds,r._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const r=super.getLocalBounds(e);if(!t)for(let s=0,o=this.children.length;s<o;++s){const c=this.children[s];c.visible&&c.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let r,s;this.cullArea?(r=this.cullArea,s=this.worldTransform):this._render!==bg.prototype._render&&(r=this.getBounds(!0));const o=e.projection.transform;if(o&&(s?(s=HS.copyFrom(s),s.prepend(o)):s=o),r&&t.intersects(r,s))this._render(e);else if(this.cullArea)return;for(let c=0,d=this.children.length;c<d;++c){const p=this.children[c],g=p.cullable;p.cullable=g||!this.cullArea,p.render(e),p.cullable=g}}render(e){var t;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(t=this.filters)!=null&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let r=0,s=this.children.length;r<s;++r)this.children[r].render(e)}}renderAdvanced(e){var o,c,d;const t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let p=0;p<t.length;p++)t[p].enabled&&this._enabledFilters.push(t[p])}const s=t&&((o=this._enabledFilters)==null?void 0:o.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==br.NONE));if(s&&e.batch.flush(),t&&((c=this._enabledFilters)!=null&&c.length)&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let p=0,g=this.children.length;p<g;++p)this.children[p].render(e)}s&&e.batch.flush(),r&&e.mask.pop(this),t&&((d=this._enabledFilters)!=null&&d.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t=typeof e=="boolean"?e:e==null?void 0:e.children,r=this.removeChildren(0,this.children.length);if(t)for(let s=0;s<r.length;++s)r[s].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e}};Mx.defaultSortableChildren=!1;let pn=Mx;pn.prototype.containerUpdateTransform=pn.prototype.updateTransform;Object.defineProperties(Be,{SORTABLE_CHILDREN:{get(){return pn.defaultSortableChildren},set(n){ft("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),pn.defaultSortableChildren=n}}});var Mf=(n=>(n[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",n))(Mf||{});const hc=new pt,$S=new Uint16Array([0,1,2,0,2,3]);class Ms extends pn{constructor(e){super(),this._anchor=new Ts(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Gt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=rt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Me.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=$S,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Be.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=yo(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=yo(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,r=t.a,s=t.b,o=t.c,c=t.d,d=t.tx,p=t.ty,g=this.vertexData,_=e.trim,x=e.orig,S=this._anchor;let b=0,T=0,R=0,P=0;if(_?(T=_.x-S._x*x.width,b=T+_.width,P=_.y-S._y*x.height,R=P+_.height):(T=-S._x*x.width,b=T+x.width,P=-S._y*x.height,R=P+x.height),g[0]=r*T+o*P+d,g[1]=c*P+s*T+p,g[2]=r*b+o*P+d,g[3]=c*P+s*b+p,g[4]=r*b+o*R+d,g[5]=c*R+s*b+p,g[6]=r*T+o*R+d,g[7]=c*R+s*T+p,this._roundPixels){const M=Be.RESOLUTION;for(let z=0;z<g.length;++z)g[z]=Math.round(g[z]*M)/M}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,r=e.orig,s=this._anchor,o=this.transform.worldTransform,c=o.a,d=o.b,p=o.c,g=o.d,_=o.tx,x=o.ty,S=-s._x*r.width,b=S+r.width,T=-s._y*r.height,R=T+r.height;if(t[0]=c*S+p*T+_,t[1]=g*T+d*S+x,t[2]=c*b+p*T+_,t[3]=g*T+d*b+x,t[4]=c*b+p*R+_,t[5]=g*R+d*b+x,t[6]=c*S+p*R+_,t[7]=g*R+d*S+x,this._roundPixels){const P=Be.RESOLUTION;for(let M=0;M<t.length;++M)t[M]=Math.round(t[M]*P)/P}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new ff),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new lt),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,hc);const t=this._texture.orig.width,r=this._texture.orig.height,s=-t*this.anchor.x;let o=0;return hc.x>=s&&hc.x<s+t&&(o=-r*this.anchor.y,hc.y>=o&&hc.y<o+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const t=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const r=e instanceof Me?e:Me.from(e,t);return new Ms(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=yo(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=yo(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Me.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Dd={willReadFrequently:!0},ws=class qe{static get experimentalLetterSpacingSupported(){let e=qe._experimentalLetterSpacingSupported;if(e!==void 0){const t=Be.ADAPTER.getCanvasRenderingContext2D().prototype;e=qe._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,r,s,o,c,d,p,g){this.text=e,this.style=t,this.width=r,this.height=s,this.lines=o,this.lineWidths=c,this.lineHeight=d,this.maxLineWidth=p,this.fontProperties=g}static measureText(e,t,r,s=qe._canvas){r=r??t.wordWrap;const o=t.toFontString(),c=qe.measureFont(o);c.fontSize===0&&(c.fontSize=t.fontSize,c.ascent=t.fontSize);const d=s.getContext("2d",Dd);d.font=o;const p=(r?qe.wordWrap(e,t,s):e).split(/(?:\r\n|\r|\n)/),g=new Array(p.length);let _=0;for(let T=0;T<p.length;T++){const R=qe._measureText(p[T],t.letterSpacing,d);g[T]=R,_=Math.max(_,R)}let x=_+t.strokeThickness;t.dropShadow&&(x+=t.dropShadowDistance);const S=t.lineHeight||c.fontSize+t.strokeThickness;let b=Math.max(S,c.fontSize+t.strokeThickness*2)+t.leading+(p.length-1)*(S+t.leading);return t.dropShadow&&(b+=t.dropShadowDistance),new qe(e,t,x,b,p,g,S+t.leading,_,c)}static _measureText(e,t,r){let s=!1;qe.experimentalLetterSpacingSupported&&(qe.experimentalLetterSpacing?(r.letterSpacing=`${t}px`,r.textLetterSpacing=`${t}px`,s=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let o=r.measureText(e).width;return o>0&&(s?o-=t:o+=(qe.graphemeSegmenter(e).length-1)*t),o}static wordWrap(e,t,r=qe._canvas){const s=r.getContext("2d",Dd);let o=0,c="",d="";const p=Object.create(null),{letterSpacing:g,whiteSpace:_}=t,x=qe.collapseSpaces(_),S=qe.collapseNewlines(_);let b=!x;const T=t.wordWrapWidth+g,R=qe.tokenize(e);for(let P=0;P<R.length;P++){let M=R[P];if(qe.isNewline(M)){if(!S){d+=qe.addLine(c),b=!x,c="",o=0;continue}M=" "}if(x){const F=qe.isBreakingSpace(M),$=qe.isBreakingSpace(c[c.length-1]);if(F&&$)continue}const z=qe.getFromCache(M,g,p,s);if(z>T)if(c!==""&&(d+=qe.addLine(c),c="",o=0),qe.canBreakWords(M,t.breakWords)){const F=qe.wordWrapSplit(M);for(let $=0;$<F.length;$++){let L=F[$],Q=L,D=1;for(;F[$+D];){const ce=F[$+D];if(!qe.canBreakChars(Q,ce,M,$,t.breakWords))L+=ce;else break;Q=ce,D++}$+=D-1;const Z=qe.getFromCache(L,g,p,s);Z+o>T&&(d+=qe.addLine(c),b=!1,c="",o=0),c+=L,o+=Z}}else{c.length>0&&(d+=qe.addLine(c),c="",o=0);const F=P===R.length-1;d+=qe.addLine(M,!F),b=!1,c="",o=0}else z+o>T&&(b=!1,d+=qe.addLine(c),c="",o=0),(c.length>0||!qe.isBreakingSpace(M)||b)&&(c+=M,o+=z)}return d+=qe.addLine(c,!1),d}static addLine(e,t=!0){return e=qe.trimRight(e),e=t?`${e}
`:e,e}static getFromCache(e,t,r,s){let o=r[e];return typeof o!="number"&&(o=qe._measureText(e,t,s)+t,r[e]=o),o}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const r=e[t];if(!qe.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:qe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:qe._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let r="";if(typeof e!="string")return t;for(let s=0;s<e.length;s++){const o=e[s],c=e[s+1];if(qe.isBreakingSpace(o,c)||qe.isNewline(o)){r!==""&&(t.push(r),r=""),t.push(o);continue}r+=o}return r!==""&&t.push(r),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,s,o){return!0}static wordWrapSplit(e){return qe.graphemeSegmenter(e)}static measureFont(e){if(qe._fonts[e])return qe._fonts[e];const t={ascent:0,descent:0,fontSize:0},r=qe._canvas,s=qe._context;s.font=e;const o=qe.METRICS_STRING+qe.BASELINE_SYMBOL,c=Math.ceil(s.measureText(o).width);let d=Math.ceil(s.measureText(qe.BASELINE_SYMBOL).width);const p=Math.ceil(qe.HEIGHT_MULTIPLIER*d);if(d=d*qe.BASELINE_MULTIPLIER|0,c===0||p===0)return qe._fonts[e]=t,t;r.width=c,r.height=p,s.fillStyle="#f00",s.fillRect(0,0,c,p),s.font=e,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(o,0,d);const g=s.getImageData(0,0,c,p).data,_=g.length,x=c*4;let S=0,b=0,T=!1;for(S=0;S<d;++S){for(let R=0;R<x;R+=4)if(g[b+R]!==255){T=!0;break}if(!T)b+=x;else break}for(t.ascent=d-S,b=_-x,T=!1,S=p;S>d;--S){for(let R=0;R<x;R+=4)if(g[b+R]!==255){T=!0;break}if(!T)b-=x;else break}return t.descent=S-d,t.fontSize=t.ascent+t.descent,qe._fonts[e]=t,t}static clearMetrics(e=""){e?delete qe._fonts[e]:qe._fonts={}}static get _canvas(){var e;if(!qe.__canvas){let t;try{const r=new OffscreenCanvas(0,0);if((e=r.getContext("2d",Dd))!=null&&e.measureText)return qe.__canvas=r,r;t=Be.ADAPTER.createCanvas()}catch{t=Be.ADAPTER.createCanvas()}t.width=t.height=10,qe.__canvas=t}return qe.__canvas}static get _context(){return qe.__context||(qe.__context=qe._canvas.getContext("2d",Dd)),qe.__context}};ws.METRICS_STRING="|q",ws.BASELINE_SYMBOL="M",ws.BASELINE_MULTIPLIER=1.4,ws.HEIGHT_MULTIPLIER=2,ws.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const n=new Intl.Segmenter;return e=>[...n.segment(e)].map(t=>t.segment)}return n=>[...n]})(),ws.experimentalLetterSpacing=!1,ws._fonts={},ws._newlines=[10,13],ws._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let mo=ws;const WS=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Nx=class yc{constructor(e){this.styleID=0,this.reset(),Lm(this,e,e)}clone(){const e={};return Lm(e,this,yc.defaultStyle),new yc(e)}reset(){Lm(this,yc.defaultStyle,yc.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=Bm(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=Bm(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){VS(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=Bm(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let r=t.length-1;r>=0;r--){let s=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!WS.includes(s)&&(s=`"${s}"`),t[r]=s}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};Nx.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Mf.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Eo=Nx;function Bm(n){const e=Gt.shared,t=r=>{const s=e.setValue(r);return s.alpha===1?s.toHex():s.toRgbaString()};return Array.isArray(n)?n.map(t):t(n)}function VS(n,e){if(!Array.isArray(n)||!Array.isArray(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(n[t]!==e[t])return!1;return!0}function Lm(n,e,t){for(const r in t)Array.isArray(e[r])?n[r]=e[r].slice():n[r]=e[r]}const XS={texture:!0,children:!1,baseTexture:!0},Dx=class Tg extends Ms{constructor(e,t,r){let s=!1;r||(r=Be.ADAPTER.createCanvas(),s=!0),r.width=3,r.height=3;const o=Me.from(r);o.orig=new lt,o.trim=new lt,super(o),this._ownCanvas=s,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=Tg.defaultResolution??Be.RESOLUTION,this._autoResolution=Tg.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return mo.experimentalLetterSpacing}static set experimentalLetterSpacing(e){ft("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),mo.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const r=this.context,s=mo.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=s.width,c=s.height,d=s.lines,p=s.lineHeight,g=s.lineWidths,_=s.maxLineWidth,x=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,c)+t.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;let S,b;const T=t.dropShadow?2:1;for(let R=0;R<T;++R){const P=t.dropShadow&&R===0,M=P?Math.ceil(Math.max(1,c)+t.padding*2):0,z=M*this._resolution;if(P){r.fillStyle="black",r.strokeStyle="black";const $=t.dropShadowColor,L=t.dropShadowBlur*this._resolution,Q=t.dropShadowDistance*this._resolution;r.shadowColor=Gt.shared.setValue($).setAlpha(t.dropShadowAlpha).toRgbaString(),r.shadowBlur=L,r.shadowOffsetX=Math.cos(t.dropShadowAngle)*Q,r.shadowOffsetY=Math.sin(t.dropShadowAngle)*Q+z}else r.fillStyle=this._generateFillStyle(t,d,s),r.strokeStyle=t.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let F=(p-x.fontSize)/2;p-x.fontSize<0&&(F=0);for(let $=0;$<d.length;$++)S=t.strokeThickness/2,b=t.strokeThickness/2+$*p+x.ascent+F,t.align==="right"?S+=_-g[$]:t.align==="center"&&(S+=(_-g[$])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(d[$],S+t.padding,b+t.padding-M,!0),t.fill&&this.drawLetterSpacing(d[$],S+t.padding,b+t.padding-M)}this.updateTexture()}drawLetterSpacing(e,t,r,s=!1){const o=this._style.letterSpacing;let c=!1;if(mo.experimentalLetterSpacingSupported&&(mo.experimentalLetterSpacing?(this.context.letterSpacing=`${o}px`,this.context.textLetterSpacing=`${o}px`,c=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),o===0||c){s?this.context.strokeText(e,t,r):this.context.fillText(e,t,r);return}let d=t;const p=mo.graphemeSegmenter(e);let g=this.context.measureText(e).width,_=0;for(let x=0;x<p.length;++x){const S=p[x];s?this.context.strokeText(S,d,r):this.context.fillText(S,d,r);let b="";for(let T=x+1;T<p.length;++T)b+=p[T];_=this.context.measureText(b).width,d+=g-_+o,g=_}}updateTexture(){const e=this.canvas;if(this._style.trim){const c=EE(e);c.data&&(e.width=c.width,e.height=c.height,this.context.putImageData(c.data,0,0))}const t=this._texture,r=this._style,s=r.trim?0:r.padding,o=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-s,t.trim.y=-s,t.orig.width=t._frame.width-s*2,t.orig.height=t._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,r){const s=e.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let o;const c=e.dropShadow?e.dropShadowDistance:0,d=e.padding||0,p=this.canvas.width/this._resolution-c-d*2,g=this.canvas.height/this._resolution-c-d*2,_=s.slice(),x=e.fillGradientStops.slice();if(!x.length){const S=_.length+1;for(let b=1;b<S;++b)x.push(b/S)}if(_.unshift(s[0]),x.unshift(0),_.push(s[s.length-1]),x.push(1),e.fillGradientType===Mf.LINEAR_VERTICAL){o=this.context.createLinearGradient(p/2,d,p/2,g+d);const S=r.fontProperties.fontSize+e.strokeThickness;for(let b=0;b<t.length;b++){const T=r.lineHeight*(b-1)+S,R=r.lineHeight*b;let P=R;b>0&&T>R&&(P=(R+T)/2);const M=R+S,z=r.lineHeight*(b+1);let F=M;b+1<t.length&&z<M&&(F=(M+z)/2);const $=(F-P)/g;for(let L=0;L<_.length;L++){let Q=0;typeof x[L]=="number"?Q=x[L]:Q=L/_.length;let D=Math.min(1,Math.max(0,P/g+Q*$));D=Number(D.toFixed(5)),o.addColorStop(D,_[L])}}}else{o=this.context.createLinearGradient(d,g/2,p+d,g/2);const S=_.length+1;let b=1;for(let T=0;T<_.length;T++){let R;typeof x[T]=="number"?R=x[T]:R=b/S,o.addColorStop(R,_[T]),b++}}return o}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},XS,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=yo(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=yo(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Eo?this._style=e:this._style=new Eo(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};Dx.defaultAutoResolution=!0;let sy=Dx;class pf{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class tf{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const o in t){const c=t[o].match(/^[a-z]+/gm)[0],d=t[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),p={};for(const g in d){const _=d[g].split("="),x=_[0],S=_[1].replace(/"/gm,""),b=parseFloat(S),T=isNaN(b)?S:b;p[x]=T}r[c].push(p)}const s=new pf;return r.info.forEach(o=>s.info.push({face:o.face,size:parseInt(o.size,10)})),r.common.forEach(o=>s.common.push({lineHeight:parseInt(o.lineHeight,10)})),r.page.forEach(o=>s.page.push({id:parseInt(o.id,10),file:o.file})),r.char.forEach(o=>s.char.push({id:parseInt(o.id,10),page:parseInt(o.page,10),x:parseInt(o.x,10),y:parseInt(o.y,10),width:parseInt(o.width,10),height:parseInt(o.height,10),xoffset:parseInt(o.xoffset,10),yoffset:parseInt(o.yoffset,10),xadvance:parseInt(o.xadvance,10)})),r.kerning.forEach(o=>s.kerning.push({first:parseInt(o.first,10),second:parseInt(o.second,10),amount:parseInt(o.amount,10)})),r.distanceField.forEach(o=>s.distanceField.push({distanceRange:parseInt(o.distanceRange,10),fieldType:o.fieldType})),s}}class Ag{static test(e){const t=e;return typeof e!="string"&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const t=new pf,r=e.getElementsByTagName("info"),s=e.getElementsByTagName("common"),o=e.getElementsByTagName("page"),c=e.getElementsByTagName("char"),d=e.getElementsByTagName("kerning"),p=e.getElementsByTagName("distanceField");for(let g=0;g<r.length;g++)t.info.push({face:r[g].getAttribute("face"),size:parseInt(r[g].getAttribute("size"),10)});for(let g=0;g<s.length;g++)t.common.push({lineHeight:parseInt(s[g].getAttribute("lineHeight"),10)});for(let g=0;g<o.length;g++)t.page.push({id:parseInt(o[g].getAttribute("id"),10)||0,file:o[g].getAttribute("file")});for(let g=0;g<c.length;g++){const _=c[g];t.char.push({id:parseInt(_.getAttribute("id"),10),page:parseInt(_.getAttribute("page"),10)||0,x:parseInt(_.getAttribute("x"),10),y:parseInt(_.getAttribute("y"),10),width:parseInt(_.getAttribute("width"),10),height:parseInt(_.getAttribute("height"),10),xoffset:parseInt(_.getAttribute("xoffset"),10),yoffset:parseInt(_.getAttribute("yoffset"),10),xadvance:parseInt(_.getAttribute("xadvance"),10)})}for(let g=0;g<d.length;g++)t.kerning.push({first:parseInt(d[g].getAttribute("first"),10),second:parseInt(d[g].getAttribute("second"),10),amount:parseInt(d[g].getAttribute("amount"),10)});for(let g=0;g<p.length;g++)t.distanceField.push({fieldType:p[g].getAttribute("fieldType"),distanceRange:parseInt(p[g].getAttribute("distanceRange"),10)});return t}}class Cg{static test(e){return typeof e=="string"&&e.includes("<font>")?Ag.test(Be.ADAPTER.parseXML(e)):!1}static parse(e){return Ag.parse(Be.ADAPTER.parseXML(e))}}const Um=[tf,Ag,Cg];function YS(n){for(let e=0;e<Um.length;e++)if(Um[e].test(n))return Um[e];return null}function qS(n,e,t,r,s,o){const c=t.fill;if(Array.isArray(c)){if(c.length===1)return c[0]}else return c;let d;const p=t.dropShadow?t.dropShadowDistance:0,g=t.padding||0,_=n.width/r-p-g*2,x=n.height/r-p-g*2,S=c.slice(),b=t.fillGradientStops.slice();if(!b.length){const T=S.length+1;for(let R=1;R<T;++R)b.push(R/T)}if(S.unshift(c[0]),b.unshift(0),S.push(c[c.length-1]),b.push(1),t.fillGradientType===Mf.LINEAR_VERTICAL){d=e.createLinearGradient(_/2,g,_/2,x+g);let T=0;const R=(o.fontProperties.fontSize+t.strokeThickness)/x;for(let P=0;P<s.length;P++){const M=o.lineHeight*P;for(let z=0;z<S.length;z++){let F=0;typeof b[z]=="number"?F=b[z]:F=z/S.length;const $=M/x+F*R;let L=Math.max(T,$);L=Math.min(L,1),d.addColorStop(L,S[z]),T=L}}}else{d=e.createLinearGradient(g,x/2,_+g,x/2);const T=S.length+1;let R=1;for(let P=0;P<S.length;P++){let M;typeof b[P]=="number"?M=b[P]:M=R/T,d.addColorStop(M,S[P]),R++}}return d}function QS(n,e,t,r,s,o,c){const d=t.text,p=t.fontProperties;e.translate(r,s),e.scale(o,o);const g=c.strokeThickness/2,_=-(c.strokeThickness/2);if(e.font=c.toFontString(),e.lineWidth=c.strokeThickness,e.textBaseline=c.textBaseline,e.lineJoin=c.lineJoin,e.miterLimit=c.miterLimit,e.fillStyle=qS(n,e,c,o,[d],t),e.strokeStyle=c.stroke,c.dropShadow){const x=c.dropShadowColor,S=c.dropShadowBlur*o,b=c.dropShadowDistance*o;e.shadowColor=Gt.shared.setValue(x).setAlpha(c.dropShadowAlpha).toRgbaString(),e.shadowBlur=S,e.shadowOffsetX=Math.cos(c.dropShadowAngle)*b,e.shadowOffsetY=Math.sin(c.dropShadowAngle)*b}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;c.stroke&&c.strokeThickness&&e.strokeText(d,g,_+t.lineHeight-p.descent),c.fill&&e.fillText(d,g,_+t.lineHeight-p.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function rf(n){return n.codePointAt?n.codePointAt(0):n.charCodeAt(0)}function Ox(n){return Array.from?Array.from(n):n.split("")}function KS(n){typeof n=="string"&&(n=[n]);const e=[];for(let t=0,r=n.length;t<r;t++){const s=n[t];if(Array.isArray(s)){if(s.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);const o=s[0].charCodeAt(0),c=s[1].charCodeAt(0);if(c<o)throw new Error("[BitmapFont]: Invalid character range.");for(let d=o,p=c;d<=p;d++)e.push(String.fromCharCode(d))}else e.push(...Ox(s))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const fo=class Es{constructor(e,t,r){var _;const[s]=e.info,[o]=e.common,[c]=e.page,[d]=e.distanceField,p=da(c.file),g={};this._ownsTextures=r,this.font=s.face,this.size=s.size,this.lineHeight=o.lineHeight/p,this.chars={},this.pageTextures=g;for(let x=0;x<e.page.length;x++){const{id:S,file:b}=e.page[x];g[S]=t instanceof Array?t[x]:t[b],d!=null&&d.fieldType&&d.fieldType!=="none"&&(g[S].baseTexture.alphaMode=Bn.NO_PREMULTIPLIED_ALPHA,g[S].baseTexture.mipmap=Ps.OFF)}for(let x=0;x<e.char.length;x++){const{id:S,page:b}=e.char[x];let{x:T,y:R,width:P,height:M,xoffset:z,yoffset:F,xadvance:$}=e.char[x];T/=p,R/=p,P/=p,M/=p,z/=p,F/=p,$/=p;const L=new lt(T+g[b].frame.x/p,R+g[b].frame.y/p,P,M);this.chars[S]={xOffset:z,yOffset:F,xAdvance:$,kerning:{},texture:new Me(g[b].baseTexture,L),page:b}}for(let x=0;x<e.kerning.length;x++){let{first:S,second:b,amount:T}=e.kerning[x];S/=p,b/=p,T/=p,this.chars[b]&&(this.chars[b].kerning[S]=T)}this.distanceFieldRange=d==null?void 0:d.distanceRange,this.distanceFieldType=((_=d==null?void 0:d.fieldType)==null?void 0:_.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,r){let s;if(e instanceof pf)s=e;else{const c=YS(e);if(!c)throw new Error("Unrecognized data format for font.");s=c.parse(e)}t instanceof Me&&(t=[t]);const o=new Es(s,t,r);return Es.available[o.font]=o,o}static uninstall(e){const t=Es.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete Es.available[e]}static from(e,t,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:s,padding:o,resolution:c,textureWidth:d,textureHeight:p,...g}=Object.assign({},Es.defaultOptions,r),_=KS(s),x=t instanceof Eo?t:new Eo(t),S=d,b=new pf;b.info[0]={face:x.fontFamily,size:x.fontSize},b.common[0]={lineHeight:x.fontSize};let T=0,R=0,P,M,z,F=0;const $=[];for(let Q=0;Q<_.length;Q++){P||(P=Be.ADAPTER.createCanvas(),P.width=d,P.height=p,M=P.getContext("2d"),z=new at(P,{resolution:c,...g}),$.push(new Me(z)),b.page.push({id:$.length-1,file:""}));const D=_[Q],Z=mo.measureText(D,x,!1,P),ce=Z.width,fe=Math.ceil(Z.height),Pe=Math.ceil((x.fontStyle==="italic"?2:1)*ce);if(R>=p-fe*c){if(R===0)throw new Error(`[BitmapFont] textureHeight ${p}px is too small (fontFamily: '${x.fontFamily}', fontSize: ${x.fontSize}px, char: '${D}')`);--Q,P=null,M=null,z=null,R=0,T=0,F=0;continue}if(F=Math.max(fe+Z.fontProperties.descent,F),Pe*c+T>=S){if(T===0)throw new Error(`[BitmapFont] textureWidth ${d}px is too small (fontFamily: '${x.fontFamily}', fontSize: ${x.fontSize}px, char: '${D}')`);--Q,R+=F*c,R=Math.ceil(R),T=0,F=0;continue}QS(P,M,Z,T,R,c,x);const K=rf(Z.text);b.char.push({id:K,page:$.length-1,x:T/c,y:R/c,width:Pe,height:fe,xoffset:0,yoffset:0,xadvance:ce-(x.dropShadow?x.dropShadowDistance:0)-(x.stroke?x.strokeThickness:0)}),T+=(Pe+2*o)*c,T=Math.ceil(T)}if(!(r!=null&&r.skipKerning))for(let Q=0,D=_.length;Q<D;Q++){const Z=_[Q];for(let ce=0;ce<D;ce++){const fe=_[ce],Pe=M.measureText(Z).width,K=M.measureText(fe).width,J=M.measureText(Z+fe).width-(Pe+K);J&&b.kerning.push({first:rf(Z),second:rf(fe),amount:J})}}const L=new Es(b,$,!0);return Es.available[e]!==void 0&&Es.uninstall(e),Es.available[e]=L,L}};fo.ALPHA=[["a","z"],["A","Z"]," "],fo.NUMERIC=[["0","9"]],fo.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],fo.ASCII=[[" ","~"]],fo.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:fo.ALPHANUMERIC},fo.available={};let po=fo;class ZS{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const zm=new pt,N0=new Fl,Fx=class Bx extends pn{constructor(e,t,r,s=Wi.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=r||ks.for2d(),this.drawMode=s,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Be.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Wi.TRIANGLES&&t.length<Bx.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const s=this.transform.worldTransform,o=s.a,c=s.b,d=s.c,p=s.d,g=s.tx,_=s.ty,x=this.vertexData;for(let S=0;S<x.length/2;S++){const b=t[S*2],T=t[S*2+1];x[S*2]=o*b+d*T+g,x[S*2+1]=c*b+p*T+_}if(this._roundPixels){const S=Be.RESOLUTION;for(let b=0;b<x.length;++b)x[b]=Math.round(x[b]*S)/S}this.vertexDirty=r}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new ZS(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,zm);const t=this.geometry.getBuffer("aVertexPosition").data,r=N0.points,s=this.geometry.getIndex().data,o=s.length,c=this.drawMode===4?3:1;for(let d=0;d+2<o;d+=c){const p=s[d]*2,g=s[d+1]*2,_=s[d+2]*2;if(r[0]=t[p],r[1]=t[p+1],r[2]=t[g],r[3]=t[g+1],r[4]=t[_],r[5]=t[_+1],N0.contains(zm.x,zm.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};Fx.BATCHABLE_SIZE=100;let Cc=Fx;class Nf extends xo{constructor(e,t,r){super();const s=new dr(e),o=new dr(t,!0),c=new dr(r,!0,!0);this.addAttribute("aVertexPosition",s,2,!1,Ke.FLOAT).addAttribute("aTextureCoord",o,2,!1,Ke.FLOAT).addIndex(c),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var JS=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,eb=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Pc extends Cs{constructor(e,t){const r={uSampler:e,alpha:1,uTextureMatrix:Ht.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(r,t.uniforms),super(t.program||ha.from(eb,JS),r),this._colorDirty=!1,this.uvMatrix=new ny(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this._tintColor=new Gt(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Gt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var tb=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,rb=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const D0=[],O0=[],F0=[],Lx=class Ux extends pn{constructor(e,t={}){super();const{align:r,tint:s,maxWidth:o,letterSpacing:c,fontName:d,fontSize:p}=Object.assign({},Ux.styleDefaults,t);if(!po.available[d])throw new Error(`Missing BitmapFont "${d}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new Gt(s),this._font=void 0,this._fontName=d,this._fontSize=p,this.text=e,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=c,this._anchor=new Ts(()=>{this.dirty=!0},this,0,0),this._roundPixels=Be.ROUND_PIXELS,this.dirty=!0,this._resolution=Be.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Pe;const e=po.available[this._fontName],t=this.fontSize,r=t/e.size,s=new pt,o=[],c=[],d=[],p=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",g=Ox(p),_=this._maxWidth*e.size/t,x=e.distanceFieldType==="none"?D0:O0;let S=null,b=0,T=0,R=0,P=-1,M=0,z=0,F=0,$=0;for(let K=0;K<g.length;K++){const J=g[K],le=rf(J);if(/(?:\s)/.test(J)&&(P=K,M=b,$++),J==="\r"||J===`
`){c.push(b),d.push(-1),T=Math.max(T,b),++R,++z,s.x=0,s.y+=e.lineHeight,S=null,$=0;continue}const Te=e.chars[le];if(!Te)continue;S&&Te.kerning[S]&&(s.x+=Te.kerning[S]);const B=F0.pop()||{texture:Me.EMPTY,line:0,charCode:0,prevSpaces:0,position:new pt};B.texture=Te.texture,B.line=R,B.charCode=le,B.position.x=Math.round(s.x+Te.xOffset+this._letterSpacing/2),B.position.y=Math.round(s.y+Te.yOffset),B.prevSpaces=$,o.push(B),b=B.position.x+Math.max(Te.xAdvance-Te.xOffset,Te.texture.orig.width),s.x+=Te.xAdvance+this._letterSpacing,F=Math.max(F,Te.yOffset+Te.texture.height),S=le,P!==-1&&_>0&&s.x>_&&(++z,Zu(o,1+P-z,1+K-P),K=P,P=-1,c.push(M),d.push(o.length>0?o[o.length-1].prevSpaces:0),T=Math.max(T,M),R++,s.x=0,s.y+=e.lineHeight,S=null,$=0)}const L=g[g.length-1];L!=="\r"&&L!==`
`&&(/(?:\s)/.test(L)&&(b=M),c.push(b),T=Math.max(T,b),d.push(-1));const Q=[];for(let K=0;K<=R;K++){let J=0;this._align==="right"?J=T-c[K]:this._align==="center"?J=(T-c[K])/2:this._align==="justify"&&(J=d[K]<0?0:(T-c[K])/d[K]),Q.push(J)}const D=o.length,Z={},ce=[],fe=this._activePagesMeshData;x.push(...fe);for(let K=0;K<D;K++){const J=o[K].texture,le=J.baseTexture.uid;if(!Z[le]){let Te=x.pop();if(!Te){const G=new Nf;let C,H;e.distanceFieldType==="none"?(C=new Pc(Me.EMPTY),H=rt.NORMAL):(C=new Pc(Me.EMPTY,{program:ha.from(rb,tb),uniforms:{uFWidth:0}}),H=rt.NORMAL_NPM);const N=new Cc(G,C);N.blendMode=H,Te={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:N,vertices:null,uvs:null,indices:null}}Te.index=0,Te.indexCount=0,Te.vertexCount=0,Te.uvsCount=0,Te.total=0;const{_textureCache:B}=this;B[le]=B[le]||new Me(J.baseTexture),Te.mesh.texture=B[le],Te.mesh.tint=this._tintColor.value,ce.push(Te),Z[le]=Te}Z[le].total++}for(let K=0;K<fe.length;K++)ce.includes(fe[K])||this.removeChild(fe[K].mesh);for(let K=0;K<ce.length;K++)ce[K].mesh.parent!==this&&this.addChild(ce[K].mesh);this._activePagesMeshData=ce;for(const K in Z){const J=Z[K],le=J.total;if(!(((Pe=J.indices)==null?void 0:Pe.length)>6*le)||J.vertices.length<Cc.BATCHABLE_SIZE*2)J.vertices=new Float32Array(4*2*le),J.uvs=new Float32Array(4*2*le),J.indices=new Uint16Array(6*le);else{const Te=J.total,B=J.vertices;for(let G=Te*4*2;G<B.length;G++)B[G]=0}J.mesh.size=6*le}for(let K=0;K<D;K++){const J=o[K];let le=J.position.x+Q[J.line]*(this._align==="justify"?J.prevSpaces:1);this._roundPixels&&(le=Math.round(le));const Te=le*r,B=J.position.y*r,G=J.texture,C=Z[G.baseTexture.uid],H=G.frame,N=G._uvs,I=C.index++;C.indices[I*6+0]=0+I*4,C.indices[I*6+1]=1+I*4,C.indices[I*6+2]=2+I*4,C.indices[I*6+3]=0+I*4,C.indices[I*6+4]=2+I*4,C.indices[I*6+5]=3+I*4,C.vertices[I*8+0]=Te,C.vertices[I*8+1]=B,C.vertices[I*8+2]=Te+H.width*r,C.vertices[I*8+3]=B,C.vertices[I*8+4]=Te+H.width*r,C.vertices[I*8+5]=B+H.height*r,C.vertices[I*8+6]=Te,C.vertices[I*8+7]=B+H.height*r,C.uvs[I*8+0]=N.x0,C.uvs[I*8+1]=N.y0,C.uvs[I*8+2]=N.x1,C.uvs[I*8+3]=N.y1,C.uvs[I*8+4]=N.x2,C.uvs[I*8+5]=N.y2,C.uvs[I*8+6]=N.x3,C.uvs[I*8+7]=N.y3}this._textWidth=T*r,this._textHeight=(s.y+e.lineHeight)*r;for(const K in Z){const J=Z[K];if(this.anchor.x!==0||this.anchor.y!==0){let G=0;const C=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y;for(let N=0;N<J.total;N++)J.vertices[G++]-=C,J.vertices[G++]-=H,J.vertices[G++]-=C,J.vertices[G++]-=H,J.vertices[G++]-=C,J.vertices[G++]-=H,J.vertices[G++]-=C,J.vertices[G++]-=H}this._maxLineHeight=F*r;const le=J.mesh.geometry.getBuffer("aVertexPosition"),Te=J.mesh.geometry.getBuffer("aTextureCoord"),B=J.mesh.geometry.getIndex();le.data=J.vertices,Te.data=J.uvs,B.data=J.indices,le.update(),Te.update(),B.update()}for(let K=0;K<o.length;K++)F0.push(o[K]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:r,size:s}=po.available[this._fontName];if(r!=="none"){const{a:o,b:c,c:d,d:p}=this.worldTransform,g=Math.sqrt(o*o+c*c),_=Math.sqrt(d*d+p*p),x=(Math.abs(g)+Math.abs(_))/2,S=this.fontSize/s,b=e._view.resolution;for(const T of this._activePagesMeshData)T.mesh.shader.uniforms.uFWidth=x*t*S*b}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=po.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!po.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??po.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,r=po.available[this._fontName].distanceFieldType==="none"?D0:O0;r.push(...this._activePagesMeshData);for(const s of this._activePagesMeshData)this.removeChild(s.mesh);this._activePagesMeshData=[],r.filter(s=>t[s.mesh.texture.baseTexture.uid]).forEach(s=>{s.mesh.texture=Me.EMPTY});for(const s in t)t[s].destroy(),delete t[s];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};Lx.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let nb=Lx;const B0={loader:Ne.LoadParser,resolver:Ne.ResolveParser,cache:Ne.CacheParser,detection:Ne.DetectionParser};Xe.handle(Ne.Asset,n=>{const e=n.ref;Object.entries(B0).filter(([t])=>!!e[t]).forEach(([t,r])=>Xe.add(Object.assign(e[t],{extension:e[t].extension??r})))},n=>{const e=n.ref;Object.keys(B0).filter(t=>!!e[t]).forEach(t=>Xe.remove(e[t]))});class ib{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function ah(n,e){if(Array.isArray(e)){for(const t of e)if(n.startsWith(`data:${t}`))return!0;return!1}return n.startsWith(`data:${e}`)}function So(n,e){const t=n.split("?")[0],r=Or.extname(t).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const $i=(n,e,t=!1)=>(Array.isArray(n)||(n=[n]),e?n.map(r=>typeof r=="string"||t?e(r):r):n),Pg=(n,e)=>{const t=e.split("?")[1];return t&&(n+=`?${t}`),n};function zx(n,e,t,r,s){const o=e[t];for(let c=0;c<o.length;c++){const d=o[c];t<e.length-1?zx(n.replace(r[t],d),e,t+1,r,s):s.push(n.replace(r[t],d))}}function sb(n){const e=/\{(.*?)\}/g,t=n.match(e),r=[];if(t){const s=[];t.forEach(o=>{const c=o.substring(1,o.length-1).split(",");s.push(c)}),zx(n,s,0,t,r)}else r.push(n);return r}const mf=n=>!Array.isArray(n);class ab{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const r=$i(e);let s;for(let d=0;d<this.parsers.length;d++){const p=this.parsers[d];if(p.test(t)){s=p.getCacheableAssets(r,t);break}}s||(s={},r.forEach(d=>{s[d]=t}));const o=Object.keys(s),c={cacheKeys:o,keys:r};if(r.forEach(d=>{this._cacheMap.set(d,c)}),o.forEach(d=>{this._cache.has(d)&&this._cache.get(d)!==t&&console.warn("[Cache] already has key:",d),this._cache.set(d,s[d])}),t instanceof Me){const d=t;r.forEach(p=>{d.baseTexture!==Me.EMPTY.baseTexture&&at.addToCache(d.baseTexture,p),Me.addToCache(d,p)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(r=>{this._cache.delete(r)}),t.keys.forEach(r=>{this._cacheMap.delete(r)})}get parsers(){return this._parsers}}const Dl=new ab;class ob{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const r={promise:null,parser:null};return r.promise=(async()=>{var c,d;let s=null,o=null;if(t.loadParser&&(o=this._parserHash[t.loadParser],o||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!o){for(let p=0;p<this.parsers.length;p++){const g=this.parsers[p];if(g.load&&((c=g.test)!=null&&c.call(g,e,t,this))){o=g;break}}if(!o)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=await o.load(e,t,this),r.parser=o;for(let p=0;p<this.parsers.length;p++){const g=this.parsers[p];g.parse&&g.parse&&await((d=g.testParse)==null?void 0:d.call(g,s,t,this))&&(s=await g.parse(s,t,this)||s,r.parser=g)}return s})(),r}async load(e,t){this._parsersValidated||this._validateParsers();let r=0;const s={},o=mf(e),c=$i(e,g=>({alias:[g],src:g})),d=c.length,p=c.map(async g=>{const _=Or.toAbsolute(g.src);if(!s[g.src])try{this.promiseCache[_]||(this.promiseCache[_]=this._getLoadPromiseAndParser(_,g)),s[g.src]=await this.promiseCache[_].promise,t&&t(++r/d)}catch(x){throw delete this.promiseCache[_],delete s[g.src],new Error(`[Loader.load] Failed to load ${_}.
${x}`)}});return await Promise.all(p),o?s[c[0].src]:s}async unload(e){const t=$i(e,r=>({alias:[r],src:r})).map(async r=>{var c,d;const s=Or.toAbsolute(r.src),o=this.promiseCache[s];if(o){const p=await o.promise;delete this.promiseCache[s],(d=(c=o.parser)==null?void 0:c.unload)==null||d.call(c,p,r,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}var qi=(n=>(n[n.Low=0]="Low",n[n.Normal=1]="Normal",n[n.High=2]="High",n))(qi||{});const lb=".json",ub="application/json",hb={extension:{type:Ne.LoadParser,priority:qi.Low},name:"loadJson",test(n){return ah(n,ub)||So(n,lb)},async load(n){return await(await Be.ADAPTER.fetch(n)).json()}};Xe.add(hb);const cb=".txt",db="text/plain",fb={name:"loadTxt",extension:{type:Ne.LoadParser,priority:qi.Low},test(n){return ah(n,db)||So(n,cb)},async load(n){return await(await Be.ADAPTER.fetch(n)).text()}};Xe.add(fb);const pb=["normal","bold","100","200","300","400","500","600","700","800","900"],mb=[".ttf",".otf",".woff",".woff2"],gb=["font/ttf","font/otf","font/woff","font/woff2"],yb=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function vb(n){const e=Or.extname(n),t=Or.basename(n,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1));let r=t.length>0;for(const o of t)if(!o.match(yb)){r=!1;break}let s=t.join(" ");return r||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}const _b=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function xb(n){return _b.test(n)?n:encodeURI(n)}const wb={extension:{type:Ne.LoadParser,priority:qi.Low},name:"loadWebFont",test(n){return ah(n,gb)||So(n,mb)},async load(n,e){var r,s,o;const t=Be.ADAPTER.getFontFaceSet();if(t){const c=[],d=((r=e.data)==null?void 0:r.family)??vb(n),p=((o=(s=e.data)==null?void 0:s.weights)==null?void 0:o.filter(_=>pb.includes(_)))??["normal"],g=e.data??{};for(let _=0;_<p.length;_++){const x=p[_],S=new FontFace(d,`url(${xb(n)})`,{...g,weight:x});await S.load(),t.add(S),c.push(S)}return c.length===1?c[0]:c}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(n){(Array.isArray(n)?n:[n]).forEach(e=>Be.ADAPTER.getFontFaceSet().delete(e))}};Xe.add(wb);const Eb=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let eh=null,Rg=class{constructor(){eh||(eh=URL.createObjectURL(new Blob([Eb],{type:"application/javascript"}))),this.worker=new Worker(eh)}};Rg.revokeObjectURL=function(){eh&&(URL.revokeObjectURL(eh),eh=null)};const Sb=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let th=null;class Gx{constructor(){th||(th=URL.createObjectURL(new Blob([Sb],{type:"application/javascript"}))),this.worker=new Worker(th)}}Gx.revokeObjectURL=function(){th&&(URL.revokeObjectURL(th),th=null)};let L0=0,Gm;class bb{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new Rg;t.addEventListener("message",r=>{t.terminate(),Rg.revokeObjectURL(),e(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Gm===void 0&&(Gm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Gm&&(this._createdWorkers++,e=new Gx().worker,e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const r=new Promise((s,o)=>{this.queue.push({id:e,arguments:t,resolve:s,reject:o})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),r=t.id;this.resolveHash[L0]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:L0++,id:r})}}const U0=new bb;function Nc(n,e,t){n.resource.internal=!0;const r=new Me(n),s=()=>{delete e.promiseCache[t],Dl.has(t)&&Dl.remove(t)};return r.baseTexture.once("destroyed",()=>{t in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),s())}),r.once("destroyed",()=>{n.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),r}const Tb=[".jpeg",".jpg",".png",".webp",".avif"],Ab=["image/jpeg","image/png","image/webp","image/avif"];async function Cb(n){const e=await Be.ADAPTER.fetch(n);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${n}: ${e.status} ${e.statusText}`);const t=await e.blob();return await createImageBitmap(t)}const Df={name:"loadTextures",extension:{type:Ne.LoadParser,priority:qi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(n){return ah(n,Ab)||So(n,Tb)},async load(n,e,t){var d;const r=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let s;r?this.config.preferWorkers&&await U0.isImageBitmapSupported()?s=await U0.loadImageBitmap(n):s=await Cb(n):s=await new Promise((p,g)=>{const _=new Image;_.crossOrigin=this.config.crossOrigin,_.src=n,_.complete?p(_):(_.onload=()=>p(_),_.onerror=x=>g(x))});const o={...e.data};o.resolution??(o.resolution=da(n)),r&&((d=o.resourceOptions)==null?void 0:d.ownsImageBitmap)===void 0&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const c=new at(s,o);return c.resource.src=n,Nc(c,t,n)},unload(n){n.destroy(!0)}};Xe.add(Df);const Pb=".svg",Rb="image/svg+xml",Ib={extension:{type:Ne.LoadParser,priority:qi.High},name:"loadSVG",test(n){return ah(n,Rb)||So(n,Pb)},async testParse(n){return wg.test(n)},async parse(n,e,t){var o;const r=new wg(n,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions);await r.load();const s=new at(r,{resolution:da(n),...e==null?void 0:e.data});return s.resource.src=e.src,Nc(s,t,e.src)},async load(n,e){return(await Be.ADAPTER.fetch(n)).text()},unload:Df.unload};Xe.add(Ib);const kb=[".mp4",".m4v",".webm",".ogv"],Mb=["video/mp4","video/webm","video/ogg"],Nb={name:"loadVideo",extension:{type:Ne.LoadParser,priority:qi.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(n){return ah(n,Mb)||So(n,kb)},async load(n,e,t){var c;let r;const s=await(await Be.ADAPTER.fetch(n)).blob(),o=URL.createObjectURL(s);try{const d={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(c=e==null?void 0:e.data)==null?void 0:c.resourceOptions,autoLoad:!0},p=new kx(o,d);await p.load();const g=new at(p,{alphaMode:await iE(),resolution:da(n),...e==null?void 0:e.data});g.resource.src=n,r=Nc(g,t,n),r.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(d){throw URL.revokeObjectURL(o),d}return r},unload(n){n.destroy(!0)}};Xe.add(Nb);class Db{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`).join("&")}}getAlias(e){const{alias:t,name:r,src:s,srcs:o}=e;return $i(t||r||s||o,c=>typeof c=="string"?c:Array.isArray(c)?c.map(d=>(d==null?void 0:d.src)??(d==null?void 0:d.srcs)??d):c!=null&&c.src||c!=null&&c.srcs?c.src??c.srcs:c,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const r=[];Array.isArray(t)?t.forEach(s=>{const o=s.src??s.srcs,c=s.alias??s.name;let d;if(typeof c=="string"){const p=this._createBundleAssetId(e,c);r.push(p),d=[c,p]}else{const p=c.map(g=>this._createBundleAssetId(e,g));r.push(...p),d=[...c,...p]}this.add({...s,alias:d,src:o})}):Object.keys(t).forEach(s=>{const o=[s,this._createBundleAssetId(e,s)];if(typeof t[s]=="string")this.add({alias:o,src:t[s]});else if(Array.isArray(t[s]))this.add({alias:o,src:t[s]});else{const c=t[s],d=c.src??c.srcs;this.add({...c,alias:o,src:Array.isArray(d)?d:[d]})}r.push(...o)}),this._bundles[e]=r}add(e,t,r,s,o){const c=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(ft("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),c.push({alias:e,src:t,data:r,format:s,loadParser:o})):Array.isArray(e)?c.push(...e):c.push(e);let d;d=p=>{this.hasKey(p)&&console.warn(`[Resolver] already has key: ${p} overwriting`)},$i(c).forEach(p=>{const{src:g,srcs:_}=p;let{data:x,format:S,loadParser:b}=p;const T=$i(g||_).map(M=>typeof M=="string"?sb(M):Array.isArray(M)?M:[M]),R=this.getAlias(p);Array.isArray(R)?R.forEach(d):d(R);const P=[];T.forEach(M=>{M.forEach(z=>{let F={};if(typeof z!="object"){F.src=z;for(let $=0;$<this._parsers.length;$++){const L=this._parsers[$];if(L.test(z)){F=L.parse(z);break}}}else x=z.data??x,S=z.format??S,b=z.loadParser??b,F={...F,...z};if(!R)throw new Error(`[Resolver] alias is undefined for this asset: ${F.src}`);F=this.buildResolvedAsset(F,{aliases:R,data:x,format:S,loadParser:b}),P.push(F)})}),R.forEach(M=>{this._assetMap[M]=P})})}resolveBundle(e){const t=mf(e);e=$i(e);const r={};return e.forEach(s=>{const o=this._bundles[s];if(o){const c=this.resolve(o),d={};for(const p in c){const g=c[p];d[this._extractAssetIdFromBundle(s,p)]=g}r[s]=d}}),t?r[e[0]]:r}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const r={};for(const s in t)r[s]=t[s].src;return r}return t.src}resolve(e){const t=mf(e);e=$i(e);const r={};return e.forEach(s=>{if(!this._resolverHash[s])if(this._assetMap[s]){let o=this._assetMap[s];const c=o[0],d=this._getPreferredOrder(o);d==null||d.priority.forEach(p=>{d.params[p].forEach(g=>{const _=o.filter(x=>x[p]?x[p]===g:!1);_.length&&(o=_)})}),this._resolverHash[s]=o[0]??c}else this._resolverHash[s]=this.buildResolvedAsset({alias:[s],src:s},{});r[s]=this._resolverHash[s]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const r=e[0],s=this._preferredOrder.find(o=>o.params.format.includes(r.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){const{aliases:r,data:s,loadParser:o,format:c}=t;return(this._basePath||this._rootPath)&&(e.src=Or.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=o??e.loadParser,e.format=c??e.format??Or.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class Ob{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Db,this.loader=new ob,this.cache=Dl,this._backgroundLoader=new ib(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var o,c;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let d=e.manifest;typeof d=="string"&&(d=await this.load(d)),this.resolver.addManifest(d)}const t=((o=e.texturePreference)==null?void 0:o.resolution)??1,r=typeof t=="number"?[t]:t,s=await this._detectFormats({preferredFormats:(c=e.texturePreference)==null?void 0:c.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,r,s,o){this.resolver.add(e,t,r,s,o)}async load(e,t){this._initialized||await this.init();const r=mf(e),s=$i(e).map(d=>{if(typeof d!="string"){const p=this.resolver.getAlias(d);return p.some(g=>!this.resolver.hasKey(g))&&this.add(d),Array.isArray(p)?p[0]:p}return this.resolver.hasKey(d)||this.add({alias:d,src:d}),d}),o=this.resolver.resolve(s),c=await this._mapLoadToResolve(o,t);return r?c[s[0]]:c}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const s=this.resolver.resolveBundle(e),o={},c=Object.keys(s);let d=0,p=0;const g=()=>{t==null||t(++d/p)},_=c.map(x=>{const S=s[x];return p+=Object.keys(S).length,this._mapLoadToResolve(S,g).then(b=>{o[x]=b})});return await Promise.all(_),r?o[e[0]]:o}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Dl.get(e);const t={};for(let r=0;r<e.length;r++)t[r]=Dl.get(e[r]);return t}async _mapLoadToResolve(e,t){const r=Object.values(e),s=Object.keys(e);this._backgroundLoader.active=!1;const o=await this.loader.load(r,t);this._backgroundLoader.active=!0;const c={};return r.forEach((d,p)=>{const g=o[d.src],_=[d.src];d.alias&&_.push(...d.alias),c[s[p]]=g,Dl.set(_,g)}),c}async unload(e){this._initialized||await this.init();const t=$i(e).map(s=>typeof s!="string"?s.src:s),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=$i(e);const t=this.resolver.resolveBundle(e),r=Object.keys(t).map(s=>this._unloadFromResolved(t[s]));await Promise.all(r)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(r=>{Dl.remove(r.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const r of e.detections)e.skipDetections||await r.test()?t=await r.add(t):e.skipDetections||(t=await r.remove(t));return t=t.filter((r,s)=>t.indexOf(r)===s),t}get detections(){return this._detections}get preferWorkers(){return Df.config.preferWorkers}set preferWorkers(e){ft("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(r=>r in e).forEach(r=>{t.config[r]=e[r]})})}}const Od=new Ob;Xe.handleByList(Ne.LoadParser,Od.loader.parsers).handleByList(Ne.ResolveParser,Od.resolver.parsers).handleByList(Ne.CacheParser,Od.cache.parsers).handleByList(Ne.DetectionParser,Od.detections);const Fb={extension:Ne.CacheParser,test:n=>Array.isArray(n)&&n.every(e=>e instanceof Me),getCacheableAssets:(n,e)=>{const t={};return n.forEach(r=>{e.forEach((s,o)=>{t[r+(o===0?"":o+1)]=s})}),t}};Xe.add(Fb);async function Hx(n){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=n});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(n)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const Bb={extension:{type:Ne.DetectionParser,priority:1},test:async()=>Hx("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async n=>[...n,"avif"],remove:async n=>n.filter(e=>e!=="avif")};Xe.add(Bb);const Lb={extension:{type:Ne.DetectionParser,priority:0},test:async()=>Hx("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async n=>[...n,"webp"],remove:async n=>n.filter(e=>e!=="webp")};Xe.add(Lb);const z0=["png","jpg","jpeg"],Ub={extension:{type:Ne.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async n=>[...n,...z0],remove:async n=>n.filter(e=>!z0.includes(e))};Xe.add(Ub);const zb="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function ay(n){return zb?!1:document.createElement("video").canPlayType(n)!==""}const Gb={extension:{type:Ne.DetectionParser,priority:0},test:async()=>ay("video/webm"),add:async n=>[...n,"webm"],remove:async n=>n.filter(e=>e!=="webm")};Xe.add(Gb);const Hb={extension:{type:Ne.DetectionParser,priority:0},test:async()=>ay("video/mp4"),add:async n=>[...n,"mp4","m4v"],remove:async n=>n.filter(e=>e!=="mp4"&&e!=="m4v")};Xe.add(Hb);const jb={extension:{type:Ne.DetectionParser,priority:0},test:async()=>ay("video/ogg"),add:async n=>[...n,"ogv"],remove:async n=>n.filter(e=>e!=="ogv")};Xe.add(jb);const $b={extension:Ne.ResolveParser,test:Df.test,parse:n=>{var e;return{resolution:parseFloat(((e=Be.RETINA_PREFIX.exec(n))==null?void 0:e[1])??"1"),format:Or.extname(n).slice(1),src:n}}};Xe.add($b);const Wb=[".xml",".fnt"],Vb={extension:{type:Ne.LoadParser,priority:qi.Normal},name:"loadBitmapFont",test(n){return Wb.includes(Or.extname(n).toLowerCase())},async testParse(n){return tf.test(n)||Cg.test(n)},async parse(n,e,t){const r=tf.test(n)?tf.parse(n):Cg.parse(n),{src:s}=e,{page:o}=r,c=[];for(let g=0;g<o.length;++g){const _=o[g].file;let x=Or.join(Or.dirname(s),_);x=Pg(x,s),c.push(x)}const d=await t.load(c),p=c.map(g=>d[g]);return po.install(r,p,!0)},async load(n,e){return(await Be.ADAPTER.fetch(n)).text()},unload(n){n.destroy()}};Xe.add(Vb);const gf={build(n){const e=n.points;let t,r,s,o,c,d;if(n.type===Hr.CIRC){const T=n.shape;t=T.x,r=T.y,c=d=T.radius,s=o=0}else if(n.type===Hr.ELIP){const T=n.shape;t=T.x,r=T.y,c=T.width,d=T.height,s=o=0}else{const T=n.shape,R=T.width/2,P=T.height/2;t=T.x+R,r=T.y+P,c=d=Math.max(0,Math.min(T.radius,Math.min(R,P))),s=R-c,o=P-d}if(!(c>=0&&d>=0&&s>=0&&o>=0)){e.length=0;return}const p=Math.ceil(2.3*Math.sqrt(c+d)),g=p*8+(s?4:0)+(o?4:0);if(e.length=g,g===0)return;if(p===0){e.length=8,e[0]=e[6]=t+s,e[1]=e[3]=r+o,e[2]=e[4]=t-s,e[5]=e[7]=r-o;return}let _=0,x=p*4+(s?2:0)+2,S=x,b=g;{const T=s+c,R=o,P=t+T,M=t-T,z=r+R;if(e[_++]=P,e[_++]=z,e[--x]=z,e[--x]=M,o){const F=r-R;e[S++]=M,e[S++]=F,e[--b]=F,e[--b]=P}}for(let T=1;T<p;T++){const R=Math.PI/2*(T/p),P=s+Math.cos(R)*c,M=o+Math.sin(R)*d,z=t+P,F=t-P,$=r+M,L=r-M;e[_++]=z,e[_++]=$,e[--x]=$,e[--x]=F,e[S++]=F,e[S++]=L,e[--b]=L,e[--b]=z}{const T=s,R=o+d,P=t+T,M=t-T,z=r+R,F=r-R;e[_++]=P,e[_++]=z,e[--b]=F,e[--b]=P,s&&(e[_++]=M,e[_++]=z,e[--b]=F,e[--b]=M)}},triangulate(n,e){const t=n.points,r=e.points,s=e.indices;if(t.length===0)return;let o=r.length/2;const c=o;let d,p;if(n.type!==Hr.RREC){const _=n.shape;d=_.x,p=_.y}else{const _=n.shape;d=_.x+_.width/2,p=_.y+_.height/2}const g=n.matrix;r.push(n.matrix?g.a*d+g.c*p+g.tx:d,n.matrix?g.b*d+g.d*p+g.ty:p),o++,r.push(t[0],t[1]);for(let _=2;_<t.length;_+=2)r.push(t[_],t[_+1]),s.push(o++,c,o);s.push(c+1,c,o)}};function G0(n,e=!1){const t=n.length;if(t<6)return;let r=0;for(let s=0,o=n[t-2],c=n[t-1];s<t;s+=2){const d=n[s],p=n[s+1];r+=(d-o)*(p+c),o=d,c=p}if(!e&&r>0||e&&r<=0){const s=t/2;for(let o=s+s%2;o<t;o+=2){const c=t-o-2,d=t-o-1,p=o,g=o+1;[n[c],n[p]]=[n[p],n[c]],[n[d],n[g]]=[n[g],n[d]]}}}const jx={build(n){n.points=n.shape.points.slice()},triangulate(n,e){let t=n.points;const r=n.holes,s=e.points,o=e.indices;if(t.length>=6){G0(t,!1);const c=[];for(let g=0;g<r.length;g++){const _=r[g];G0(_.points,!0),c.push(t.length/2),t=t.concat(_.points)}const d=vw(t,c,2);if(!d)return;const p=s.length/2;for(let g=0;g<d.length;g+=3)o.push(d[g]+p),o.push(d[g+1]+p),o.push(d[g+2]+p);for(let g=0;g<t.length;g++)s.push(t[g])}}},Xb={build(n){const e=n.shape,t=e.x,r=e.y,s=e.width,o=e.height,c=n.points;c.length=0,s>=0&&o>=0&&c.push(t,r,t+s,r,t+s,r+o,t,r+o)},triangulate(n,e){const t=n.points,r=e.points;if(t.length===0)return;const s=r.length/2;r.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(s,s+1,s+2,s+1,s+2,s+3)}},Yb={build(n){gf.build(n)},triangulate(n,e){gf.triangulate(n,e)}};var fi=(n=>(n.MITER="miter",n.BEVEL="bevel",n.ROUND="round",n))(fi||{}),vo=(n=>(n.BUTT="butt",n.ROUND="round",n.SQUARE="square",n))(vo||{});const nh={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(n,e=20){if(!this.adaptive||!n||isNaN(n))return e;let t=Math.ceil(n/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}};class H0{static curveTo(e,t,r,s,o,c){const d=c[c.length-2],p=c[c.length-1]-t,g=d-e,_=s-t,x=r-e,S=Math.abs(p*x-g*_);if(S<1e-8||o===0)return(c[c.length-2]!==e||c[c.length-1]!==t)&&c.push(e,t),null;const b=p*p+g*g,T=_*_+x*x,R=p*_+g*x,P=o*Math.sqrt(b)/S,M=o*Math.sqrt(T)/S,z=P*R/b,F=M*R/T,$=P*x+M*g,L=P*_+M*p,Q=g*(M+z),D=p*(M+z),Z=x*(P+F),ce=_*(P+F),fe=Math.atan2(D-L,Q-$),Pe=Math.atan2(ce-L,Z-$);return{cx:$+e,cy:L+t,radius:o,startAngle:fe,endAngle:Pe,anticlockwise:g*_>x*p}}static arc(e,t,r,s,o,c,d,p,g){const _=d-c,x=nh._segmentsCount(Math.abs(_)*o,Math.ceil(Math.abs(_)/lf)*40),S=_/(x*2),b=S*2,T=Math.cos(S),R=Math.sin(S),P=x-1,M=P%1/P;for(let z=0;z<=P;++z){const F=z+M*z,$=S+c+b*F,L=Math.cos($),Q=-Math.sin($);g.push((T*L+R*Q)*o+r,(T*-Q+R*L)*o+s)}}}class qb{constructor(){this.reset()}begin(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class oy{static curveLength(e,t,r,s,o,c,d,p){let g=0,_=0,x=0,S=0,b=0,T=0,R=0,P=0,M=0,z=0,F=0,$=e,L=t;for(let Q=1;Q<=10;++Q)_=Q/10,x=_*_,S=x*_,b=1-_,T=b*b,R=T*b,P=R*e+3*T*_*r+3*b*x*o+S*d,M=R*t+3*T*_*s+3*b*x*c+S*p,z=$-P,F=L-M,$=P,L=M,g+=Math.sqrt(z*z+F*F);return g}static curveTo(e,t,r,s,o,c,d){const p=d[d.length-2],g=d[d.length-1];d.length-=2;const _=nh._segmentsCount(oy.curveLength(p,g,e,t,r,s,o,c));let x=0,S=0,b=0,T=0,R=0;d.push(p,g);for(let P=1,M=0;P<=_;++P)M=P/_,x=1-M,S=x*x,b=S*x,T=M*M,R=T*M,d.push(b*p+3*S*M*e+3*x*T*r+R*o,b*g+3*S*M*t+3*x*T*s+R*c)}}function j0(n,e,t,r,s,o,c,d){const p=n-t*s,g=e-r*s,_=n+t*o,x=e+r*o;let S,b;c?(S=r,b=-t):(S=-r,b=t);const T=p+S,R=g+b,P=_+S,M=x+b;return d.push(T,R,P,M),2}function Tl(n,e,t,r,s,o,c,d){const p=t-n,g=r-e;let _=Math.atan2(p,g),x=Math.atan2(s-n,o-e);d&&_<x?_+=Math.PI*2:!d&&_>x&&(x+=Math.PI*2);let S=_;const b=x-_,T=Math.abs(b),R=Math.sqrt(p*p+g*g),P=(15*T*Math.sqrt(R)/Math.PI>>0)+1,M=b/P;if(S+=M,d){c.push(n,e,t,r);for(let z=1,F=S;z<P;z++,F+=M)c.push(n,e,n+Math.sin(F)*R,e+Math.cos(F)*R);c.push(n,e,s,o)}else{c.push(t,r,n,e);for(let z=1,F=S;z<P;z++,F+=M)c.push(n+Math.sin(F)*R,e+Math.cos(F)*R,n,e);c.push(s,o,n,e)}return P*2}function Qb(n,e){const t=n.shape;let r=n.points||t.points.slice();const s=e.closePointEps;if(r.length===0)return;const o=n.lineStyle,c=new pt(r[0],r[1]),d=new pt(r[r.length-2],r[r.length-1]),p=t.type!==Hr.POLY||t.closeStroke,g=Math.abs(c.x-d.x)<s&&Math.abs(c.y-d.y)<s;if(p){r=r.slice(),g&&(r.pop(),r.pop(),d.set(r[r.length-2],r[r.length-1]));const G=(c.x+d.x)*.5,C=(d.y+c.y)*.5;r.unshift(G,C),r.push(G,C)}const _=e.points,x=r.length/2;let S=r.length;const b=_.length/2,T=o.width/2,R=T*T,P=o.miterLimit*o.miterLimit;let M=r[0],z=r[1],F=r[2],$=r[3],L=0,Q=0,D=-(z-$),Z=M-F,ce=0,fe=0,Pe=Math.sqrt(D*D+Z*Z);D/=Pe,Z/=Pe,D*=T,Z*=T;const K=o.alignment,J=(1-K)*2,le=K*2;p||(o.cap===vo.ROUND?S+=Tl(M-D*(J-le)*.5,z-Z*(J-le)*.5,M-D*J,z-Z*J,M+D*le,z+Z*le,_,!0)+2:o.cap===vo.SQUARE&&(S+=j0(M,z,D,Z,J,le,!0,_))),_.push(M-D*J,z-Z*J,M+D*le,z+Z*le);for(let G=1;G<x-1;++G){M=r[(G-1)*2],z=r[(G-1)*2+1],F=r[G*2],$=r[G*2+1],L=r[(G+1)*2],Q=r[(G+1)*2+1],D=-(z-$),Z=M-F,Pe=Math.sqrt(D*D+Z*Z),D/=Pe,Z/=Pe,D*=T,Z*=T,ce=-($-Q),fe=F-L,Pe=Math.sqrt(ce*ce+fe*fe),ce/=Pe,fe/=Pe,ce*=T,fe*=T;const C=F-M,H=z-$,N=F-L,I=Q-$,U=C*N+H*I,X=H*N-I*C,ie=X<0;if(Math.abs(X)<.001*Math.abs(U)){_.push(F-D*J,$-Z*J,F+D*le,$+Z*le),U>=0&&(o.join===fi.ROUND?S+=Tl(F,$,F-D*J,$-Z*J,F-ce*J,$-fe*J,_,!1)+4:S+=2,_.push(F-ce*le,$-fe*le,F+ce*J,$+fe*J));continue}const ue=(-D+M)*(-Z+$)-(-D+F)*(-Z+z),pe=(-ce+L)*(-fe+$)-(-ce+F)*(-fe+Q),_e=(C*pe-N*ue)/X,be=(I*ue-H*pe)/X,Re=(_e-F)*(_e-F)+(be-$)*(be-$),ye=F+(_e-F)*J,ke=$+(be-$)*J,Ue=F-(_e-F)*le,$e=$-(be-$)*le,ut=Math.min(C*C+H*H,N*N+I*I),He=ie?J:le,We=ut+He*He*R,Dt=Re<=We;let jt=o.join;if(jt===fi.MITER&&Re/R>P&&(jt=fi.BEVEL),Dt)switch(jt){case fi.MITER:{_.push(ye,ke,Ue,$e);break}case fi.BEVEL:{ie?_.push(ye,ke,F+D*le,$+Z*le,ye,ke,F+ce*le,$+fe*le):_.push(F-D*J,$-Z*J,Ue,$e,F-ce*J,$-fe*J,Ue,$e),S+=2;break}case fi.ROUND:{ie?(_.push(ye,ke,F+D*le,$+Z*le),S+=Tl(F,$,F+D*le,$+Z*le,F+ce*le,$+fe*le,_,!0)+4,_.push(ye,ke,F+ce*le,$+fe*le)):(_.push(F-D*J,$-Z*J,Ue,$e),S+=Tl(F,$,F-D*J,$-Z*J,F-ce*J,$-fe*J,_,!1)+4,_.push(F-ce*J,$-fe*J,Ue,$e));break}}else{switch(_.push(F-D*J,$-Z*J,F+D*le,$+Z*le),jt){case fi.MITER:{ie?_.push(Ue,$e,Ue,$e):_.push(ye,ke,ye,ke),S+=2;break}case fi.ROUND:{ie?S+=Tl(F,$,F+D*le,$+Z*le,F+ce*le,$+fe*le,_,!0)+2:S+=Tl(F,$,F-D*J,$-Z*J,F-ce*J,$-fe*J,_,!1)+2;break}}_.push(F-ce*J,$-fe*J,F+ce*le,$+fe*le),S+=2}}M=r[(x-2)*2],z=r[(x-2)*2+1],F=r[(x-1)*2],$=r[(x-1)*2+1],D=-(z-$),Z=M-F,Pe=Math.sqrt(D*D+Z*Z),D/=Pe,Z/=Pe,D*=T,Z*=T,_.push(F-D*J,$-Z*J,F+D*le,$+Z*le),p||(o.cap===vo.ROUND?S+=Tl(F-D*(J-le)*.5,$-Z*(J-le)*.5,F-D*J,$-Z*J,F+D*le,$+Z*le,_,!1)+2:o.cap===vo.SQUARE&&(S+=j0(F,$,D,Z,J,le,!1,_)));const Te=e.indices,B=nh.epsilon*nh.epsilon;for(let G=b;G<S+b-2;++G)M=_[G*2],z=_[G*2+1],F=_[(G+1)*2],$=_[(G+1)*2+1],L=_[(G+2)*2],Q=_[(G+2)*2+1],!(Math.abs(M*($-Q)+F*(Q-z)+L*(z-$))<B)&&Te.push(G,G+1,G+2)}function Kb(n,e){let t=0;const r=n.shape,s=n.points||r.points,o=r.type!==Hr.POLY||r.closeStroke;if(s.length===0)return;const c=e.points,d=e.indices,p=s.length/2,g=c.length/2;let _=g;for(c.push(s[0],s[1]),t=1;t<p;t++)c.push(s[t*2],s[t*2+1]),d.push(_,_+1),_++;o&&d.push(_,g)}function $0(n,e){n.lineStyle.native?Kb(n,e):Qb(n,e)}class ly{static curveLength(e,t,r,s,o,c){const d=e-2*r+o,p=t-2*s+c,g=2*r-2*e,_=2*s-2*t,x=4*(d*d+p*p),S=4*(d*g+p*_),b=g*g+_*_,T=2*Math.sqrt(x+S+b),R=Math.sqrt(x),P=2*x*R,M=2*Math.sqrt(b),z=S/R;return(P*T+R*S*(T-M)+(4*b*x-S*S)*Math.log((2*R+z+T)/(z+M)))/(4*P)}static curveTo(e,t,r,s,o){const c=o[o.length-2],d=o[o.length-1],p=nh._segmentsCount(ly.curveLength(c,d,e,t,r,s));let g=0,_=0;for(let x=1;x<=p;++x){const S=x/p;g=c+(e-c)*S,_=d+(t-d)*S,o.push(g+(e+(r-e)*S-g)*S,_+(t+(s-t)*S-_)*S)}}}const Hm={[Hr.POLY]:jx,[Hr.CIRC]:gf,[Hr.ELIP]:gf,[Hr.RECT]:Xb,[Hr.RREC]:Yb},W0=[],Fd=[];class yf{constructor(e,t=null,r=null,s=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=s,this.type=e.type}clone(){return new yf(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const zu=new pt,$x=class Wx extends q_{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new ff,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Fd.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),W0.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,r=null,s=null){const o=new yf(e,t,r,s);return this.graphicsData.push(o),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const r=new yf(e,null,null,t),s=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=s.lineStyle,s.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let r=0;r<t.length;++r){const s=t[r];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,zu):zu.copyFrom(e),s.shape.contains(zu.x,zu.y))){let o=!1;if(s.holes){for(let c=0;c<s.holes.length;c++)if(s.holes[c].shape.contains(zu.x,zu.y)){o=!0;break}}if(!o)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let r=null,s=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],s=r.style);for(let p=this.shapeIndex;p<t.length;p++){this.shapeIndex++;const g=t[p],_=g.fillStyle,x=g.lineStyle;Hm[g.type].build(g),g.matrix&&this.transformPoints(g.points,g.matrix),(_.visible||x.visible)&&this.processHoles(g.holes);for(let S=0;S<2;S++){const b=S===0?_:x;if(!b.visible)continue;const T=b.texture.baseTexture,R=this.indices.length,P=this.points.length/2;T.wrapMode=ca.REPEAT,S===0?this.processFill(g):this.processLine(g);const M=this.points.length/2-P;M!==0&&(r&&!this._compareStyles(s,b)&&(r.end(R,P),r=null),r||(r=W0.pop()||new qb,r.begin(b,R,P),this.batches.push(r),s=b),this.addUvs(this.points,e,b.texture,P,M,b.matrix))}}const o=this.indices.length,c=this.points.length/2;if(r&&r.end(o,c),this.batches.length===0){this.batchable=!0;return}const d=c>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&d===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=d?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const r=this.graphicsData[e],s=r.fillStyle,o=r.lineStyle;if(s&&!s.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,r=e.length;t<r;t++){const s=e[t];for(let o=0;o<s.size;o++){const c=s.start+o;this.indicesUint16[c]=this.indicesUint16[c]-s.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<Wx.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++at._globalBatch;for(let x=0;x<this.drawCalls.length;x++)this.drawCalls[x].texArray.clear(),Fd.push(this.drawCalls[x]);this.drawCalls.length=0;const t=this.colors,r=this.textureIds;let s=Fd.pop();s||(s=new cg,s.texArray=new mg),s.texArray.count=0,s.start=0,s.size=0,s.type=Wi.TRIANGLES;let o=0,c=null,d=0,p=!1,g=Wi.TRIANGLES,_=0;this.drawCalls.push(s);for(let x=0;x<this.batches.length;x++){const S=this.batches[x],b=8,T=S.style,R=T.texture.baseTexture;p!==!!T.native&&(p=!!T.native,g=p?Wi.LINES:Wi.TRIANGLES,c=null,o=b,e++),c!==R&&(c=R,R._batchEnabled!==e&&(o===b&&(e++,o=0,s.size>0&&(s=Fd.pop(),s||(s=new cg,s.texArray=new mg),this.drawCalls.push(s)),s.start=_,s.size=0,s.texArray.count=0,s.type=g),R.touched=1,R._batchEnabled=e,R._batchLocation=o,R.wrapMode=ca.REPEAT,s.texArray.elements[s.texArray.count++]=R,o++)),s.size+=S.size,_+=S.size,d=R._batchLocation,this.addColors(t,T.color,T.alpha,S.attribSize,S.attribStart),this.addTextureIds(r,d,S.attribSize,S.attribStart)}at._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,r=this.colors,s=this.textureIds,o=new ArrayBuffer(e.length*3*4),c=new Float32Array(o),d=new Uint32Array(o);let p=0;for(let g=0;g<e.length/2;g++)c[p++]=e[g*2],c[p++]=e[g*2+1],c[p++]=t[g*2],c[p++]=t[g*2+1],d[p++]=r[g],c[p++]=s[g];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?jx.triangulate(e,this):Hm[e.type].triangulate(e,this)}processLine(e){$0(e,this);for(let t=0;t<e.holes.length;t++)$0(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const r=e[t];Hm[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let r=0;r<e.length/2;r++){const s=e[r*2],o=e[r*2+1];e[r*2]=t.a*s+t.c*o+t.tx,e[r*2+1]=t.b*s+t.d*o+t.ty}}addColors(e,t,r,s,o=0){const c=Gt.shared.setValue(t).toLittleEndianNumber(),d=Gt.shared.setValue(c).toPremultiplied(r);e.length=Math.max(e.length,o+s);for(let p=0;p<s;p++)e[o+p]=d}addTextureIds(e,t,r,s=0){e.length=Math.max(e.length,s+r);for(let o=0;o<r;o++)e[s+o]=t}addUvs(e,t,r,s,o,c=null){let d=0;const p=t.length,g=r.frame;for(;d<o;){let x=e[(s+d)*2],S=e[(s+d)*2+1];if(c){const b=c.a*x+c.c*S+c.tx;S=c.b*x+c.d*S+c.ty,x=b}d++,t.push(x/g.width,S/g.height)}const _=r.baseTexture;(g.width<_.width||g.height<_.height)&&this.adjustUvs(t,r,p,o)}adjustUvs(e,t,r,s){const o=t.baseTexture,c=1e-6,d=r+s*2,p=t.frame,g=p.width/o.width,_=p.height/o.height;let x=p.x/p.width,S=p.y/p.height,b=Math.floor(e[r]+c),T=Math.floor(e[r+1]+c);for(let R=r+2;R<d;R+=2)b=Math.min(b,Math.floor(e[R]+c)),T=Math.min(T,Math.floor(e[R+1]+c));x-=b,S-=T;for(let R=r;R<d;R+=2)e[R]=(e[R]+x)*g,e[R+1]=(e[R+1]+S)*_}};$x.BATCHABLE_SIZE=100;let Zb=$x;class Of{constructor(){this.color=16777215,this.alpha=1,this.texture=Me.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Of;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Me.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class uy extends Of{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=vo.BUTT,this.join=fi.MITER,this.miterLimit=10}clone(){const e=new uy;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=vo.BUTT,this.join=fi.MITER,this.miterLimit=10}}const jm={},Ig=class nf extends pn{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Of,this._lineStyle=new uy,this._matrix=null,this._holeMode=!1,this.state=ks.for2d(),this._geometry=e||new Zb,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Gt(16777215),this.blendMode=rt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new nf(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,r,s=.5,o=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:r,alignment:s,native:o}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:Me.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:vo.BUTT,join:fi.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new Fl,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new Fl,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,s=r[r.length-2],o=r[r.length-1];return(s!==e||o!==t)&&r.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,r,s){this._initCurve();const o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),ly.curveTo(e,t,r,s,o),this}bezierCurveTo(e,t,r,s,o,c){return this._initCurve(),oy.curveTo(e,t,r,s,o,c,this.currentPath.points),this}arcTo(e,t,r,s,o){this._initCurve(e,t);const c=this.currentPath.points,d=H0.curveTo(e,t,r,s,o,c);if(d){const{cx:p,cy:g,radius:_,startAngle:x,endAngle:S,anticlockwise:b}=d;this.arc(p,g,_,x,S,b)}return this}arc(e,t,r,s,o,c=!1){if(s===o)return this;if(!c&&o<=s?o+=lf:c&&s<=o&&(s+=lf),o-s===0)return this;const d=e+Math.cos(s)*r,p=t+Math.sin(s)*r,g=this._geometry.closePointEps;let _=this.currentPath?this.currentPath.points:null;if(_){const x=Math.abs(_[_.length-2]-d),S=Math.abs(_[_.length-1]-p);x<g&&S<g||_.push(d,p)}else this.moveTo(d,p),_=this.currentPath.points;return H0.arc(d,p,e,t,r,s,o,c,_),this}beginFill(e=0,t){return this.beginTextureFill({texture:Me.WHITE,color:e,alpha:t})}normalizeColor(e){const t=Gt.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:Me.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:r},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,r,s){return this.drawShape(new lt(e,t,r,s))}drawRoundedRect(e,t,r,s,o){return this.drawShape(new Rf(e,t,r,s,o))}drawCircle(e,t,r){return this.drawShape(new Cf(e,t,r))}drawEllipse(e,t,r,s){return this.drawShape(new Pf(e,t,r,s))}drawPolygon(...e){let t,r=!0;const s=e[0];s.points?(r=s.closeStroke,t=s.points):Array.isArray(e[0])?t=e[0]:t=e;const o=new Fl(t);return o.closeStroke=r,this.drawShape(o),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Hr.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(let s=0;s<r;s++){const o=e.batches[s],c=o.style.color,d=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),p=new Float32Array(e.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),g=new Uint16Array(e.indicesUint16.buffer,o.start*2,o.size),_={vertexData:d,blendMode:t,indices:g,uvs:p,_batchRGB:Gt.shared.setValue(c).toRgbArray(),_tintRGB:c,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[s]=_}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,r=this.batches.length;t<r;t++){const s=this.batches[t];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}}_renderDirect(e){const t=this._resolveDirectShader(e),r=this._geometry,s=this.worldAlpha,o=t.uniforms,c=r.drawCalls;o.translationMatrix=this.transform.worldTransform,Gt.shared.setValue(this._tintColor).premultiply(s).toArray(o.tint),e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(let d=0,p=c.length;d<p;d++)this._renderDrawCallDirect(e,r.drawCalls[d])}_renderDrawCallDirect(e,t){const{texArray:r,type:s,size:o,start:c}=t,d=r.count;for(let p=0;p<d;p++)e.texture.bind(r.elements[p],p);e.geometry.draw(s,o,c)}_resolveDirectShader(e){let t=this.shader;const r=this.pluginName;if(!t){if(!jm[r]){const{maxTextures:s}=e.plugins[r],o=new Int32Array(s);for(let p=0;p<s;p++)o[p]=p;const c={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ht,default:Yi.from({uSamplers:o},!0)},d=e.plugins[r]._shader.program;jm[r]=new Cs(d,c)}t=jm[r]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:r,maxX:s,maxY:o}=e.bounds;this._bounds.addFrame(this.transform,t,r,s,o)}containsPoint(e){return this.worldTransform.applyInverse(e,nf._TEMP_POINT),this._geometry.containsPoint(nf._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=Gt.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,r=t.a,s=t.b,o=t.c,c=t.d,d=t.tx,p=t.ty,g=this._geometry.points,_=this.vertexData;let x=0;for(let S=0;S<g.length;S+=2){const b=g[S],T=g[S+1];_[x++]=r*b+o*T+d,_[x++]=c*T+s*b+p}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};Ig.curves=nh,Ig._TEMP_POINT=new pt;let Tc=Ig;class Jb extends Nf{constructor(e=100,t=100,r=10,s=10){super(),this.segWidth=r,this.segHeight=s,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],r=[],s=[],o=this.segWidth-1,c=this.segHeight-1,d=this.width/o,p=this.height/c;for(let _=0;_<e;_++){const x=_%this.segWidth,S=_/this.segWidth|0;t.push(x*d,S*p),r.push(x/o,S/c)}const g=o*c;for(let _=0;_<g;_++){const x=_%o,S=_/o|0,b=S*this.segWidth+x,T=S*this.segWidth+x+1,R=(S+1)*this.segWidth+x,P=(S+1)*this.segWidth+x+1;s.push(b,T,R,T,P,R)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class eT extends Nf{constructor(e=200,t,r=0){super(new Float32Array(t.length*4),new Float32Array(t.length*4),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),s=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),s.data=new Uint16Array((e.length-1)*6));const o=r.data,c=s.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;let d=0,p=e[0];const g=this._width*this.textureScale,_=e.length;for(let S=0;S<_;S++){const b=S*4;if(this.textureScale>0){const T=p.x-e[S].x,R=p.y-e[S].y,P=Math.sqrt(T*T+R*R);p=e[S],d+=P/g}else d=S/(_-1);o[b]=d,o[b+1]=0,o[b+2]=d,o[b+3]=1}let x=0;for(let S=0;S<_-1;S++){const b=S*2;c[x++]=b,c[x++]=b+1,c[x++]=b+2,c[x++]=b+2,c[x++]=b+1,c[x++]=b+3}r.update(),s.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t=e[0],r,s=0,o=0;const c=this.buffers[0].data,d=e.length,p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let g=0;g<d;g++){const _=e[g],x=g*4;g<e.length-1?r=e[g+1]:r=_,o=-(r.x-t.x),s=r.y-t.y;const S=Math.sqrt(s*s+o*o);S<1e-6?(s=0,o=0):(s/=S,o/=S,s*=p,o*=p),c[x]=_.x+s,c[x+1]=_.y+o,c[x+2]=_.x-s,c[x+3]=_.y-o,t=_}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class tT extends Cc{constructor(e,t,r){const s=new Jb(e.width,e.height,t,r),o=new Pc(Me.WHITE);super(s,o),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:r}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Bd=10;class rT extends tT{constructor(e,t,r,s,o){var c,d,p,g;super(Me.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??((c=e.defaultBorders)==null?void 0:c.left)??Bd,this._rightWidth=s??((d=e.defaultBorders)==null?void 0:d.right)??Bd,this._topHeight=r??((p=e.defaultBorders)==null?void 0:p.top)??Bd,this._bottomHeight=o??((g=e.defaultBorders)==null?void 0:g.bottom)??Bd,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,s=this._height>r?1:this._height/r;return Math.min(t,s)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,s=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=s*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class nT extends Cc{constructor(e=Me.EMPTY,t,r,s,o){const c=new Nf(t,r,s);c.getBuffer("aVertexPosition").static=!1;const d=new Pc(e);super(c,d,null,o),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class iT extends Cc{constructor(e,t,r=0){const s=new eT(e.height,t,r),o=new Pc(e);r>0&&(e.baseTexture.wrapMode=ca.REPEAT),super(s,o),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}}class sT extends pn{constructor(e=1500,t,r=16384,s=!1){super();const o=16384;r>o&&(r=o),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=rt.NORMAL,this.autoResize=s,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new Gt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class V0{constructor(e,t,r){this.geometry=new xo,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let s=0;s<e.length;++s){let o=e[s];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||Ke.FLOAT,offset:o.offset},t[s]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new dr(vE(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let c=0;c<this.dynamicProperties.length;++c){const d=this.dynamicProperties[c];d.offset=t,t+=d.size,this.dynamicStride+=d.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new dr(this.dynamicData,!1,!1);let s=0;this.staticStride=0;for(let c=0;c<this.staticProperties.length;++c){const d=this.staticProperties[c];d.offset=s,s+=d.size,this.staticStride+=d.size}const o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new dr(this.staticData,!0,!1);for(let c=0;c<this.dynamicProperties.length;++c){const d=this.dynamicProperties[c];e.addAttribute(d.attributeName,this.dynamicBuffer,0,d.type===Ke.UNSIGNED_BYTE,d.type,this.dynamicStride*4,d.offset*4)}for(let c=0;c<this.staticProperties.length;++c){const d=this.staticProperties[c];e.addAttribute(d.attributeName,this.staticBuffer,0,d.type===Ke.UNSIGNED_BYTE,d.type,this.staticStride*4,d.offset*4)}}uploadDynamic(e,t,r){for(let s=0;s<this.dynamicProperties.length;s++){const o=this.dynamicProperties[s];o.uploadFunction(e,t,r,o.type===Ke.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,r){for(let s=0;s<this.staticProperties.length;s++){const o=this.staticProperties[s];o.uploadFunction(e,t,r,o.type===Ke.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var aT=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,oT=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Vx extends kf{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ht,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ke.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Cs.from(oT,aT,{}),this.state=ks.for2d()}render(e){const t=e.children,r=e._maxSize,s=e._batchSize,o=this.renderer;let c=t.length;if(c===0)return;c>r&&!e.autoResize&&(c=r);let d=e._buffers;d||(d=e._buffers=this.generateBuffers(e));const p=t[0]._texture.baseTexture,g=p.alphaMode>0;this.state.blendMode=V_(e.blendMode,g),o.state.set(this.state);const _=o.gl,x=e.worldTransform.copyTo(this.tempMatrix);x.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=x.toArray(!0),this.shader.uniforms.uColor=Gt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,g).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=p,this.renderer.shader.bind(this.shader);let S=!1;for(let b=0,T=0;b<c;b+=s,T+=1){let R=c-b;R>s&&(R=s),T>=d.length&&d.push(this._generateOneMoreBuffer(e));const P=d[T];P.uploadDynamic(t,b,R);const M=e._bufferUpdateIDs[T]||0;S=S||P._updateID<M,S&&(P._updateID=e._updateID,P.uploadStatic(t,b,R)),o.geometry.bind(P.geometry),_.drawElements(_.TRIANGLES,R*6,_.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],r=e._maxSize,s=e._batchSize,o=e._properties;for(let c=0;c<r;c+=s)t.push(new V0(this.properties,o,s));return t}_generateOneMoreBuffer(e){const t=e._batchSize,r=e._properties;return new V0(this.properties,r,t)}uploadVertices(e,t,r,s,o,c){let d=0,p=0,g=0,_=0;for(let x=0;x<r;++x){const S=e[t+x],b=S._texture,T=S.scale.x,R=S.scale.y,P=b.trim,M=b.orig;P?(p=P.x-S.anchor.x*M.width,d=p+P.width,_=P.y-S.anchor.y*M.height,g=_+P.height):(d=M.width*(1-S.anchor.x),p=M.width*-S.anchor.x,g=M.height*(1-S.anchor.y),_=M.height*-S.anchor.y),s[c]=p*T,s[c+1]=_*R,s[c+o]=d*T,s[c+o+1]=_*R,s[c+o*2]=d*T,s[c+o*2+1]=g*R,s[c+o*3]=p*T,s[c+o*3+1]=g*R,c+=o*4}}uploadPosition(e,t,r,s,o,c){for(let d=0;d<r;d++){const p=e[t+d].position;s[c]=p.x,s[c+1]=p.y,s[c+o]=p.x,s[c+o+1]=p.y,s[c+o*2]=p.x,s[c+o*2+1]=p.y,s[c+o*3]=p.x,s[c+o*3+1]=p.y,c+=o*4}}uploadRotation(e,t,r,s,o,c){for(let d=0;d<r;d++){const p=e[t+d].rotation;s[c]=p,s[c+o]=p,s[c+o*2]=p,s[c+o*3]=p,c+=o*4}}uploadUvs(e,t,r,s,o,c){for(let d=0;d<r;++d){const p=e[t+d]._texture._uvs;p?(s[c]=p.x0,s[c+1]=p.y0,s[c+o]=p.x1,s[c+o+1]=p.y1,s[c+o*2]=p.x2,s[c+o*2+1]=p.y2,s[c+o*3]=p.x3,s[c+o*3+1]=p.y3,c+=o*4):(s[c]=0,s[c+1]=0,s[c+o]=0,s[c+o+1]=0,s[c+o*2]=0,s[c+o*2+1]=0,s[c+o*3]=0,s[c+o*3+1]=0,c+=o*4)}}uploadTint(e,t,r,s,o,c){for(let d=0;d<r;++d){const p=e[t+d],g=Gt.shared.setValue(p._tintRGB).toPremultiplied(p.alpha,p.texture.baseTexture.alphaMode>0);s[c]=g,s[c+o]=g,s[c+o*2]=g,s[c+o*3]=g,c+=o*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Vx.extension={name:"particle",type:Ne.RendererPlugin};Xe.add(Vx);class Rc extends Ms{constructor(e,t=!0){super(e[0]instanceof Me?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Dr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Dr.shared.add(this.update,this,wo.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let s=this._currentTime%1*this._durations[this.currentFrame];for(s+=t/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];const o=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let r=0;r<e.length;++r)t.push(Me.from(e[r]));return new Rc(t)}static fromImages(e){const t=[];for(let r=0;r<e.length;++r)t.push(Me.from(e[r]));return new Rc(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof Me)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Dr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Dr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const cc=new pt;class hy extends Ms{constructor(e,t=100,r=100){super(e),this.tileTransform=new If,this._width=t,this._height=r,this.uvMatrix=this.texture.uvMatrix||new ny(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,s)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new lt),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,cc);const t=this._width,r=this._height,s=-t*this.anchor._x;if(cc.x>=s&&cc.x<s+t){const o=-r*this.anchor._y;if(cc.y>=o&&cc.y<o+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const r=e instanceof Me?e:Me.from(e,t);return new hy(r,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var lT=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,uT=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,hT=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,X0=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,cT=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Ld=new Ht;class Xx extends kf{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new sx,this.state=ks.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Cs.from(X0,cT,t),this.shader=e.context.webGLVersion>1?Cs.from(uT,lT,t):Cs.from(X0,hT,t)}render(e){const t=this.renderer,r=this.quad;let s=r.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);const o=e.uvRespectAnchor?e.anchor.x:0,c=e.uvRespectAnchor?e.anchor.y:0;s=r.uvs,s[0]=s[6]=-o,s[1]=s[3]=-c,s[2]=s[4]=1-o,s[5]=s[7]=1-c,r.invalidate();const d=e._texture,p=d.baseTexture,g=p.alphaMode>0,_=e.tileTransform.localTransform,x=e.uvMatrix;let S=p.isPowerOfTwo&&d.frame.width===p.width&&d.frame.height===p.height;S&&(p._glTextures[t.CONTEXT_UID]?S=p.wrapMode!==ca.CLAMP:p.wrapMode===ca.CLAMP&&(p.wrapMode=ca.REPEAT));const b=S?this.simpleShader:this.shader,T=d.width,R=d.height,P=e._width,M=e._height;Ld.set(_.a*T/P,_.b*T/M,_.c*R/P,_.d*R/M,_.tx/P,_.ty/M),Ld.invert(),S?Ld.prepend(x.mapCoord):(b.uniforms.uMapCoord=x.mapCoord.toArray(!0),b.uniforms.uClampFrame=x.uClampFrame,b.uniforms.uClampOffset=x.uClampOffset),b.uniforms.uTransform=Ld.toArray(!0),b.uniforms.uColor=Gt.shared.setValue(e.tint).premultiply(e.worldAlpha,g).toArray(b.uniforms.uColor),b.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),b.uniforms.uSampler=d,t.shader.bind(b),t.geometry.bind(r),this.state.blendMode=V_(e.blendMode,g),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Xx.extension={name:"tilingSprite",type:Ne.RendererPlugin};Xe.add(Xx);const Yx=class kg{constructor(e){this.stage=new pn,e=Object.assign({forceCanvas:!1},e),this.renderer=MS(e),kg._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,t){const r=kg._plugins.slice(0);r.reverse(),r.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Yx._plugins=[];let Ff=Yx;Xe.handleByList(Ne.Application,Ff._plugins);class qx{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let t,r;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:s,clientHeight:o}=this._resizeTo;t=s,r=o}this.renderer.resize(t,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}qx.extension=Ne.Application;Xe.add(qx);var $m={exports:{}},Wm,Y0;function dT(){if(Y0)return Wm;Y0=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wm=n,Wm}var Vm,q0;function fT(){if(q0)return Vm;q0=1;var n=dT();function e(){}function t(){}return t.resetWarningCache=e,Vm=function(){function r(c,d,p,g,_,x){if(x!==n){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Vm}var Q0;function pT(){return Q0||(Q0=1,$m.exports=fT()()),$m.exports}var mT=pT();const Nt=ih(mT);function Jn(n){return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(n)}function Qx(n){var e=function(t,r){if(Jn(t)!=="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var o=s.call(t,r);if(Jn(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}(n,"string");return Jn(e)==="symbol"?e:String(e)}function cr(n,e,t){return(e=Qx(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Xm(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function pa(n){return function(e){if(Array.isArray(e))return Xm(e)}(n)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(n)||function(e,t){if(e){if(typeof e=="string")return Xm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xm(e,t):void 0}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sr(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s]}var gT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vT=function(n){return n==null};function vc(n){var e=[];if(n===void 0)return e;if(typeof n=="string")e=n.split(",");else if(typeof n=="number")e=[n];else if(Array.isArray(n))e=pa(n);else{if(n===null||Jn(n)!=="object")return e;e=[n&&(n==null?void 0:n.x)||0,n&&(n==null?void 0:n.y)||0]}return e.filter(function(t){return!vT(t)&&!isNaN(t)}).map(Number)}function K0(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Ym(n){return n instanceof pt||n instanceof Ts}var vf=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function qm(n,e,t){if(Ym(n[e])&&Ym(t))n[e].copyFrom(t);else if(Ym(n[e])){var r=vc(t);sr(r!==void 0&&r.length>0&&r.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(t),Jn(t)),n[e].set(r.shift(),r.shift())}else n[e]=t}var Gu,Kx=function(n){var e,t=n;if(!Array.isArray(t)){if(e=n,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");t=Object.keys(n)}var r={};return t.forEach(function(s){r[s]=!0}),function(s){return r[s]!==void 0}},Zx=function(n){return function(){return!n.apply(void 0,arguments)}},Mg="children",_T=(cr(Gu={},Mg,!0),cr(Gu,"parent",!0),cr(Gu,"worldAlpha",!0),cr(Gu,"worldTransform",!0),cr(Gu,"worldVisible",!0),Gu),Ng={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Rs=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=function(d){return requestAnimationFrame(function(){var p,g;d==null||(p=d.__reactpixi)===null||p===void 0||(g=p.root)===null||g===void 0||g.emit("__REACT_PIXI_REQUEST_RENDER__")})},s=function(d,p){if(t.hasOwnProperty(d))return sr(p.typeofs.some(function(g){return Jn(t[d])===g})||p.instanceofs.some(function(g){return t[d]instanceof g}),"".concat(n," ").concat(d," prop is invalid")),t[d]};if(t.texture)return sr(t.texture instanceof Me,"".concat(n," texture needs to be typeof `Texture`")),t.texture;var o=s("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||s("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||s("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,Me]});sr(!!o,"".concat(n," could not get texture from props"));var c=Me.from(o);return c.__reactpixi={root:e},c.once("update",r),c.once("loaded",r),c.valid&&r(c),c},xT=Zx(Kx([].concat(pa(Object.keys(_T)),pa(vf))));function Is(n,e,t){var r=!1;if(sr(Xt.prototype.isPrototypeOf(n),"instance needs to be typeof `DisplayObject`, got `%s`",Jn(n)),!t.ignoreEvents)for(var s=typeof n.removeListener=="function",o=typeof n.on=="function",c=0;c<vf.length;c++){var d=vf[c];e[d]!==t[d]&&(r=!0,typeof e[d]=="function"&&s&&n.removeListener(d,e[d]),typeof t[d]=="function"&&o&&n.on(d,t[d]))}var p=Object.keys(t||{});if(t.overwriteProps){for(var g=0;g<p.length;g++){var _=p[g];e[_]!==t[_]&&(r=!0,qm(n,_,t[_]))}return r}for(var x=p.filter(xT),S=0;S<x.length;S++){var b=x[S],T=t[b];t[b]!==e[b]&&(r=!0),T!==void 0?qm(n,b,T):b in Ng?(console.warn("setting default value: ".concat(b,", from: ").concat(n[b]," to: ").concat(T," for"),n),r=!0,qm(n,b,Ng[b])):console.warn("ignoring prop: ".concat(b,", from ").concat(n[b]," to ").concat(T," for"),n)}return r}var wT=function(n,e){var t=e.text,r=e.style;return new nb(t,r)},ET=function(){return new pn};function bo(n,e){if(n==null)return{};var t,r,s=function(c,d){if(c==null)return{};var p,g,_={},x=Object.keys(c);for(g=0;g<x.length;g++)p=x[g],d.indexOf(p)>=0||(_[p]=c[p]);return _}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}var ST=["draw","geometry"],bT=function(n,e){var t=e.geometry;sr(!t||t instanceof Tc,"Graphics geometry needs to be a `Graphics`");var r=t?new Tc(t.geometry):new Tc;return r.applyProps=function(s,o,c){var d=c.draw;c.geometry;var p=Is(s,o,bo(c,ST));return o.draw!==d&&typeof d=="function"&&(p=!0,d.call(r,r)),p},r},TT=["image","texture"],AT=function(n,e){var t=e.leftWidth,r=t===void 0?10:t,s=e.topHeight,o=s===void 0?10:s,c=e.rightWidth,d=c===void 0?10:c,p=e.bottomHeight,g=p===void 0?10:p,_=Rs("NineSlicePlane",n,e),x=new rT(_,r,o,d,g);return x.applyProps=function(S,b,T){var R=T.image,P=T.texture,M=Is(S,b,bo(T,TT));return(R||P)&&(P!==b.texture&&(M=!0),S.texture=Rs("NineSlicePlane",n,T)),M},x};function Z0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Ud(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Z0(Object(t),!0).forEach(function(r){cr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Z0(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var CT=function(n,e){var t=e.maxSize,r=t===void 0?1500:t,s=e.batchSize,o=s===void 0?16384:s,c=e.autoResize,d=c!==void 0&&c,p=Ud(Ud({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),g=Ud(Ud({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),_=new sT(r,p,o,d);return _.willUnmount=function(x,S,b){x.destroy(g)},_},PT=["image","texture"],RT=function(n,e){var t=new Ms(Rs("Sprite",n,e));return t.applyProps=function(r,s,o){var c=o.image,d=o.texture,p=Is(r,s,bo(o,PT));return(d&&s.texture!==o.texture||c&&s.image!==o.image)&&(s.texture!==o.texture&&(p=!0),r.texture=Rs("Sprite",n,o)),p},t},IT=["textures","isPlaying","initialFrame","images"],kT=function(n,e){var t=e.textures,r=e.images,s=e.isPlaying,o=s===void 0||s,c=e.initialFrame,d=function(g){return g.map(function(_){return sr(_ instanceof Me||(_==null?void 0:_.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),_})},p=r?Rc.fromImages(r):new Rc(d(t));return p[o?"gotoAndPlay":"gotoAndStop"](c||0),p.applyProps=function(g,_,x){var S=x.textures,b=x.isPlaying,T=x.initialFrame,R=x.images,P=Is(g,_,bo(x,IT));if(R&&_.images!==R){for(var M=[],z=0;z<R.length;++z)M.push(Me.from(R[z]));g.textures=M,P=!0}if(S&&_.textures!==S&&(g.textures=d(S),P=!0),b!==_.isPlaying||T!==_.initialFrame){var F=typeof T=="number"?T:p.currentFrame||0;p[b?"gotoAndPlay":"gotoAndStop"](F),P=!0}return P},p},MT=function(n,e){var t=e.text,r=t===void 0?"":t,s=e.style,o=s===void 0?{}:s,c=e.isSprite,d=new sy(r,o);return c?(d.updateText(),new Ms(d.texture)):d},NT=["tileScale","tilePosition","image","texture"],DT=function(n,e){var t=e.width,r=t===void 0?100:t,s=e.height,o=s===void 0?100:s,c=Rs("TilingSprite",n,e),d=new hy(c,r,o);return d.applyProps=function(p,g,_){var x=_.tileScale,S=_.tilePosition,b=_.image,T=_.texture,R=Is(p,g,bo(_,NT));if(S){var P,M=vc(S);(P=p.tilePosition).set.apply(P,pa(M)),R=!K0(vc(g.tilePosition),M)||R}if(x){var z,F=vc(x);(z=p.tileScale).set.apply(z,pa(F)),R=!K0(vc(g.tileScale),F)||R}return(b||T)&&(T!==g.texture&&(R=!0),p.texture=Rs("Sprite",n,_)),R},d},OT=["image","texture"],FT=function(n,e){var t=Rs("Mesh",n,e),r=e.vertices,s=e.uvs,o=e.indices,c=e.drawMode,d=c===void 0?Wi.TRIANGLES:c,p=new nT(t,r,s,o,d);return p.applyProps=function(g,_,x){var S=x.image,b=x.texture,T=Is(g,_,bo(x,OT));return(S||b)&&(b!==_.texture&&(T=!0),g.texture=Rs("Mesh",n,x)),T},p},BT=["image","texture"],LT=function(n,e){var t=Rs("SimpleRope",n,e),r=e.points,s=new iT(t,r);return s.applyProps=function(o,c,d){var p=d.image,g=d.texture,_=bo(d,BT);sr(Array.isArray(d.points),"SimpleRope points needs to be %s","Array<Point>");var x=Is(o,c,_);return(p||g)&&(g!==c.texture&&(x=!0),o.texture=Rs("SimpleRope",n,d)),x},s},UT=Object.freeze({__proto__:null,BitmapText:wT,Container:ET,Graphics:bT,NineSlicePlane:AT,ParticleContainer:CT,Sprite:RT,Text:MT,TilingSprite:DT,SimpleMesh:FT,SimpleRope:LT,AnimatedSprite:kT});function J0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function e_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?J0(Object(t),!0).forEach(function(r){cr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):J0(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Ln={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},zT=Object.keys(Ln).reduce(function(n,e){return e_(e_({},n),{},cr({},e,UT[e]))},{}),Jx={};function GT(n,e){return sr(!!n,"Expect type to be defined, got `%s`",n),sr(!Ln[n],"Component `%s` could not be created, already exists in default components.",n),Jx[n]=e,n}var t_,r_,n_,i_,Dg={},Og={},HT={get exports(){return Og},set exports(n){Og=n}},s_={};function jT(){return r_||(r_=1,HT.exports=(t_||(t_=1,function(n){function e(C,H){var N=C.length;C.push(H);e:for(;0<N;){var I=N-1>>>1,U=C[I];if(!(0<s(U,H)))break e;C[I]=H,C[N]=U,N=I}}function t(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var H=C[0],N=C.pop();if(N!==H){C[0]=N;e:for(var I=0,U=C.length,X=U>>>1;I<X;){var ie=2*(I+1)-1,ue=C[ie],pe=ie+1,_e=C[pe];if(0>s(ue,N))pe<U&&0>s(_e,ue)?(C[I]=_e,C[pe]=N,I=pe):(C[I]=ue,C[ie]=N,I=ie);else{if(!(pe<U&&0>s(_e,N)))break e;C[I]=_e,C[pe]=N,I=pe}}}return H}function s(C,H){var N=C.sortIndex-H.sortIndex;return N!==0?N:C.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,x=null,S=3,b=!1,T=!1,R=!1,P=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function F(C){for(var H=t(g);H!==null;){if(H.callback===null)r(g);else{if(!(H.startTime<=C))break;r(g),H.sortIndex=H.expirationTime,e(p,H)}H=t(g)}}function $(C){if(R=!1,F(C),!T)if(t(p)!==null)T=!0,B(L);else{var H=t(g);H!==null&&G($,H.startTime-C)}}function L(C,H){T=!1,R&&(R=!1,M(ce),ce=-1),b=!0;var N=S;try{for(F(H),x=t(p);x!==null&&(!(x.expirationTime>H)||C&&!K());){var I=x.callback;if(typeof I=="function"){x.callback=null,S=x.priorityLevel;var U=I(x.expirationTime<=H);H=n.unstable_now(),typeof U=="function"?x.callback=U:x===t(p)&&r(p),F(H)}else r(p);x=t(p)}if(x!==null)var X=!0;else{var ie=t(g);ie!==null&&G($,ie.startTime-H),X=!1}return X}finally{x=null,S=N,b=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Q,D=!1,Z=null,ce=-1,fe=5,Pe=-1;function K(){return!(n.unstable_now()-Pe<fe)}function J(){if(Z!==null){var C=n.unstable_now();Pe=C;var H=!0;try{H=Z(!0,C)}finally{H?Q():(D=!1,Z=null)}}else D=!1}if(typeof z=="function")Q=function(){z(J)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Te=le.port2;le.port1.onmessage=J,Q=function(){Te.postMessage(null)}}else Q=function(){P(J,0)};function B(C){Z=C,D||(D=!0,Q())}function G(C,H){ce=P(function(){C(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(C){C.callback=null},n.unstable_continueExecution=function(){T||b||(T=!0,B(L))},n.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<C?Math.floor(1e3/C):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(C){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var N=S;S=H;try{return C()}finally{S=N}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(C,H){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var N=S;S=C;try{return H()}finally{S=N}},n.unstable_scheduleCallback=function(C,H,N){var I=n.unstable_now();switch(N=typeof N=="object"&&N!==null&&typeof(N=N.delay)=="number"&&0<N?I+N:I,C){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return C={id:_++,callback:H,priorityLevel:C,startTime:N,expirationTime:U=N+U,sortIndex:-1},N>I?(C.sortIndex=N,e(g,C),t(p)===null&&C===t(g)&&(R?(M(ce),ce=-1):R=!0,G($,N-I))):(C.sortIndex=U,e(p,C),T||b||(T=!0,B(L))),C},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(C){var H=S;return function(){var N=S;S=H;try{return C.apply(this,arguments)}finally{S=N}}}}(s_)),s_)),Og}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function $T(){return i_||(i_=1,n_=function(n){var e={},t=en,r=jT(),s=Object.assign;function o(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),b=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),$=Symbol.iterator;function L(l){return l===null||typeof l!="object"?null:typeof(l=$&&l[$]||l["@@iterator"])=="function"?l:null}function Q(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case g:return"Fragment";case p:return"Portal";case x:return"Profiler";case _:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case b:return(l.displayName||"Context")+".Consumer";case S:return(l._context.displayName||"Context")+".Provider";case T:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case M:return(u=l.displayName||null)!==null?u:Q(l.type)||"Memo";case z:u=l._payload,l=l._init;try{return Q(l(u))}catch{}}return null}function D(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(u);case 8:return u===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Z(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do 4098&(u=l).flags&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function ce(l){if(Z(l)!==l)throw Error(o(188))}function fe(l){var u=l.alternate;if(!u){if((u=Z(l))===null)throw Error(o(188));return u!==l?null:l}for(var m=l,v=u;;){var w=m.return;if(w===null)break;var A=w.alternate;if(A===null){if((v=w.return)!==null){m=v;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===m)return ce(w),l;if(A===v)return ce(w),u;A=A.sibling}throw Error(o(188))}if(m.return!==v.return)m=w,v=A;else{for(var O=!1,V=w.child;V;){if(V===m){O=!0,m=w,v=A;break}if(V===v){O=!0,v=w,m=A;break}V=V.sibling}if(!O){for(V=A.child;V;){if(V===m){O=!0,m=A,v=w;break}if(V===v){O=!0,v=A,m=w;break}V=V.sibling}if(!O)throw Error(o(189))}}if(m.alternate!==v)throw Error(o(190))}if(m.tag!==3)throw Error(o(188));return m.stateNode.current===m?l:u}function Pe(l){return(l=fe(l))!==null?K(l):null}function K(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=K(l);if(u!==null)return u;l=l.sibling}return null}function J(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=J(l);if(u!==null)return u}l=l.sibling}return null}var le,Te=Array.isArray,B=n.getPublicInstance,G=n.getRootHostContext,C=n.getChildHostContext,H=n.prepareForCommit,N=n.resetAfterCommit,I=n.createInstance,U=n.appendInitialChild,X=n.finalizeInitialChildren,ie=n.prepareUpdate,ue=n.shouldSetTextContent,pe=n.createTextInstance,_e=n.scheduleTimeout,be=n.cancelTimeout,Re=n.noTimeout,ye=n.isPrimaryRenderer,ke=n.supportsMutation,Ue=n.supportsPersistence,$e=n.supportsHydration,ut=n.getInstanceFromNode,He=n.preparePortalMount,We=n.getCurrentEventPriority,Dt=n.detachDeletedInstance,jt=n.supportsMicrotasks,ei=n.scheduleMicrotask,fr=n.supportsTestSelectors,pr=n.findFiberRoot,ti=n.getBoundingRect,gi=n.getTextContent,tn=n.isHiddenSubtree,Hl=n.matchAccessibilityRole,jl=n.setFocusIfFocusable,ga=n.setupIntersectionObserver,ya=n.appendChild,Qi=n.appendChildToContainer,yi=n.commitTextUpdate,Ki=n.commitMount,oh=n.commitUpdate,$l=n.insertBefore,va=n.insertInContainerBefore,_a=n.removeChild,re=n.removeChildFromContainer,se=n.resetTextContent,ct=n.hideInstance,wt=n.hideTextInstance,bt=n.unhideInstance,nt=n.unhideTextInstance,Fr=n.clearContainer,ri=n.cloneInstance,vr=n.createContainerChildSet,mn=n.appendChildToContainerChildSet,xa=n.finalizeContainerChildren,Un=n.replaceContainerChildren,Tr=n.cloneHiddenInstance,wa=n.cloneHiddenTextInstance,Zi=n.canHydrateInstance,Ea=n.canHydrateTextInstance,zn=n.canHydrateSuspenseInstance,Sa=n.isSuspenseInstancePending,gn=n.isSuspenseInstanceFallback,Ji=n.getSuspenseInstanceFallbackErrorDetails,es=n.registerSuspenseInstanceRetry,vi=n.getNextHydratableSibling,Wl=n.getFirstHydratableChild,To=n.getFirstHydratableChildWithinContainer,Vl=n.getFirstHydratableChildWithinSuspenseInstance,Gn=n.hydrateInstance,Ao=n.hydrateTextInstance,Xl=n.hydrateSuspenseInstance,Co=n.getNextHydratableInstanceAfterSuspenseInstance,_i=n.commitHydratedContainer,Ns=n.commitHydratedSuspenseInstance,Yl=n.clearSuspenseBoundary,Po=n.clearSuspenseBoundaryFromContainer,Lf=n.shouldDeleteUnhydratedTailInstances,Uf=n.didNotMatchHydratedContainerTextInstance,Yt=n.didNotMatchHydratedTextInstance;function Ro(l){if(le===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);le=u&&u[1]||""}return`
`+le+l}var Io=!1;function ql(l,u){if(!l||Io)return"";Io=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(he){var v=he}Reflect.construct(l,[],u)}else{try{u.call()}catch(he){v=he}l.call(u.prototype)}else{try{throw Error()}catch(he){v=he}l()}}catch(he){if(he&&v&&typeof he.stack=="string"){for(var w=he.stack.split(`
`),A=v.stack.split(`
`),O=w.length-1,V=A.length-1;1<=O&&0<=V&&w[O]!==A[V];)V--;for(;1<=O&&0<=V;O--,V--)if(w[O]!==A[V]){if(O!==1||V!==1)do if(O--,0>--V||w[O]!==A[V]){var te=`
`+w[O].replace(" at new "," at ");return l.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",l.displayName)),te}while(1<=O&&0<=V);break}}}finally{Io=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?Ro(l):""}var Ql=Object.prototype.hasOwnProperty,lh=[],Ds=-1;function Hn(l){return{current:l}}function mt(l){0>Ds||(l.current=lh[Ds],lh[Ds]=null,Ds--)}function Pt(l,u){Ds++,lh[Ds]=l.current,l.current=u}var mr={},Ar=Hn(mr),jr=Hn(!1),Os=mr;function xi(l,u){var m=l.type.contextTypes;if(!m)return mr;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var w,A={};for(w in m)A[w]=u[w];return v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=A),A}function Cr(l){return(l=l.childContextTypes)!=null}function Fs(){mt(jr),mt(Ar)}function ko(l,u,m){if(Ar.current!==mr)throw Error(o(168));Pt(Ar,u),Pt(jr,m)}function Fc(l,u,m){var v=l.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return m;for(var w in v=v.getChildContext())if(!(w in u))throw Error(o(108,D(l)||"Unknown",w));return s({},m,v)}function Kl(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||mr,Os=Ar.current,Pt(Ar,l),Pt(jr,jr.current),!0}function Zl(l,u,m){var v=l.stateNode;if(!v)throw Error(o(169));m?(l=Fc(l,u,Os),v.__reactInternalMemoizedMergedChildContext=l,mt(jr),mt(Ar),Pt(Ar,l)):mt(jr),Pt(jr,m)}var yn=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(uh(l)/Mo|0)|0},uh=Math.log,Mo=Math.LN2,hh=64,No=4194304;function gt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Do(l,u){var m=l.pendingLanes;if(m===0)return 0;var v=0,w=l.suspendedLanes,A=l.pingedLanes,O=268435455&m;if(O!==0){var V=O&~w;V!==0?v=gt(V):(A&=O)!==0&&(v=gt(A))}else(O=m&~w)!==0?v=gt(O):A!==0&&(v=gt(A));if(v===0)return 0;if(u!==0&&u!==v&&!(u&w)&&((w=v&-v)>=(A=u&-u)||w===16&&4194240&A))return u;if(4&v&&(v|=16&m),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=v;0<u;)w=1<<(m=31-yn(u)),v|=l[m],u&=~w;return v}function Bc(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function Oo(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function ch(){var l=hh;return!(4194240&(hh<<=1))&&(hh=64),l}function Jl(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function ba(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-yn(u)]=m}function Fo(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var v=31-yn(m),w=1<<v;w&u|l[v]&u&&(l[v]|=u),m&=~w}}var dt=0;function wi(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var ni=r.unstable_scheduleCallback,Ei=r.unstable_cancelCallback,Bo=r.unstable_shouldYield,Lo=r.unstable_requestPaint,Ot=r.unstable_now,dh=r.unstable_ImmediatePriority,Lc=r.unstable_UserBlockingPriority,Ta=r.unstable_NormalPriority,zf=r.unstable_IdlePriority,Uo=null,rn=null,vn=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},Si=null,ts=!1,Bs=!1;function Ls(l){Si===null?Si=[l]:Si.push(l)}function nn(){if(!Bs&&Si!==null){Bs=!0;var l=0,u=dt;try{var m=Si;for(dt=1;l<m.length;l++){var v=m[l];do v=v(!0);while(v!==null)}Si=null,ts=!1}catch(w){throw Si!==null&&(Si=Si.slice(l+1)),ni(dh,nn),w}finally{dt=u,Bs=!1}}return null}var Aa=[],Ca=0,Pa=null,Us=0,$r=[],sn=0,Wr=null,_n=1,xn="";function rs(l,u){Aa[Ca++]=Us,Aa[Ca++]=Pa,Pa=l,Us=u}function zo(l,u,m){$r[sn++]=_n,$r[sn++]=xn,$r[sn++]=Wr,Wr=l;var v=_n;l=xn;var w=32-yn(v)-1;v&=~(1<<w),m+=1;var A=32-yn(u)+w;if(30<A){var O=w-w%5;A=(v&(1<<O)-1).toString(32),v>>=O,w-=O,_n=1<<32-yn(u)+w|m<<w|v,xn=A+l}else _n=1<<A|m<<w|v,xn=l}function Ra(l){l.return!==null&&(rs(l,1),zo(l,1,0))}function eu(l){for(;l===Pa;)Pa=Aa[--Ca],Aa[Ca]=null,Us=Aa[--Ca],Aa[Ca]=null;for(;l===Wr;)Wr=$r[--sn],$r[sn]=null,xn=$r[--sn],$r[sn]=null,_n=$r[--sn],$r[sn]=null}var Ft=null,_r=null,Rt=!1,bi=!1,jn=null;function tu(l,u){var m=cn(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,(u=l.deletions)===null?(l.deletions=[m],l.flags|=16):u.push(m)}function ru(l,u){switch(l.tag){case 5:return(u=Zi(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,Ft=l,_r=Wl(u),!0);case 6:return(u=Ea(u,l.pendingProps))!==null&&(l.stateNode=u,Ft=l,_r=null,!0);case 13:if((u=zn(u))!==null){var m=Wr!==null?{id:_n,overflow:xn}:null;return l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},(m=cn(18,null,null,0)).stateNode=u,m.return=l,l.child=m,Ft=l,_r=null,!0}return!1;default:return!1}}function zs(l){return(1&l.mode)!=0&&(128&l.flags)==0}function Ia(l){if(Rt){var u=_r;if(u){var m=u;if(!ru(l,u)){if(zs(l))throw Error(o(418));u=vi(m);var v=Ft;u&&ru(l,u)?tu(v,m):(l.flags=-4097&l.flags|2,Rt=!1,Ft=l)}}else{if(zs(l))throw Error(o(418));l.flags=-4097&l.flags|2,Rt=!1,Ft=l}}}function fh(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Ft=l}function nu(l){if(!$e||l!==Ft)return!1;if(!Rt)return fh(l),Rt=!0,!1;if(l.tag!==3&&(l.tag!==5||Lf(l.type)&&!ue(l.type,l.memoizedProps))){var u=_r;if(u){if(zs(l))throw Uc(),Error(o(418));for(;u;)tu(l,u),u=vi(u)}}if(fh(l),l.tag===13){if(!$e)throw Error(o(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(o(317));_r=Co(l)}else _r=Ft?vi(l.stateNode):null;return!0}function Uc(){for(var l=_r;l;)l=vi(l)}function ka(){$e&&(_r=Ft=null,bi=Rt=!1)}function Go(l){jn===null?jn=[l]:jn.push(l)}var Gf=c.ReactCurrentBatchConfig;function iu(l,u){if(vn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),v=Object.keys(u);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var w=m[v];if(!Ql.call(u,w)||!vn(l[w],u[w]))return!1}return!0}function Hf(l){switch(l.tag){case 5:return Ro(l.type);case 16:return Ro("Lazy");case 13:return Ro("Suspense");case 19:return Ro("SuspenseList");case 0:case 2:case 15:return l=ql(l.type,!1);case 11:return l=ql(l.type.render,!1);case 1:return l=ql(l.type,!0);default:return""}}function $n(l,u){if(l&&l.defaultProps){for(var m in u=s({},u),l=l.defaultProps)u[m]===void 0&&(u[m]=l[m]);return u}return u}var su=Hn(null),Ho=null,Ma=null,ph=null;function mh(){ph=Ma=Ho=null}function zc(l,u,m){ye?(Pt(su,u._currentValue),u._currentValue=m):(Pt(su,u._currentValue2),u._currentValue2=m)}function jo(l){var u=su.current;mt(su),ye?l._currentValue=u:l._currentValue2=u}function gh(l,u,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===m)break;l=l.return}}function Na(l,u){Ho=l,ph=Ma=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&u&&(Wt=!0),l.firstContext=null)}function wn(l){var u=ye?l._currentValue:l._currentValue2;if(ph!==l)if(l={context:l,memoizedValue:u,next:null},Ma===null){if(Ho===null)throw Error(o(308));Ma=l,Ho.dependencies={lanes:0,firstContext:l}}else Ma=Ma.next=l;return u}var ns=null;function yh(l){ns===null?ns=[l]:ns.push(l)}function Gc(l,u,m,v){var w=u.interleaved;return w===null?(m.next=m,yh(u)):(m.next=w.next,w.next=m),u.interleaved=m,ii(l,v)}function ii(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,(m=l.alternate)!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var is=!1;function vh(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hc(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ti(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function si(l,u,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(2&st)!=0){var w=v.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),v.pending=u,ii(l,m)}return(w=v.interleaved)===null?(u.next=u,yh(v)):(u.next=w.next,w.next=u),v.interleaved=u,ii(l,m)}function ss(l,u,m){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&m)!=0)){var v=u.lanes;m|=v&=l.pendingLanes,u.lanes=m,Fo(l,m)}}function jc(l,u){var m=l.updateQueue,v=l.alternate;if(v!==null&&m===(v=v.updateQueue)){var w=null,A=null;if((m=m.firstBaseUpdate)!==null){do{var O={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};A===null?w=A=O:A=A.next=O,m=m.next}while(m!==null);A===null?w=A=u:A=A.next=u}else w=A=u;return m={baseState:v.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:v.shared,effects:v.effects},void(l.updateQueue=m)}(l=m.lastBaseUpdate)===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function $o(l,u,m,v){var w=l.updateQueue;is=!1;var A=w.firstBaseUpdate,O=w.lastBaseUpdate,V=w.shared.pending;if(V!==null){w.shared.pending=null;var te=V,he=te.next;te.next=null,O===null?A=he:O.next=he,O=te;var me=l.alternate;me!==null&&(V=(me=me.updateQueue).lastBaseUpdate)!==O&&(V===null?me.firstBaseUpdate=he:V.next=he,me.lastBaseUpdate=te)}if(A!==null){var Ie=w.baseState;for(O=0,me=he=te=null,V=A;;){var de=V.lane,Se=V.eventTime;if((v&de)===de){me!==null&&(me=me.next={eventTime:Se,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var ze=l,ot=V;switch(de=u,Se=m,ot.tag){case 1:if(typeof(ze=ot.payload)=="function"){Ie=ze.call(Se,Ie,de);break e}Ie=ze;break e;case 3:ze.flags=-65537&ze.flags|128;case 0:if((de=typeof(ze=ot.payload)=="function"?ze.call(Se,Ie,de):ze)==null)break e;Ie=s({},Ie,de);break e;case 2:is=!0}}V.callback!==null&&V.lane!==0&&(l.flags|=64,(de=w.effects)===null?w.effects=[V]:de.push(V))}else Se={eventTime:Se,lane:de,tag:V.tag,payload:V.payload,callback:V.callback,next:null},me===null?(he=me=Se,te=Ie):me=me.next=Se,O|=de;if((V=V.next)===null){if((V=w.shared.pending)===null)break;V=(de=V).next,de.next=null,w.lastBaseUpdate=de,w.shared.pending=null}}if(me===null&&(te=Ie),w.baseState=te,w.firstBaseUpdate=he,w.lastBaseUpdate=me,(u=w.shared.interleaved)!==null){w=u;do O|=w.lane,w=w.next;while(w!==u)}else A===null&&(w.shared.lanes=0);ms|=O,l.lanes=O,l.memoizedState=Ie}}function _h(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var v=l[u],w=v.callback;if(w!==null){if(v.callback=null,v=m,typeof w!="function")throw Error(o(191,w));w.call(v)}}}var xh=new t.Component().refs;function au(l,u,m,v){m=(m=m(v,u=l.memoizedState))==null?u:s({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Wo={isMounted:function(l){return!!(l=l._reactInternals)&&Z(l)===l},enqueueSetState:function(l,u,m){l=l._reactInternals;var v=lr(),w=Nn(l),A=Ti(v,w);A.payload=u,m!=null&&(A.callback=m),(u=si(l,A,w))!==null&&(Ir(u,l,w,v),ss(u,l,w))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var v=lr(),w=Nn(l),A=Ti(v,w);A.tag=1,A.payload=u,m!=null&&(A.callback=m),(u=si(l,A,w))!==null&&(Ir(u,l,w,v),ss(u,l,w))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=lr(),v=Nn(l),w=Ti(m,v);w.tag=2,u!=null&&(w.callback=u),(u=si(l,w,v))!==null&&(Ir(u,l,v,m),ss(u,l,v))}};function Gs(l,u,m,v,w,A,O){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,A,O):!u.prototype||!u.prototype.isPureReactComponent||!iu(m,v)||!iu(w,A)}function $c(l,u,m){var v=!1,w=mr,A=u.contextType;return typeof A=="object"&&A!==null?A=wn(A):(w=Cr(u)?Os:Ar.current,A=(v=(v=u.contextTypes)!=null)?xi(l,w):mr),u=new u(m,A),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Wo,l.stateNode=u,u._reactInternals=l,v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=w,l.__reactInternalMemoizedMaskedChildContext=A),u}function Wc(l,u,m,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,v),u.state!==l&&Wo.enqueueReplaceState(u,u.state,null)}function wh(l,u,m,v){var w=l.stateNode;w.props=m,w.state=l.memoizedState,w.refs=xh,vh(l);var A=u.contextType;typeof A=="object"&&A!==null?w.context=wn(A):(A=Cr(u)?Os:Ar.current,w.context=xi(l,A)),w.state=l.memoizedState,typeof(A=u.getDerivedStateFromProps)=="function"&&(au(l,u,A,m),w.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(u=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),u!==w.state&&Wo.enqueueReplaceState(w,w.state,null),$o(l,m,w,v),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308)}function Da(l,u,m){if((l=m.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner){if(m.tag!==1)throw Error(o(309));var v=m.stateNode}if(!v)throw Error(o(147,l));var w=v,A=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===A?u.ref:(u=function(O){var V=w.refs;V===xh&&(V=w.refs={}),O===null?delete V[A]:V[A]=O},u._stringRef=A,u)}if(typeof l!="string")throw Error(o(284));if(!m._owner)throw Error(o(290,l))}return l}function Vo(l,u){throw l=Object.prototype.toString.call(u),Error(o(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Oa(l){return(0,l._init)(l._payload)}function Fa(l){function u(ge,q){if(l){var oe=ge.deletions;oe===null?(ge.deletions=[q],ge.flags|=16):oe.push(q)}}function m(ge,q){if(!l)return null;for(;q!==null;)u(ge,q),q=q.sibling;return null}function v(ge,q){for(ge=new Map;q!==null;)q.key!==null?ge.set(q.key,q):ge.set(q.index,q),q=q.sibling;return ge}function w(ge,q){return(ge=Fi(ge,q)).index=0,ge.sibling=null,ge}function A(ge,q,oe){return ge.index=oe,l?(oe=ge.alternate)!==null?(oe=oe.index)<q?(ge.flags|=2,q):oe:(ge.flags|=2,q):(ge.flags|=1048576,q)}function O(ge){return l&&ge.alternate===null&&(ge.flags|=2),ge}function V(ge,q,oe,we){return q===null||q.tag!==6?((q=Mu(oe,ge.mode,we)).return=ge,q):((q=w(q,oe)).return=ge,q)}function te(ge,q,oe,we){var Qe=oe.type;return Qe===g?me(ge,q,oe.props.children,we,oe.key):q!==null&&(q.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===z&&Oa(Qe)===q.type)?((we=w(q,oe.props)).ref=Da(ge,q,oe),we.return=ge,we):((we=gl(oe.type,oe.key,oe.props,null,ge.mode,we)).ref=Da(ge,q,oe),we.return=ge,we)}function he(ge,q,oe,we){return q===null||q.tag!==4||q.stateNode.containerInfo!==oe.containerInfo||q.stateNode.implementation!==oe.implementation?((q=Qh(oe,ge.mode,we)).return=ge,q):((q=w(q,oe.children||[])).return=ge,q)}function me(ge,q,oe,we,Qe){return q===null||q.tag!==7?((q=ys(oe,ge.mode,we,Qe)).return=ge,q):((q=w(q,oe)).return=ge,q)}function Ie(ge,q,oe){if(typeof q=="string"&&q!==""||typeof q=="number")return(q=Mu(""+q,ge.mode,oe)).return=ge,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case d:return(oe=gl(q.type,q.key,q.props,null,ge.mode,oe)).ref=Da(ge,null,q),oe.return=ge,oe;case p:return(q=Qh(q,ge.mode,oe)).return=ge,q;case z:return Ie(ge,(0,q._init)(q._payload),oe)}if(Te(q)||L(q))return(q=ys(q,ge.mode,oe,null)).return=ge,q;Vo(ge,q)}return null}function de(ge,q,oe,we){var Qe=q!==null?q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Qe!==null?null:V(ge,q,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case d:return oe.key===Qe?te(ge,q,oe,we):null;case p:return oe.key===Qe?he(ge,q,oe,we):null;case z:return de(ge,q,(Qe=oe._init)(oe._payload),we)}if(Te(oe)||L(oe))return Qe!==null?null:me(ge,q,oe,we,null);Vo(ge,oe)}return null}function Se(ge,q,oe,we,Qe){if(typeof we=="string"&&we!==""||typeof we=="number")return V(q,ge=ge.get(oe)||null,""+we,Qe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case d:return te(q,ge=ge.get(we.key===null?oe:we.key)||null,we,Qe);case p:return he(q,ge=ge.get(we.key===null?oe:we.key)||null,we,Qe);case z:return Se(ge,q,oe,(0,we._init)(we._payload),Qe)}if(Te(we)||L(we))return me(q,ge=ge.get(oe)||null,we,Qe,null);Vo(q,we)}return null}function ze(ge,q,oe,we){for(var Qe=null,vt=null,je=q,yt=q=0,ur=null;je!==null&&yt<oe.length;yt++){je.index>yt?(ur=je,je=null):ur=je.sibling;var _t=de(ge,je,oe[yt],we);if(_t===null){je===null&&(je=ur);break}l&&je&&_t.alternate===null&&u(ge,je),q=A(_t,q,yt),vt===null?Qe=_t:vt.sibling=_t,vt=_t,je=ur}if(yt===oe.length)return m(ge,je),Rt&&rs(ge,yt),Qe;if(je===null){for(;yt<oe.length;yt++)(je=Ie(ge,oe[yt],we))!==null&&(q=A(je,q,yt),vt===null?Qe=je:vt.sibling=je,vt=je);return Rt&&rs(ge,yt),Qe}for(je=v(ge,je);yt<oe.length;yt++)(ur=Se(je,ge,yt,oe[yt],we))!==null&&(l&&ur.alternate!==null&&je.delete(ur.key===null?yt:ur.key),q=A(ur,q,yt),vt===null?Qe=ur:vt.sibling=ur,vt=ur);return l&&je.forEach(function(hi){return u(ge,hi)}),Rt&&rs(ge,yt),Qe}function ot(ge,q,oe,we){var Qe=L(oe);if(typeof Qe!="function")throw Error(o(150));if((oe=Qe.call(oe))==null)throw Error(o(151));for(var vt=Qe=null,je=q,yt=q=0,ur=null,_t=oe.next();je!==null&&!_t.done;yt++,_t=oe.next()){je.index>yt?(ur=je,je=null):ur=je.sibling;var hi=de(ge,je,_t.value,we);if(hi===null){je===null&&(je=ur);break}l&&je&&hi.alternate===null&&u(ge,je),q=A(hi,q,yt),vt===null?Qe=hi:vt.sibling=hi,vt=hi,je=ur}if(_t.done)return m(ge,je),Rt&&rs(ge,yt),Qe;if(je===null){for(;!_t.done;yt++,_t=oe.next())(_t=Ie(ge,_t.value,we))!==null&&(q=A(_t,q,yt),vt===null?Qe=_t:vt.sibling=_t,vt=_t);return Rt&&rs(ge,yt),Qe}for(je=v(ge,je);!_t.done;yt++,_t=oe.next())(_t=Se(je,ge,yt,_t.value,we))!==null&&(l&&_t.alternate!==null&&je.delete(_t.key===null?yt:_t.key),q=A(_t,q,yt),vt===null?Qe=_t:vt.sibling=_t,vt=_t);return l&&je.forEach(function(td){return u(ge,td)}),Rt&&rs(ge,yt),Qe}return function ge(q,oe,we,Qe){if(typeof we=="object"&&we!==null&&we.type===g&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case d:e:{for(var vt=we.key,je=oe;je!==null;){if(je.key===vt){if((vt=we.type)===g){if(je.tag===7){m(q,je.sibling),(oe=w(je,we.props.children)).return=q,q=oe;break e}}else if(je.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===z&&Oa(vt)===je.type){m(q,je.sibling),(oe=w(je,we.props)).ref=Da(q,je,we),oe.return=q,q=oe;break e}m(q,je);break}u(q,je),je=je.sibling}we.type===g?((oe=ys(we.props.children,q.mode,Qe,we.key)).return=q,q=oe):((Qe=gl(we.type,we.key,we.props,null,q.mode,Qe)).ref=Da(q,oe,we),Qe.return=q,q=Qe)}return O(q);case p:e:{for(je=we.key;oe!==null;){if(oe.key===je){if(oe.tag===4&&oe.stateNode.containerInfo===we.containerInfo&&oe.stateNode.implementation===we.implementation){m(q,oe.sibling),(oe=w(oe,we.children||[])).return=q,q=oe;break e}m(q,oe);break}u(q,oe),oe=oe.sibling}(oe=Qh(we,q.mode,Qe)).return=q,q=oe}return O(q);case z:return ge(q,oe,(je=we._init)(we._payload),Qe)}if(Te(we))return ze(q,oe,we,Qe);if(L(we))return ot(q,oe,we,Qe);Vo(q,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,oe!==null&&oe.tag===6?(m(q,oe.sibling),(oe=w(oe,we)).return=q,q=oe):(m(q,oe),(oe=Mu(we,q.mode,Qe)).return=q,q=oe),O(q)):m(q,oe)}}var Ba=Fa(!0),Xo=Fa(!1),Yo={},an=Hn(Yo),Hs=Hn(Yo),as=Hn(Yo);function Wn(l){if(l===Yo)throw Error(o(174));return l}function ou(l,u){Pt(as,u),Pt(Hs,l),Pt(an,Yo),l=G(u),mt(an),Pt(an,l)}function js(){mt(an),mt(Hs),mt(as)}function Vc(l){var u=Wn(as.current),m=Wn(an.current);m!==(u=C(m,l.type,u))&&(Pt(Hs,l),Pt(an,u))}function Eh(l){Hs.current===l&&(mt(an),mt(Hs))}var $t=Hn(0);function lu(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&((m=m.dehydrated)===null||Sa(m)||gn(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Sh=[];function on(){for(var l=0;l<Sh.length;l++){var u=Sh[l];ye?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Sh.length=0}var os=c.ReactCurrentDispatcher,uu=c.ReactCurrentBatchConfig,ls=0,zt=null,ar=null,Zt=null,hu=!1,qo=!1,ai=0,bh=0;function Jt(){throw Error(o(321))}function Qo(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!vn(l[m],u[m]))return!1;return!0}function cu(l,u,m,v,w,A){if(ls=A,zt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,os.current=l===null||l.memoizedState===null?Nh:Dh,l=m(v,w),qo){A=0;do{if(qo=!1,ai=0,25<=A)throw Error(o(301));A+=1,Zt=ar=null,u.updateQueue=null,os.current=Oh,l=m(v,w)}while(qo)}if(os.current=$a,u=ar!==null&&ar.next!==null,ls=0,Zt=ar=zt=null,hu=!1,u)throw Error(o(300));return l}function La(){var l=ai!==0;return ai=0,l}function Br(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?zt.memoizedState=Zt=l:Zt=Zt.next=l,Zt}function Vr(){if(ar===null){var l=zt.alternate;l=l!==null?l.memoizedState:null}else l=ar.next;var u=Zt===null?zt.memoizedState:Zt.next;if(u!==null)Zt=u,ar=l;else{if(l===null)throw Error(o(310));l={memoizedState:(ar=l).memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},Zt===null?zt.memoizedState=Zt=l:Zt=Zt.next=l}return Zt}function Ua(l,u){return typeof u=="function"?u(l):u}function za(l){var u=Vr(),m=u.queue;if(m===null)throw Error(o(311));m.lastRenderedReducer=l;var v=ar,w=v.baseQueue,A=m.pending;if(A!==null){if(w!==null){var O=w.next;w.next=A.next,A.next=O}v.baseQueue=w=A,m.pending=null}if(w!==null){A=w.next,v=v.baseState;var V=O=null,te=null,he=A;do{var me=he.lane;if((ls&me)===me)te!==null&&(te=te.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),v=he.hasEagerState?he.eagerState:l(v,he.action);else{var Ie={lane:me,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};te===null?(V=te=Ie,O=v):te=te.next=Ie,zt.lanes|=me,ms|=me}he=he.next}while(he!==null&&he!==A);te===null?O=v:te.next=V,vn(v,u.memoizedState)||(Wt=!0),u.memoizedState=v,u.baseState=O,u.baseQueue=te,m.lastRenderedState=v}if((l=m.interleaved)!==null){w=l;do A=w.lane,zt.lanes|=A,ms|=A,w=w.next;while(w!==l)}else w===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function du(l){var u=Vr(),m=u.queue;if(m===null)throw Error(o(311));m.lastRenderedReducer=l;var v=m.dispatch,w=m.pending,A=u.memoizedState;if(w!==null){m.pending=null;var O=w=w.next;do A=l(A,O.action),O=O.next;while(O!==w);vn(A,u.memoizedState)||(Wt=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),m.lastRenderedState=A}return[A,v]}function Th(){}function Ah(l,u){var m=zt,v=Vr(),w=u(),A=!vn(v.memoizedState,w);if(A&&(v.memoizedState=w,Wt=!0),v=v.queue,gu(Rh.bind(null,m,v,l),[l]),v.getSnapshot!==u||A||Zt!==null&&1&Zt.memoizedState.tag){if(m.flags|=2048,Ko(9,Ph.bind(null,m,v,w,u),void 0,null),tr===null)throw Error(o(349));30&ls||Ch(m,u,w)}return w}function Ch(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},(u=zt.updateQueue)===null?(u={lastEffect:null,stores:null},zt.updateQueue=u,u.stores=[l]):(m=u.stores)===null?u.stores=[l]:m.push(l)}function Ph(l,u,m,v){u.value=m,u.getSnapshot=v,Ai(u)&&fu(l)}function Rh(l,u,m){return m(function(){Ai(u)&&fu(l)})}function Ai(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!vn(l,m)}catch{return!0}}function fu(l){var u=ii(l,1);u!==null&&Ir(u,l,1,-1)}function pu(l){var u=Br();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:l},u.queue=l,l=l.dispatch=$f.bind(null,zt,l),[u.memoizedState,l]}function Ko(l,u,m,v){return l={tag:l,create:u,destroy:m,deps:v,next:null},(u=zt.updateQueue)===null?(u={lastEffect:null,stores:null},zt.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect)===null?u.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,u.lastEffect=l),l}function Xc(){return Vr().memoizedState}function us(l,u,m,v){var w=Br();zt.flags|=l,w.memoizedState=Ko(1|u,m,void 0,v===void 0?null:v)}function mu(l,u,m,v){var w=Vr();v=v===void 0?null:v;var A=void 0;if(ar!==null){var O=ar.memoizedState;if(A=O.destroy,v!==null&&Qo(v,O.deps))return void(w.memoizedState=Ko(u,m,A,v))}zt.flags|=l,w.memoizedState=Ko(1|u,m,A,v)}function Ih(l,u){return us(8390656,8,l,u)}function gu(l,u){return mu(2048,8,l,u)}function It(l,u){return mu(4,2,l,u)}function yu(l,u){return mu(4,4,l,u)}function Zo(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function Ga(l,u,m){return m=m!=null?m.concat([l]):null,mu(4,4,Zo.bind(null,u,l),m)}function vu(){}function _u(l,u){var m=Vr();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&Qo(u,v[1])?v[0]:(m.memoizedState=[l,u],l)}function Ha(l,u){var m=Vr();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&Qo(u,v[1])?v[0]:(l=l(),m.memoizedState=[l,u],l)}function Jo(l,u,m){return 21&ls?(vn(m,u)||(m=ch(),zt.lanes|=m,ms|=m,l.baseState=!0),u):(l.baseState&&(l.baseState=!1,Wt=!0),l.memoizedState=m)}function ja(l,u){var m=dt;dt=m!==0&&4>m?m:4,l(!0);var v=uu.transition;uu.transition={};try{l(!1),u()}finally{dt=m,uu.transition=v}}function kh(){return Vr().memoizedState}function jf(l,u,m){var v=Nn(l);m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},Mh(l)?el(u,m):(m=Gc(l,u,m,v))!==null&&(Ir(m,l,v,lr()),tl(m,u,v))}function $f(l,u,m){var v=Nn(l),w={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(Mh(l))el(u,w);else{var A=l.alternate;if(l.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer)!==null)try{var O=u.lastRenderedState,V=A(O,m);if(w.hasEagerState=!0,w.eagerState=V,vn(V,O)){var te=u.interleaved;return te===null?(w.next=w,yh(u)):(w.next=te.next,te.next=w),void(u.interleaved=w)}}catch{}(m=Gc(l,u,w,v))!==null&&(Ir(m,l,v,w=lr()),tl(m,u,v))}}function Mh(l){var u=l.alternate;return l===zt||u!==null&&u===zt}function el(l,u){qo=hu=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function tl(l,u,m){if(4194240&m){var v=u.lanes;m|=v&=l.pendingLanes,u.lanes=m,Fo(l,m)}}var $a={readContext:wn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},Nh={readContext:wn,useCallback:function(l,u){return Br().memoizedState=[l,u===void 0?null:u],l},useContext:wn,useEffect:Ih,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,us(4194308,4,Zo.bind(null,u,l),m)},useLayoutEffect:function(l,u){return us(4194308,4,l,u)},useInsertionEffect:function(l,u){return us(4,2,l,u)},useMemo:function(l,u){var m=Br();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var v=Br();return u=m!==void 0?m(u):u,v.memoizedState=v.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},v.queue=l,l=l.dispatch=jf.bind(null,zt,l),[v.memoizedState,l]},useRef:function(l){return l={current:l},Br().memoizedState=l},useState:pu,useDebugValue:vu,useDeferredValue:function(l){return Br().memoizedState=l},useTransition:function(){var l=pu(!1),u=l[0];return l=ja.bind(null,l[1]),Br().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var v=zt,w=Br();if(Rt){if(m===void 0)throw Error(o(407));m=m()}else{if(m=u(),tr===null)throw Error(o(349));30&ls||Ch(v,u,m)}w.memoizedState=m;var A={value:m,getSnapshot:u};return w.queue=A,Ih(Rh.bind(null,v,A,l),[l]),v.flags|=2048,Ko(9,Ph.bind(null,v,A,m,u),void 0,null),m},useId:function(){var l=Br(),u=tr.identifierPrefix;if(Rt){var m=xn;u=":"+u+"R"+(m=(_n&~(1<<32-yn(_n)-1)).toString(32)+m),0<(m=ai++)&&(u+="H"+m.toString(32)),u+=":"}else u=":"+u+"r"+(m=bh++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},Dh={readContext:wn,useCallback:_u,useContext:wn,useEffect:gu,useImperativeHandle:Ga,useInsertionEffect:It,useLayoutEffect:yu,useMemo:Ha,useReducer:za,useRef:Xc,useState:function(){return za(Ua)},useDebugValue:vu,useDeferredValue:function(l){return Jo(Vr(),ar.memoizedState,l)},useTransition:function(){return[za(Ua)[0],Vr().memoizedState]},useMutableSource:Th,useSyncExternalStore:Ah,useId:kh,unstable_isNewReconciler:!1},Oh={readContext:wn,useCallback:_u,useContext:wn,useEffect:gu,useImperativeHandle:Ga,useInsertionEffect:It,useLayoutEffect:yu,useMemo:Ha,useReducer:du,useRef:Xc,useState:function(){return du(Ua)},useDebugValue:vu,useDeferredValue:function(l){var u=Vr();return ar===null?u.memoizedState=l:Jo(u,ar.memoizedState,l)},useTransition:function(){return[du(Ua)[0],Vr().memoizedState]},useMutableSource:Th,useSyncExternalStore:Ah,useId:kh,unstable_isNewReconciler:!1};function Wa(l,u){try{var m="",v=u;do m+=Hf(v),v=v.return;while(v);var w=m}catch(A){w=`
Error generating stack: `+A.message+`
`+A.stack}return{value:l,source:u,stack:w,digest:null}}function xu(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function Fh(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var Wf=typeof WeakMap=="function"?WeakMap:Map;function wu(l,u,m){(m=Ti(-1,m)).tag=3,m.payload={element:null};var v=u.value;return m.callback=function(){Mt||(Mt=!0,to=v),Fh(0,u)},m}function Ci(l,u,m){(m=Ti(-1,m)).tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var w=u.value;m.payload=function(){return v(w)},m.callback=function(){Fh(0,u)}}var A=l.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(m.callback=function(){Fh(0,u),typeof v!="function"&&(li===null?li=new Set([this]):li.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})}),m}function Bh(l,u,m){var v=l.pingCache;if(v===null){v=l.pingCache=new Wf;var w=new Set;v.set(u,w)}else(w=v.get(u))===void 0&&(w=new Set,v.set(u,w));w.has(m)||(w.add(m),l=Iu.bind(null,l,u,m),u.then(l,l))}function $s(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function Vn(l,u,m,v,w){return 1&l.mode?(l.flags|=65536,l.lanes=w,l):(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:((u=Ti(-1,1)).tag=2,si(m,u,1))),m.lanes|=1),l)}var rl=c.ReactCurrentOwner,Wt=!1;function Pr(l,u,m,v){u.child=l===null?Xo(u,null,m,v):Ba(u,l.child,m,v)}function Yc(l,u,m,v,w){m=m.render;var A=u.ref;return Na(u,w),v=cu(l,u,m,v,A,w),m=La(),l===null||Wt?(Rt&&m&&Ra(u),u.flags|=1,Pr(l,u,v,w),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~w,bn(l,u,w))}function qc(l,u,m,v,w){if(l===null){var A=m.type;return typeof A!="function"||ml(A)||A.defaultProps!==void 0||m.compare!==null||m.defaultProps!==void 0?((l=gl(m.type,null,v,u,u.mode,w)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=A,hs(l,u,A,v,w))}if(A=l.child,(l.lanes&w)==0){var O=A.memoizedProps;if((m=(m=m.compare)!==null?m:iu)(O,v)&&l.ref===u.ref)return bn(l,u,w)}return u.flags|=1,(l=Fi(A,v)).ref=u.ref,l.return=u,u.child=l}function hs(l,u,m,v,w){if(l!==null){var A=l.memoizedProps;if(iu(A,v)&&l.ref===u.ref){if(Wt=!1,u.pendingProps=v=A,(l.lanes&w)==0)return u.lanes=l.lanes,bn(l,u,w);131072&l.flags&&(Wt=!0)}}return Xa(l,u,m,v,w)}function Va(l,u,m){var v=u.pendingProps,w=v.children,A=l!==null?l.memoizedState:null;if(v.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Mi,rr),rr|=m;else{if(!(1073741824&m))return l=A!==null?A.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Pt(Mi,rr),rr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=A!==null?A.baseLanes:m,Pt(Mi,rr),rr|=v}else A!==null?(v=A.baseLanes|m,u.memoizedState=null):v=m,Pt(Mi,rr),rr|=v;return Pr(l,u,w,m),u.child}function Ws(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function Xa(l,u,m,v,w){var A=Cr(m)?Os:Ar.current;return A=xi(u,A),Na(u,w),m=cu(l,u,m,v,A,w),v=La(),l===null||Wt?(Rt&&v&&Ra(u),u.flags|=1,Pr(l,u,m,w),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~w,bn(l,u,w))}function Eu(l,u,m,v,w){if(Cr(m)){var A=!0;Kl(u)}else A=!1;if(Na(u,w),u.stateNode===null)Sn(l,u),$c(u,m,v),wh(u,m,v,w),v=!0;else if(l===null){var O=u.stateNode,V=u.memoizedProps;O.props=V;var te=O.context,he=m.contextType;typeof he=="object"&&he!==null?he=wn(he):he=xi(u,he=Cr(m)?Os:Ar.current);var me=m.getDerivedStateFromProps,Ie=typeof me=="function"||typeof O.getSnapshotBeforeUpdate=="function";Ie||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(V!==v||te!==he)&&Wc(u,O,v,he),is=!1;var de=u.memoizedState;O.state=de,$o(u,v,O,w),te=u.memoizedState,V!==v||de!==te||jr.current||is?(typeof me=="function"&&(au(u,m,me,v),te=u.memoizedState),(V=is||Gs(u,m,V,v,de,te,he))?(Ie||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(u.flags|=4194308)):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=te),O.props=v,O.state=te,O.context=he,v=V):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{O=u.stateNode,Hc(l,u),V=u.memoizedProps,he=u.type===u.elementType?V:$n(u.type,V),O.props=he,Ie=u.pendingProps,de=O.context,typeof(te=m.contextType)=="object"&&te!==null?te=wn(te):te=xi(u,te=Cr(m)?Os:Ar.current);var Se=m.getDerivedStateFromProps;(me=typeof Se=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(V!==Ie||de!==te)&&Wc(u,O,v,te),is=!1,de=u.memoizedState,O.state=de,$o(u,v,O,w);var ze=u.memoizedState;V!==Ie||de!==ze||jr.current||is?(typeof Se=="function"&&(au(u,m,Se,v),ze=u.memoizedState),(he=is||Gs(u,m,he,v,de,ze,te)||!1)?(me||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(v,ze,te),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(v,ze,te)),typeof O.componentDidUpdate=="function"&&(u.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof O.componentDidUpdate!="function"||V===l.memoizedProps&&de===l.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&de===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=ze),O.props=v,O.state=ze,O.context=te,v=he):(typeof O.componentDidUpdate!="function"||V===l.memoizedProps&&de===l.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&de===l.memoizedState||(u.flags|=1024),v=!1)}return cs(l,u,m,v,A,w)}function cs(l,u,m,v,w,A){Ws(l,u);var O=(128&u.flags)!=0;if(!v&&!O)return w&&Zl(u,m,!1),bn(l,u,A);v=u.stateNode,rl.current=u;var V=O&&typeof m.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,l!==null&&O?(u.child=Ba(u,l.child,null,A),u.child=Ba(u,null,V,A)):Pr(l,u,V,A),u.memoizedState=v.state,w&&Zl(u,m,!0),u.child}function Pi(l){var u=l.stateNode;u.pendingContext?ko(0,u.pendingContext,u.pendingContext!==u.context):u.context&&ko(0,u.context,!1),ou(l,u.containerInfo)}function kt(l,u,m,v,w){return ka(),Go(w),u.flags|=256,Pr(l,u,m,v),u.child}var Et,En,or,xr,Ri={dehydrated:null,treeContext:null,retryLane:0};function ds(l){return{baseLanes:l,cachePool:null,transitions:null}}function Lr(l,u,m){var v,w=u.pendingProps,A=$t.current,O=!1,V=(128&u.flags)!=0;if((v=V)||(v=(l===null||l.memoizedState!==null)&&(2&A)!=0),v?(O=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(A|=1),Pt($t,1&A),l===null)return Ia(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&u.mode?gn(l)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(V=w.children,l=w.fallback,O?(w=u.mode,O=u.child,V={mode:"hidden",children:V},!(1&w)&&O!==null?(O.childLanes=0,O.pendingProps=V):O=ku(V,w,0,null),l=ys(l,w,m,null),O.return=u,l.return=u,O.sibling=l,u.child=O,u.child.memoizedState=ds(m),u.memoizedState=Ri,l):Ya(u,V));if((A=l.memoizedState)!==null&&(v=A.dehydrated)!==null)return function(he,me,Ie,de,Se,ze,ot){if(Ie)return 256&me.flags?(me.flags&=-257,nl(he,me,ot,de=xu(Error(o(422))))):me.memoizedState!==null?(me.child=he.child,me.flags|=128,null):(ze=de.fallback,Se=me.mode,de=ku({mode:"visible",children:de.children},Se,0,null),(ze=ys(ze,Se,ot,null)).flags|=2,de.return=me,ze.return=me,de.sibling=ze,me.child=de,1&me.mode&&Ba(me,he.child,null,ot),me.child.memoizedState=ds(ot),me.memoizedState=Ri,ze);if(!(1&me.mode))return nl(he,me,ot,null);if(gn(Se))return de=Ji(Se).digest,ze=Error(o(419)),de=xu(ze,de,void 0),nl(he,me,ot,de);if(Ie=(ot&he.childLanes)!=0,Wt||Ie){if((de=tr)!==null){switch(ot&-ot){case 4:Se=2;break;case 16:Se=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Se=32;break;case 536870912:Se=268435456;break;default:Se=0}(Se=Se&(de.suspendedLanes|ot)?0:Se)!==0&&Se!==ze.retryLane&&(ze.retryLane=Se,ii(he,Se),Ir(de,he,Se,-1))}return Ru(),nl(he,me,ot,de=xu(Error(o(421))))}return Sa(Se)?(me.flags|=128,me.child=he.child,me=Yh.bind(null,he),es(Se,me),null):(he=ze.treeContext,$e&&(_r=Vl(Se),Ft=me,Rt=!0,jn=null,bi=!1,he!==null&&($r[sn++]=_n,$r[sn++]=xn,$r[sn++]=Wr,_n=he.id,xn=he.overflow,Wr=me)),me=Ya(me,de.children),me.flags|=4096,me)}(l,u,V,w,v,A,m);if(O){O=w.fallback,V=u.mode,v=(A=l.child).sibling;var te={mode:"hidden",children:w.children};return!(1&V)&&u.child!==A?((w=u.child).childLanes=0,w.pendingProps=te,u.deletions=null):(w=Fi(A,te)).subtreeFlags=14680064&A.subtreeFlags,v!==null?O=Fi(v,O):(O=ys(O,V,m,null)).flags|=2,O.return=u,w.return=u,w.sibling=O,u.child=w,w=O,O=u.child,V=(V=l.child.memoizedState)===null?ds(m):{baseLanes:V.baseLanes|m,cachePool:null,transitions:V.transitions},O.memoizedState=V,O.childLanes=l.childLanes&~m,u.memoizedState=Ri,w}return l=(O=l.child).sibling,w=Fi(O,{mode:"visible",children:w.children}),!(1&u.mode)&&(w.lanes=m),w.return=u,w.sibling=null,l!==null&&((m=u.deletions)===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=w,u.memoizedState=null,w}function Ya(l,u){return(u=ku({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function nl(l,u,m,v){return v!==null&&Go(v),Ba(u,l.child,null,m),(l=Ya(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function Lh(l,u,m){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),gh(l.return,u,m)}function qa(l,u,m,v,w){var A=l.memoizedState;A===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:w}:(A.isBackwards=u,A.rendering=null,A.renderingStartTime=0,A.last=v,A.tail=m,A.tailMode=w)}function Uh(l,u,m){var v=u.pendingProps,w=v.revealOrder,A=v.tail;if(Pr(l,u,v.children,m),(2&(v=$t.current))!=0)v=1&v|2,u.flags|=128;else{if(l!==null&&128&l.flags)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Lh(l,m,u);else if(l.tag===19)Lh(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(Pt($t,v),(1&u.mode)==0)u.memoizedState=null;else switch(w){case"forwards":for(m=u.child,w=null;m!==null;)(l=m.alternate)!==null&&lu(l)===null&&(w=m),m=m.sibling;(m=w)===null?(w=u.child,u.child=null):(w=m.sibling,m.sibling=null),qa(u,!1,w,m,A);break;case"backwards":for(m=null,w=u.child,u.child=null;w!==null;){if((l=w.alternate)!==null&&lu(l)===null){u.child=w;break}l=w.sibling,w.sibling=m,m=w,w=l}qa(u,!0,m,null,A);break;case"together":qa(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Sn(l,u){!(1&u.mode)&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function bn(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),ms|=u.lanes,(m&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(o(153));if(u.child!==null){for(m=Fi(l=u.child,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,(m=m.sibling=Fi(l,l.pendingProps)).return=u;m.sibling=null}return u.child}function Tn(l){l.flags|=4}function zh(l,u){if(l!==null&&l.child===u.child)return!0;if(16&u.flags)return!1;for(l=u.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(ke)Et=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)U(l,m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},En=function(){},or=function(l,u,m,v,w){if((l=l.memoizedProps)!==v){var A=u.stateNode,O=Wn(an.current);m=ie(A,m,l,v,w,O),(u.updateQueue=m)&&Tn(u)}},xr=function(l,u,m,v){m!==v&&Tn(u)};else if(Ue){Et=function(l,u,m,v){for(var w=u.child;w!==null;){if(w.tag===5){var A=w.stateNode;m&&v&&(A=Tr(A,w.type,w.memoizedProps,w)),U(l,A)}else if(w.tag===6)A=w.stateNode,m&&v&&(A=wa(A,w.memoizedProps,w)),U(l,A);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)(A=w.child)!==null&&(A.return=w),Et(l,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===u)break;for(;w.sibling===null;){if(w.return===null||w.return===u)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};var Qc=function(l,u,m,v){for(var w=u.child;w!==null;){if(w.tag===5){var A=w.stateNode;m&&v&&(A=Tr(A,w.type,w.memoizedProps,w)),mn(l,A)}else if(w.tag===6)A=w.stateNode,m&&v&&(A=wa(A,w.memoizedProps,w)),mn(l,A);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)(A=w.child)!==null&&(A.return=w),Qc(l,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===u)break;for(;w.sibling===null;){if(w.return===null||w.return===u)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};En=function(l,u){var m=u.stateNode;if(!zh(l,u)){l=m.containerInfo;var v=vr(l);Qc(v,u,!1,!1),m.pendingChildren=v,Tn(u),xa(l,v)}},or=function(l,u,m,v,w){var A=l.stateNode,O=l.memoizedProps;if((l=zh(l,u))&&O===v)u.stateNode=A;else{var V=u.stateNode,te=Wn(an.current),he=null;O!==v&&(he=ie(V,m,O,v,w,te)),l&&he===null?u.stateNode=A:(A=ri(A,he,m,O,v,u,l,V),X(A,m,v,w,te)&&Tn(u),u.stateNode=A,l?Tn(u):Et(A,u,!1,!1))}},xr=function(l,u,m,v){m!==v?(l=Wn(as.current),m=Wn(an.current),u.stateNode=pe(v,l,m,u),Tn(u)):u.stateNode=l.stateNode}}else En=function(){},or=function(){},xr=function(){};function An(l,u){if(!Rt)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function er(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(u)for(var w=l.child;w!==null;)m|=w.lanes|w.childLanes,v|=14680064&w.subtreeFlags,v|=14680064&w.flags,w.return=l,w=w.sibling;else for(w=l.child;w!==null;)m|=w.lanes|w.childLanes,v|=w.subtreeFlags,v|=w.flags,w.return=l,w=w.sibling;return l.subtreeFlags|=v,l.childLanes=m,u}function Qa(l,u,m){var v=u.pendingProps;switch(eu(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(u),null;case 1:case 17:return Cr(u.type)&&Fs(),er(u),null;case 3:return m=u.stateNode,js(),mt(jr),mt(Ar),on(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),l!==null&&l.child!==null||(nu(u)?Tn(u):l===null||l.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,jn!==null&&(fl(jn),jn=null))),En(l,u),er(u),null;case 5:Eh(u),m=Wn(as.current);var w=u.type;if(l!==null&&u.stateNode!=null)or(l,u,w,v,m),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(o(166));return er(u),null}if(l=Wn(an.current),nu(u)){if(!$e)throw Error(o(175));l=Gn(u.stateNode,u.type,u.memoizedProps,m,l,u,!bi),u.updateQueue=l,l!==null&&Tn(u)}else{var A=I(w,v,m,l,u);Et(A,u,!1,!1),u.stateNode=A,X(A,w,v,m,l)&&Tn(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return er(u),null;case 6:if(l&&u.stateNode!=null)xr(l,u,l.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(o(166));if(l=Wn(as.current),m=Wn(an.current),nu(u)){if(!$e)throw Error(o(176));if(l=u.stateNode,m=u.memoizedProps,(v=Ao(l,m,u,!bi))&&(w=Ft)!==null)switch(w.tag){case 3:Uf(w.stateNode.containerInfo,l,m,(1&w.mode)!=0);break;case 5:Yt(w.type,w.memoizedProps,w.stateNode,l,m,(1&w.mode)!=0)}v&&Tn(u)}else u.stateNode=pe(v,l,m,u)}return er(u),null;case 13:if(mt($t),v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Rt&&_r!==null&&1&u.mode&&!(128&u.flags))Uc(),ka(),u.flags|=98560,w=!1;else if(w=nu(u),v!==null&&v.dehydrated!==null){if(l===null){if(!w)throw Error(o(318));if(!$e)throw Error(o(344));if(!(w=(w=u.memoizedState)!==null?w.dehydrated:null))throw Error(o(317));Xl(w,u)}else ka(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;er(u),w=!1}else jn!==null&&(fl(jn),jn=null),w=!0;if(!w)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=m,u):((m=v!==null)!=(l!==null&&l.memoizedState!==null)&&m&&(u.child.flags|=8192,1&u.mode&&(l===null||1&$t.current?nr===0&&(nr=3):Ru())),u.updateQueue!==null&&(u.flags|=4),er(u),null);case 4:return js(),En(l,u),l===null&&He(u.stateNode.containerInfo),er(u),null;case 10:return jo(u.type._context),er(u),null;case 19:if(mt($t),(w=u.memoizedState)===null)return er(u),null;if(v=(128&u.flags)!=0,(A=w.rendering)===null)if(v)An(w,!1);else{if(nr!==0||l!==null&&128&l.flags)for(l=u.child;l!==null;){if((A=lu(l))!==null){for(u.flags|=128,An(w,!1),(l=A.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=m,m=u.child;m!==null;)w=l,(v=m).flags&=14680066,(A=v.alternate)===null?(v.childLanes=0,v.lanes=w,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=A.childLanes,v.lanes=A.lanes,v.child=A.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=A.memoizedProps,v.memoizedState=A.memoizedState,v.updateQueue=A.updateQueue,v.type=A.type,w=A.dependencies,v.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),m=m.sibling;return Pt($t,1&$t.current|2),u.child}l=l.sibling}w.tail!==null&&Ot()>cl&&(u.flags|=128,v=!0,An(w,!1),u.lanes=4194304)}else{if(!v)if((l=lu(A))!==null){if(u.flags|=128,v=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),An(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!Rt)return er(u),null}else 2*Ot()-w.renderingStartTime>cl&&m!==1073741824&&(u.flags|=128,v=!0,An(w,!1),u.lanes=4194304);w.isBackwards?(A.sibling=u.child,u.child=A):((l=w.last)!==null?l.sibling=A:u.child=A,w.last=A)}return w.tail!==null?(u=w.tail,w.rendering=u,w.tail=u.sibling,w.renderingStartTime=Ot(),u.sibling=null,l=$t.current,Pt($t,v?1&l|2:1&l),u):(er(u),null);case 22:case 23:return ea(),m=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==m&&(u.flags|=8192),m&&1&u.mode?1073741824&rr&&(er(u),ke&&6&u.subtreeFlags&&(u.flags|=8192)):er(u),null;case 24:case 25:return null}throw Error(o(156,u.tag))}function Su(l,u){switch(eu(u),u.tag){case 1:return Cr(u.type)&&Fs(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return js(),mt(jr),mt(Ar),on(),65536&(l=u.flags)&&!(128&l)?(u.flags=-65537&l|128,u):null;case 5:return Eh(u),null;case 13:if(mt($t),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(o(340));ka()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return mt($t),null;case 4:return js(),null;case 10:return jo(u.type._context),null;case 22:case 23:return ea(),null;default:return null}}var Vs=!1,At=!1,Cn=typeof WeakSet=="function"?WeakSet:Set,De=null;function Xr(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){Ct(l,u,v)}else m.current=null}function oi(l,u,m){try{m()}catch(v){Ct(l,u,v)}}var fs=!1;function Ka(l,u,m){var v=u.updateQueue;if((v=v!==null?v.lastEffect:null)!==null){var w=v=v.next;do{if((w.tag&l)===l){var A=w.destroy;w.destroy=void 0,A!==void 0&&oi(u,m,A)}w=w.next}while(w!==v)}}function Za(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var m=u=u.next;do{if((m.tag&l)===l){var v=m.create;m.destroy=v()}m=m.next}while(m!==u)}}function il(l){var u=l.ref;if(u!==null){var m=l.stateNode;l.tag===5?l=B(m):l=m,typeof u=="function"?u(l):u.current=l}}function Yr(l){var u=l.alternate;u!==null&&(l.alternate=null,Yr(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&Dt(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function qr(l){return l.tag===5||l.tag===3||l.tag===4}function Bt(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||qr(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function ln(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?va(m,l,u):Qi(m,l);else if(v!==4&&(l=l.child)!==null)for(ln(l,u,m),l=l.sibling;l!==null;)ln(l,u,m),l=l.sibling}function bu(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?$l(m,l,u):ya(m,l);else if(v!==4&&(l=l.child)!==null)for(bu(l,u,m),l=l.sibling;l!==null;)bu(l,u,m),l=l.sibling}var Rr=null,Pn=!1;function Rn(l,u,m){for(m=m.child;m!==null;)Tu(l,u,m),m=m.sibling}function Tu(l,u,m){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Uo,m)}catch{}switch(m.tag){case 5:At||Xr(m,u);case 6:if(ke){var v=Rr,w=Pn;Rr=null,Rn(l,u,m),Pn=w,(Rr=v)!==null&&(Pn?re(Rr,m.stateNode):_a(Rr,m.stateNode))}else Rn(l,u,m);break;case 18:ke&&Rr!==null&&(Pn?Po(Rr,m.stateNode):Yl(Rr,m.stateNode));break;case 4:ke?(v=Rr,w=Pn,Rr=m.stateNode.containerInfo,Pn=!0,Rn(l,u,m),Rr=v,Pn=w):(Ue&&(v=m.stateNode.containerInfo,w=vr(v),Un(v,w)),Rn(l,u,m));break;case 0:case 11:case 14:case 15:if(!At&&(v=m.updateQueue)!==null&&(v=v.lastEffect)!==null){w=v=v.next;do{var A=w,O=A.destroy;A=A.tag,O!==void 0&&(2&A||4&A)&&oi(m,u,O),w=w.next}while(w!==v)}Rn(l,u,m);break;case 1:if(!At&&(Xr(m,u),typeof(v=m.stateNode).componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(V){Ct(m,u,V)}Rn(l,u,m);break;case 21:Rn(l,u,m);break;case 22:1&m.mode?(At=(v=At)||m.memoizedState!==null,Rn(l,u,m),At=v):Rn(l,u,m);break;default:Rn(l,u,m)}}function sl(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new Cn),u.forEach(function(v){var w=Jc.bind(null,l,v);m.has(v)||(m.add(v),v.then(w,w))})}}function In(l,u){var m=u.deletions;if(m!==null)for(var v=0;v<m.length;v++){var w=m[v];try{var A=l,O=u;if(ke){var V=O;e:for(;V!==null;){switch(V.tag){case 5:Rr=V.stateNode,Pn=!1;break e;case 3:case 4:Rr=V.stateNode.containerInfo,Pn=!0;break e}V=V.return}if(Rr===null)throw Error(o(160));Tu(A,O,w),Rr=null,Pn=!1}else Tu(A,O,w);var te=w.alternate;te!==null&&(te.return=null),w.return=null}catch(he){Ct(w,u,he)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)Xs(u,l),u=u.sibling}function Xs(l,u){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(In(u,l),kn(l),4&v){try{Ka(3,l,l.return),Za(3,l)}catch(de){Ct(l,l.return,de)}try{Ka(5,l,l.return)}catch(de){Ct(l,l.return,de)}}break;case 1:In(u,l),kn(l),512&v&&m!==null&&Xr(m,m.return);break;case 5:if(In(u,l),kn(l),512&v&&m!==null&&Xr(m,m.return),ke){if(32&l.flags){var w=l.stateNode;try{se(w)}catch(de){Ct(l,l.return,de)}}if(4&v&&(w=l.stateNode)!=null){var A=l.memoizedProps;if(m=m!==null?m.memoizedProps:A,v=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{oh(w,u,v,m,A,l)}catch(de){Ct(l,l.return,de)}}}break;case 6:if(In(u,l),kn(l),4&v&&ke){if(l.stateNode===null)throw Error(o(162));w=l.stateNode,A=l.memoizedProps,m=m!==null?m.memoizedProps:A;try{yi(w,m,A)}catch(de){Ct(l,l.return,de)}}break;case 3:if(In(u,l),kn(l),4&v){if(ke&&$e&&m!==null&&m.memoizedState.isDehydrated)try{_i(u.containerInfo)}catch(de){Ct(l,l.return,de)}if(Ue){w=u.containerInfo,A=u.pendingChildren;try{Un(w,A)}catch(de){Ct(l,l.return,de)}}}break;case 4:if(In(u,l),kn(l),4&v&&Ue){w=(A=l.stateNode).containerInfo,A=A.pendingChildren;try{Un(w,A)}catch(de){Ct(l,l.return,de)}}break;case 13:In(u,l),kn(l),8192&(w=l.child).flags&&(A=w.memoizedState!==null,w.stateNode.isHidden=A,!A||w.alternate!==null&&w.alternate.memoizedState!==null||(Di=Ot())),4&v&&sl(l);break;case 22:var O=m!==null&&m.memoizedState!==null;if(1&l.mode?(At=(m=At)||O,In(u,l),At=m):In(u,l),kn(l),8192&v){if(m=l.memoizedState!==null,(l.stateNode.isHidden=m)&&!O&&(1&l.mode)!=0)for(De=l,v=l.child;v!==null;){for(u=De=v;De!==null;){var V=(O=De).child;switch(O.tag){case 0:case 11:case 14:case 15:Ka(4,O,O.return);break;case 1:Xr(O,O.return);var te=O.stateNode;if(typeof te.componentWillUnmount=="function"){var he=O,me=O.return;try{var Ie=he;te.props=Ie.memoizedProps,te.state=Ie.memoizedState,te.componentWillUnmount()}catch(de){Ct(he,me,de)}}break;case 5:Xr(O,O.return);break;case 22:if(O.memoizedState!==null){Gh(u);continue}}V!==null?(V.return=O,De=V):Gh(u)}v=v.sibling}if(ke){e:if(v=null,ke)for(u=l;;){if(u.tag===5){if(v===null){v=u;try{w=u.stateNode,m?ct(w):bt(u.stateNode,u.memoizedProps)}catch(de){Ct(l,l.return,de)}}}else if(u.tag===6){if(v===null)try{A=u.stateNode,m?wt(A):nt(A,u.memoizedProps)}catch(de){Ct(l,l.return,de)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;v===u&&(v=null),u=u.return}v===u&&(v=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:In(u,l),kn(l),4&v&&sl(l);break;case 21:break;default:In(u,l),kn(l)}}function kn(l){var u=l.flags;if(2&u){try{if(ke){e:{for(var m=l.return;m!==null;){if(qr(m)){var v=m;break e}m=m.return}throw Error(o(160))}switch(v.tag){case 5:var w=v.stateNode;32&v.flags&&(se(w),v.flags&=-33),bu(l,Bt(l),w);break;case 3:case 4:var A=v.stateNode.containerInfo;ln(l,Bt(l),A);break;default:throw Error(o(161))}}}catch(O){Ct(l,l.return,O)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function Vf(l,u,m){De=l,Ja(l)}function Ja(l,u,m){for(var v=(1&l.mode)!=0;De!==null;){var w=De,A=w.child;if(w.tag===22&&v){var O=w.memoizedState!==null||Vs;if(!O){var V=w.alternate,te=V!==null&&V.memoizedState!==null||At;V=Vs;var he=At;if(Vs=O,(At=te)&&!he)for(De=w;De!==null;)te=(O=De).child,O.tag===22&&O.memoizedState!==null?Hh(w):te!==null?(te.return=O,De=te):Hh(w);for(;A!==null;)De=A,Ja(A),A=A.sibling;De=w,Vs=V,At=he}al(l)}else 8772&w.subtreeFlags&&A!==null?(A.return=w,De=A):al(l)}}function al(l){for(;De!==null;){var u=De;if(8772&u.flags){var m=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:At||Za(5,u);break;case 1:var v=u.stateNode;if(4&u.flags&&!At)if(m===null)v.componentDidMount();else{var w=u.elementType===u.type?m.memoizedProps:$n(u.type,m.memoizedProps);v.componentDidUpdate(w,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var A=u.updateQueue;A!==null&&_h(u,A,v);break;case 3:var O=u.updateQueue;if(O!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=B(u.child.stateNode);break;case 1:m=u.child.stateNode}_h(u,O,m)}break;case 5:var V=u.stateNode;m===null&&4&u.flags&&Ki(V,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if($e&&u.memoizedState===null){var te=u.alternate;if(te!==null){var he=te.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&Ns(me)}}}break;default:throw Error(o(163))}At||512&u.flags&&il(u)}catch(Ie){Ct(u,u.return,Ie)}}if(u===l){De=null;break}if((m=u.sibling)!==null){m.return=u.return,De=m;break}De=u.return}}function Gh(l){for(;De!==null;){var u=De;if(u===l){De=null;break}var m=u.sibling;if(m!==null){m.return=u.return,De=m;break}De=u.return}}function Hh(l){for(;De!==null;){var u=De;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Za(4,u)}catch(te){Ct(u,m,te)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var w=u.return;try{v.componentDidMount()}catch(te){Ct(u,w,te)}}var A=u.return;try{il(u)}catch(te){Ct(u,A,te)}break;case 5:var O=u.return;try{il(u)}catch(te){Ct(u,O,te)}}}catch(te){Ct(u,u.return,te)}if(u===l){De=null;break}var V=u.sibling;if(V!==null){V.return=u.return,De=V;break}De=u.return}}var Ii=0,ol=1,Ys=2,qs=3,ki=4;if(typeof Symbol=="function"&&Symbol.for){var Qs=Symbol.for;Ii=Qs("selector.component"),ol=Qs("selector.has_pseudo_class"),Ys=Qs("selector.role"),qs=Qs("selector.test_id"),ki=Qs("selector.text")}function ll(l){var u=ut(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(o(364));return u}if((l=pr(l))===null)throw Error(o(362));return l.stateNode.current}function ul(l,u){switch(u.$$typeof){case Ii:if(l.type===u.value)return!0;break;case ol:e:{u=u.value,l=[l,0];for(var m=0;m<l.length;){var v=l[m++],w=l[m++],A=u[w];if(v.tag!==5||!tn(v)){for(;A!=null&&ul(v,A);)A=u[++w];if(w===u.length){u=!0;break e}for(v=v.child;v!==null;)l.push(v,w),v=v.sibling}}u=!1}return u;case Ys:if(l.tag===5&&Hl(l.stateNode,u.value))return!0;break;case ki:if((l.tag===5||l.tag===6)&&(l=gi(l))!==null&&0<=l.indexOf(u.value))return!0;break;case qs:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(o(365))}return!1}function hl(l){switch(l.$$typeof){case Ii:return"<"+(Q(l.value)||"Unknown")+">";case ol:return":has("+(hl(l)||"")+")";case Ys:return'[role="'+l.value+'"]';case ki:return'"'+l.value+'"';case qs:return'[data-testname="'+l.value+'"]';default:throw Error(o(365))}}function Ks(l,u){var m=[];l=[l,0];for(var v=0;v<l.length;){var w=l[v++],A=l[v++],O=u[A];if(w.tag!==5||!tn(w)){for(;O!=null&&ul(w,O);)O=u[++A];if(A===u.length)m.push(w);else for(w=w.child;w!==null;)l.push(w,A),w=w.sibling}}return m}function Qr(l,u){if(!fr)throw Error(o(363));l=Ks(l=ll(l),u),u=[],l=Array.from(l);for(var m=0;m<l.length;){var v=l[m++];if(v.tag===5)tn(v)||u.push(v.stateNode);else for(v=v.child;v!==null;)l.push(v),v=v.sibling}return u}var Zs=Math.ceil,eo=c.ReactCurrentDispatcher,Au=c.ReactCurrentOwner,Tt=c.ReactCurrentBatchConfig,st=0,tr=null,qt=null,Lt=0,rr=0,Mi=Hn(0),nr=0,ps=null,ms=0,gs=0,Mn=0,Ni=null,wr=null,Di=0,cl=1/0,un=null;function Js(){cl=Ot()+500}var Cu,Mt=!1,to=null,li=null,ro=!1,Xn=null,no=0,Yn=0,Ut=null,Vt=-1,Qt=0;function lr(){return 6&st?Ot():Vt!==-1?Vt:Vt=Ot()}function Nn(l){return 1&l.mode?2&st&&Lt!==0?Lt&-Lt:Gf.transition!==null?(Qt===0&&(Qt=ch()),Qt):(l=dt)!==0?l:We():1}function Ir(l,u,m,v){if(50<Yn)throw Yn=0,Ut=null,Error(o(185));ba(l,m,v),2&st&&l===tr||(l===tr&&(!(2&st)&&(gs|=m),nr===4&&ui(l,Lt)),Kr(l,v),m===1&&st===0&&!(1&u.mode)&&(Js(),ts&&nn()))}function Kr(l,u){var m=l.callbackNode;(function(w,A){for(var O=w.suspendedLanes,V=w.pingedLanes,te=w.expirationTimes,he=w.pendingLanes;0<he;){var me=31-yn(he),Ie=1<<me,de=te[me];de===-1?Ie&O&&!(Ie&V)||(te[me]=Bc(Ie,A)):de<=A&&(w.expiredLanes|=Ie),he&=~Ie}})(l,u);var v=Do(l,l===tr?Lt:0);if(v===0)m!==null&&Ei(m),l.callbackNode=null,l.callbackPriority=0;else if(u=v&-v,l.callbackPriority!==u){if(m!=null&&Ei(m),u===1)l.tag===0?function(w){ts=!0,Ls(w)}(qn.bind(null,l)):Ls(qn.bind(null,l)),jt?ei(function(){!(6&st)&&nn()}):ni(dh,nn),m=null;else{switch(wi(v)){case 1:m=dh;break;case 4:m=Lc;break;case 16:default:m=Ta;break;case 536870912:m=zf}m=qh(m,Er.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function Er(l,u){if(Vt=-1,Qt=0,(6&st)!=0)throw Error(o(327));var m=l.callbackNode;if(Qn()&&l.callbackNode!==m)return null;var v=Do(l,l===tr?Lt:0);if(v===0)return null;if(30&v||v&l.expiredLanes||u)u=pl(l,v);else{u=v;var w=st;st|=2;var A=jh();for(tr===l&&Lt===u||(un=null,Js(),Oi(l,u));;)try{Zc();break}catch(V){Pu(l,V)}mh(),eo.current=A,st=w,qt!==null?u=0:(tr=null,Lt=0,u=nr)}if(u!==0){if(u===2&&(w=Oo(l))!==0&&(v=w,u=dl(l,w)),u===1)throw m=ps,Oi(l,0),ui(l,v),Kr(l,Ot()),m;if(u===6)ui(l,v);else{if(w=l.current.alternate,(30&v)==0&&!function(V){for(var te=V;;){if(16384&te.flags){var he=te.updateQueue;if(he!==null&&(he=he.stores)!==null)for(var me=0;me<he.length;me++){var Ie=he[me],de=Ie.getSnapshot;Ie=Ie.value;try{if(!vn(de(),Ie))return!1}catch{return!1}}}if(he=te.child,16384&te.subtreeFlags&&he!==null)he.return=te,te=he;else{if(te===V)break;for(;te.sibling===null;){if(te.return===null||te.return===V)return!0;te=te.return}te.sibling.return=te.return,te=te.sibling}}return!0}(w)&&((u=pl(l,v))===2&&(A=Oo(l))!==0&&(v=A,u=dl(l,A)),u===1))throw m=ps,Oi(l,0),ui(l,v),Kr(l,Ot()),m;switch(l.finishedWork=w,l.finishedLanes=v,u){case 0:case 1:throw Error(o(345));case 2:case 5:ta(l,wr,un);break;case 3:if(ui(l,v),(130023424&v)===v&&10<(u=Di+500-Ot())){if(Do(l,0)!==0)break;if(((w=l.suspendedLanes)&v)!==v){lr(),l.pingedLanes|=l.suspendedLanes&w;break}l.timeoutHandle=_e(ta.bind(null,l,wr,un),u);break}ta(l,wr,un);break;case 4:if(ui(l,v),(4194240&v)===v)break;for(u=l.eventTimes,w=-1;0<v;){var O=31-yn(v);A=1<<O,(O=u[O])>w&&(w=O),v&=~A}if(v=w,10<(v=(120>(v=Ot()-v)?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*Zs(v/1960))-v)){l.timeoutHandle=_e(ta.bind(null,l,wr,un),v);break}ta(l,wr,un);break;default:throw Error(o(329))}}}return Kr(l,Ot()),l.callbackNode===m?Er.bind(null,l):null}function dl(l,u){var m=Ni;return l.current.memoizedState.isDehydrated&&(Oi(l,u).flags|=256),(l=pl(l,u))!==2&&(u=wr,wr=m,u!==null&&fl(u)),l}function fl(l){wr===null?wr=l:wr.push.apply(wr,l)}function ui(l,u){for(u&=~Mn,u&=~gs,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-yn(u),v=1<<m;l[m]=-1,u&=~v}}function qn(l){if(6&st)throw Error(o(327));Qn();var u=Do(l,0);if(!(1&u))return Kr(l,Ot()),null;var m=pl(l,u);if(l.tag!==0&&m===2){var v=Oo(l);v!==0&&(u=v,m=dl(l,v))}if(m===1)throw m=ps,Oi(l,0),ui(l,u),Kr(l,Ot()),m;if(m===6)throw Error(o(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,ta(l,wr,un),Kr(l,Ot()),null}function hn(l){Xn!==null&&Xn.tag===0&&!(6&st)&&Qn();var u=st;st|=1;var m=Tt.transition,v=dt;try{if(Tt.transition=null,dt=1,l)return l()}finally{dt=v,Tt.transition=m,!(6&(st=u))&&nn()}}function ea(){rr=Mi.current,mt(Mi)}function Oi(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==Re&&(l.timeoutHandle=Re,be(m)),qt!==null)for(m=qt.return;m!==null;){var v=m;switch(eu(v),v.tag){case 1:(v=v.type.childContextTypes)!=null&&Fs();break;case 3:js(),mt(jr),mt(Ar),on();break;case 5:Eh(v);break;case 4:js();break;case 13:case 19:mt($t);break;case 10:jo(v.type._context);break;case 22:case 23:ea()}m=m.return}if(tr=l,qt=l=Fi(l.current,null),Lt=rr=u,nr=0,ps=null,Mn=gs=ms=0,wr=Ni=null,ns!==null){for(u=0;u<ns.length;u++)if((v=(m=ns[u]).interleaved)!==null){m.interleaved=null;var w=v.next,A=m.pending;if(A!==null){var O=A.next;A.next=w,v.next=O}m.pending=v}ns=null}return l}function Pu(l,u){for(;;){var m=qt;try{if(mh(),os.current=$a,hu){for(var v=zt.memoizedState;v!==null;){var w=v.queue;w!==null&&(w.pending=null),v=v.next}hu=!1}if(ls=0,Zt=ar=zt=null,qo=!1,ai=0,Au.current=null,m===null||m.return===null){nr=1,ps=u,qt=null;break}e:{var A=l,O=m.return,V=m,te=u;if(u=Lt,V.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var he=te,me=V,Ie=me.tag;if(!(1&me.mode)&&(Ie===0||Ie===11||Ie===15)){var de=me.alternate;de?(me.updateQueue=de.updateQueue,me.memoizedState=de.memoizedState,me.lanes=de.lanes):(me.updateQueue=null,me.memoizedState=null)}var Se=$s(O);if(Se!==null){Se.flags&=-257,Vn(Se,O,V,0,u),1&Se.mode&&Bh(A,he,u),te=he;var ze=(u=Se).updateQueue;if(ze===null){var ot=new Set;ot.add(te),u.updateQueue=ot}else ze.add(te);break e}if(!(1&u)){Bh(A,he,u),Ru();break e}te=Error(o(426))}else if(Rt&&1&V.mode){var ge=$s(O);if(ge!==null){!(65536&ge.flags)&&(ge.flags|=256),Vn(ge,O,V,0,u),Go(Wa(te,V));break e}}A=te=Wa(te,V),nr!==4&&(nr=2),Ni===null?Ni=[A]:Ni.push(A),A=O;do{switch(A.tag){case 3:A.flags|=65536,u&=-u,A.lanes|=u,jc(A,wu(0,te,u));break e;case 1:V=te;var q=A.type,oe=A.stateNode;if(!(128&A.flags)&&(typeof q.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(li===null||!li.has(oe)))){A.flags|=65536,u&=-u,A.lanes|=u,jc(A,Ci(A,V,u));break e}}A=A.return}while(A!==null)}Wh(m)}catch(we){u=we,qt===m&&m!==null&&(qt=m=m.return);continue}break}}function jh(){var l=eo.current;return eo.current=$a,l===null?$a:l}function Ru(){nr!==0&&nr!==3&&nr!==2||(nr=4),tr===null||!(268435455&ms)&&!(268435455&gs)||ui(tr,Lt)}function pl(l,u){var m=st;st|=2;var v=jh();for(tr===l&&Lt===u||(un=null,Oi(l,u));;)try{Kc();break}catch(w){Pu(l,w)}if(mh(),st=m,eo.current=v,qt!==null)throw Error(o(261));return tr=null,Lt=0,nr}function Kc(){for(;qt!==null;)$h(qt)}function Zc(){for(;qt!==null&&!Bo();)$h(qt)}function $h(l){var u=Cu(l.alternate,l,rr);l.memoizedProps=l.pendingProps,u===null?Wh(l):qt=u,Au.current=null}function Wh(l){var u=l;do{var m=u.alternate;if(l=u.return,(32768&u.flags)==0){if((m=Qa(m,u,rr))!==null)return void(qt=m)}else{if((m=Su(m,u))!==null)return m.flags&=32767,void(qt=m);if(l===null)return nr=6,void(qt=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(qt=u);qt=u=l}while(u!==null);nr===0&&(nr=5)}function ta(l,u,m){var v=dt,w=Tt.transition;try{Tt.transition=null,dt=1,function(A,O,V,te){do Qn();while(Xn!==null);if(6&st)throw Error(o(327));V=A.finishedWork;var he=A.finishedLanes;if(V===null)return null;if(A.finishedWork=null,A.finishedLanes=0,V===A.current)throw Error(o(177));A.callbackNode=null,A.callbackPriority=0;var me=V.lanes|V.childLanes;if(function(Se,ze){var ot=Se.pendingLanes&~ze;Se.pendingLanes=ze,Se.suspendedLanes=0,Se.pingedLanes=0,Se.expiredLanes&=ze,Se.mutableReadLanes&=ze,Se.entangledLanes&=ze,ze=Se.entanglements;var ge=Se.eventTimes;for(Se=Se.expirationTimes;0<ot;){var q=31-yn(ot),oe=1<<q;ze[q]=0,ge[q]=-1,Se[q]=-1,ot&=~oe}}(A,me),A===tr&&(qt=tr=null,Lt=0),!(2064&V.subtreeFlags)&&!(2064&V.flags)||ro||(ro=!0,qh(Ta,function(){return Qn(),null})),me=(15990&V.flags)!=0,(15990&V.subtreeFlags)!=0||me){me=Tt.transition,Tt.transition=null;var Ie=dt;dt=1;var de=st;st|=4,Au.current=null,function(Se,ze){for(H(Se.containerInfo),De=ze;De!==null;)if(ze=(Se=De).child,(1028&Se.subtreeFlags)!=0&&ze!==null)ze.return=Se,De=ze;else for(;De!==null;){Se=De;try{var ot=Se.alternate;if(1024&Se.flags)switch(Se.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(ot!==null){var ge=ot.memoizedProps,q=ot.memoizedState,oe=Se.stateNode,we=oe.getSnapshotBeforeUpdate(Se.elementType===Se.type?ge:$n(Se.type,ge),q);oe.__reactInternalSnapshotBeforeUpdate=we}break;case 3:ke&&Fr(Se.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(Qe){Ct(Se,Se.return,Qe)}if((ze=Se.sibling)!==null){ze.return=Se.return,De=ze;break}De=Se.return}ot=fs,fs=!1}(A,V),Xs(V,A),N(A.containerInfo),A.current=V,Vf(V),Lo(),st=de,dt=Ie,Tt.transition=me}else A.current=V;if(ro&&(ro=!1,Xn=A,no=he),me=A.pendingLanes,me===0&&(li=null),function(Se){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Uo,Se,void 0,(128&Se.current.flags)==128)}catch{}}(V.stateNode),Kr(A,Ot()),O!==null)for(te=A.onRecoverableError,V=0;V<O.length;V++)he=O[V],te(he.value,{componentStack:he.stack,digest:he.digest});if(Mt)throw Mt=!1,A=to,to=null,A;1&no&&A.tag!==0&&Qn(),me=A.pendingLanes,1&me?A===Ut?Yn++:(Yn=0,Ut=A):Yn=0,nn()}(l,u,m,v)}finally{Tt.transition=w,dt=v}return null}function Qn(){if(Xn!==null){var l=wi(no),u=Tt.transition,m=dt;try{if(Tt.transition=null,dt=16>l?16:l,Xn===null)var v=!1;else{if(l=Xn,Xn=null,no=0,(6&st)!=0)throw Error(o(331));var w=st;for(st|=4,De=l.current;De!==null;){var A=De,O=A.child;if(16&De.flags){var V=A.deletions;if(V!==null){for(var te=0;te<V.length;te++){var he=V[te];for(De=he;De!==null;){var me=De;switch(me.tag){case 0:case 11:case 15:Ka(8,me,A)}var Ie=me.child;if(Ie!==null)Ie.return=me,De=Ie;else for(;De!==null;){var de=(me=De).sibling,Se=me.return;if(Yr(me),me===he){De=null;break}if(de!==null){de.return=Se,De=de;break}De=Se}}}var ze=A.alternate;if(ze!==null){var ot=ze.child;if(ot!==null){ze.child=null;do{var ge=ot.sibling;ot.sibling=null,ot=ge}while(ot!==null)}}De=A}}if(2064&A.subtreeFlags&&O!==null)O.return=A,De=O;else e:for(;De!==null;){if(2048&(A=De).flags)switch(A.tag){case 0:case 11:case 15:Ka(9,A,A.return)}var q=A.sibling;if(q!==null){q.return=A.return,De=q;break e}De=A.return}}var oe=l.current;for(De=oe;De!==null;){var we=(O=De).child;if(2064&O.subtreeFlags&&we!==null)we.return=O,De=we;else e:for(O=oe;De!==null;){if(2048&(V=De).flags)try{switch(V.tag){case 0:case 11:case 15:Za(9,V)}}catch(vt){Ct(V,V.return,vt)}if(V===O){De=null;break e}var Qe=V.sibling;if(Qe!==null){Qe.return=V.return,De=Qe;break e}De=V.return}}if(st=w,nn(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Uo,l)}catch{}v=!0}return v}finally{dt=m,Tt.transition=u}}return!1}function Vh(l,u,m){l=si(l,u=wu(0,u=Wa(m,u),1),1),u=lr(),l!==null&&(ba(l,1,u),Kr(l,u))}function Ct(l,u,m){if(l.tag===3)Vh(l,l,m);else for(;u!==null;){if(u.tag===3){Vh(u,l,m);break}if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(li===null||!li.has(v))){u=si(u,l=Ci(u,l=Wa(m,l),1),1),l=lr(),u!==null&&(ba(u,1,l),Kr(u,l));break}}u=u.return}}function Iu(l,u,m){var v=l.pingCache;v!==null&&v.delete(u),u=lr(),l.pingedLanes|=l.suspendedLanes&m,tr===l&&(Lt&m)===m&&(nr===4||nr===3&&(130023424&Lt)===Lt&&500>Ot()-Di?Oi(l,0):Mn|=m),Kr(l,u)}function Xh(l,u){u===0&&(1&l.mode?(u=No,!(130023424&(No<<=1))&&(No=4194304)):u=1);var m=lr();(l=ii(l,u))!==null&&(ba(l,u,m),Kr(l,m))}function Yh(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),Xh(l,m)}function Jc(l,u){var m=0;switch(l.tag){case 13:var v=l.stateNode,w=l.memoizedState;w!==null&&(m=w.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(o(314))}v!==null&&v.delete(u),Xh(l,m)}function qh(l,u){return ni(l,u)}function ed(l,u,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(l,u,m,v){return new ed(l,u,m,v)}function ml(l){return!(!(l=l.prototype)||!l.isReactComponent)}function Fi(l,u){var m=l.alternate;return m===null?((m=cn(l.tag,u,l.key,l.mode)).elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=14680064&l.flags,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function gl(l,u,m,v,w,A){var O=2;if(v=l,typeof l=="function")ml(l)&&(O=1);else if(typeof l=="string")O=5;else e:switch(l){case g:return ys(m.children,w,A,u);case _:O=8,w|=8;break;case x:return(l=cn(12,m,u,2|w)).elementType=x,l.lanes=A,l;case R:return(l=cn(13,m,u,w)).elementType=R,l.lanes=A,l;case P:return(l=cn(19,m,u,w)).elementType=P,l.lanes=A,l;case F:return ku(m,w,A,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case S:O=10;break e;case b:O=9;break e;case T:O=11;break e;case M:O=14;break e;case z:O=16,v=null;break e}throw Error(o(130,l==null?l:typeof l,""))}return(u=cn(O,m,u,w)).elementType=l,u.type=v,u.lanes=A,u}function ys(l,u,m,v){return(l=cn(7,l,v,u)).lanes=m,l}function ku(l,u,m,v){return(l=cn(22,l,v,u)).elementType=F,l.lanes=m,l.stateNode={isHidden:!1},l}function Mu(l,u,m){return(l=cn(6,l,null,u)).lanes=m,l}function Qh(l,u,m){return(u=cn(4,l.children!==null?l.children:[],l.key,u)).lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function Xf(l,u,m,v,w){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Re,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jl(0),this.expirationTimes=Jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jl(0),this.identifierPrefix=v,this.onRecoverableError=w,$e&&(this.mutableSourceEagerHydrationData=null)}function Kh(l,u,m,v,w,A,O,V,te){return l=new Xf(l,u,m,V,te),u===1?(u=1,A===!0&&(u|=8)):u=0,A=cn(3,null,null,u),l.current=A,A.stateNode=l,A.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},vh(A),l}function Zh(l){if(!l)return mr;e:{if(Z(l=l._reactInternals)!==l||l.tag!==1)throw Error(o(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Cr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(o(171))}if(l.tag===1){var m=l.type;if(Cr(m))return Fc(l,m,u)}return u}function Jh(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(o(188)):(l=Object.keys(l).join(","),Error(o(268,l)));return(l=Pe(u))===null?null:l.stateNode}function yl(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function Nu(l,u){yl(l,u),(l=l.alternate)&&yl(l,u)}function Yf(l){return(l=Pe(l))===null?null:l.stateNode}function qf(){return null}return Cu=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||jr.current)Wt=!0;else{if(!(l.lanes&m)&&!(128&u.flags))return Wt=!1,function(Ie,de,Se){switch(de.tag){case 3:Pi(de),ka();break;case 5:Vc(de);break;case 1:Cr(de.type)&&Kl(de);break;case 4:ou(de,de.stateNode.containerInfo);break;case 10:zc(0,de.type._context,de.memoizedProps.value);break;case 13:var ze=de.memoizedState;if(ze!==null)return ze.dehydrated!==null?(Pt($t,1&$t.current),de.flags|=128,null):Se&de.child.childLanes?Lr(Ie,de,Se):(Pt($t,1&$t.current),(Ie=bn(Ie,de,Se))!==null?Ie.sibling:null);Pt($t,1&$t.current);break;case 19:if(ze=(Se&de.childLanes)!=0,(128&Ie.flags)!=0){if(ze)return Uh(Ie,de,Se);de.flags|=128}var ot=de.memoizedState;if(ot!==null&&(ot.rendering=null,ot.tail=null,ot.lastEffect=null),Pt($t,$t.current),ze)break;return null;case 22:case 23:return de.lanes=0,Va(Ie,de,Se)}return bn(Ie,de,Se)}(l,u,m);Wt=(131072&l.flags)!=0}else Wt=!1,Rt&&1048576&u.flags&&zo(u,Us,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Sn(l,u),l=u.pendingProps;var w=xi(u,Ar.current);Na(u,m),w=cu(null,u,v,l,w,m);var A=La();return u.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Cr(v)?(A=!0,Kl(u)):A=!1,u.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,vh(u),w.updater=Wo,u.stateNode=w,w._reactInternals=u,wh(u,v,l,m),u=cs(null,u,v,!0,A,m)):(u.tag=0,Rt&&A&&Ra(u),Pr(null,u,w,m),u=u.child),u;case 16:v=u.elementType;e:{switch(Sn(l,u),l=u.pendingProps,v=(w=v._init)(v._payload),u.type=v,w=u.tag=function(Ie){if(typeof Ie=="function")return ml(Ie)?1:0;if(Ie!=null){if((Ie=Ie.$$typeof)===T)return 11;if(Ie===M)return 14}return 2}(v),l=$n(v,l),w){case 0:u=Xa(null,u,v,l,m);break e;case 1:u=Eu(null,u,v,l,m);break e;case 11:u=Yc(null,u,v,l,m);break e;case 14:u=qc(null,u,v,$n(v.type,l),m);break e}throw Error(o(306,v,""))}return u;case 0:return v=u.type,w=u.pendingProps,Xa(l,u,v,w=u.elementType===v?w:$n(v,w),m);case 1:return v=u.type,w=u.pendingProps,Eu(l,u,v,w=u.elementType===v?w:$n(v,w),m);case 3:e:{if(Pi(u),l===null)throw Error(o(387));v=u.pendingProps,w=(A=u.memoizedState).element,Hc(l,u),$o(u,v,null,m);var O=u.memoizedState;if(v=O.element,$e&&A.isDehydrated){if(A={element:v,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},u.updateQueue.baseState=A,u.memoizedState=A,256&u.flags){u=kt(l,u,v,m,w=Wa(Error(o(423)),u));break e}if(v!==w){u=kt(l,u,v,m,w=Wa(Error(o(424)),u));break e}for($e&&(_r=To(u.stateNode.containerInfo),Ft=u,Rt=!0,jn=null,bi=!1),m=Xo(u,null,v,m),u.child=m;m;)m.flags=-3&m.flags|4096,m=m.sibling}else{if(ka(),v===w){u=bn(l,u,m);break e}Pr(l,u,v,m)}u=u.child}return u;case 5:return Vc(u),l===null&&Ia(u),v=u.type,w=u.pendingProps,A=l!==null?l.memoizedProps:null,O=w.children,ue(v,w)?O=null:A!==null&&ue(v,A)&&(u.flags|=32),Ws(l,u),Pr(l,u,O,m),u.child;case 6:return l===null&&Ia(u),null;case 13:return Lr(l,u,m);case 4:return ou(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=Ba(u,null,v,m):Pr(l,u,v,m),u.child;case 11:return v=u.type,w=u.pendingProps,Yc(l,u,v,w=u.elementType===v?w:$n(v,w),m);case 7:return Pr(l,u,u.pendingProps,m),u.child;case 8:case 12:return Pr(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(v=u.type._context,w=u.pendingProps,A=u.memoizedProps,zc(0,v,O=w.value),A!==null)if(vn(A.value,O)){if(A.children===w.children&&!jr.current){u=bn(l,u,m);break e}}else for((A=u.child)!==null&&(A.return=u);A!==null;){var V=A.dependencies;if(V!==null){O=A.child;for(var te=V.firstContext;te!==null;){if(te.context===v){if(A.tag===1){(te=Ti(-1,m&-m)).tag=2;var he=A.updateQueue;if(he!==null){var me=(he=he.shared).pending;me===null?te.next=te:(te.next=me.next,me.next=te),he.pending=te}}A.lanes|=m,(te=A.alternate)!==null&&(te.lanes|=m),gh(A.return,m,u),V.lanes|=m;break}te=te.next}}else if(A.tag===10)O=A.type===u.type?null:A.child;else if(A.tag===18){if((O=A.return)===null)throw Error(o(341));O.lanes|=m,(V=O.alternate)!==null&&(V.lanes|=m),gh(O,m,u),O=A.sibling}else O=A.child;if(O!==null)O.return=A;else for(O=A;O!==null;){if(O===u){O=null;break}if((A=O.sibling)!==null){A.return=O.return,O=A;break}O=O.return}A=O}Pr(l,u,w.children,m),u=u.child}return u;case 9:return w=u.type,v=u.pendingProps.children,Na(u,m),v=v(w=wn(w)),u.flags|=1,Pr(l,u,v,m),u.child;case 14:return w=$n(v=u.type,u.pendingProps),qc(l,u,v,w=$n(v.type,w),m);case 15:return hs(l,u,u.type,u.pendingProps,m);case 17:return v=u.type,w=u.pendingProps,w=u.elementType===v?w:$n(v,w),Sn(l,u),u.tag=1,Cr(v)?(l=!0,Kl(u)):l=!1,Na(u,m),$c(u,v,w),wh(u,v,w,m),cs(null,u,v,!0,l,m);case 19:return Uh(l,u,m);case 22:return Va(l,u,m)}throw Error(o(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=ii(l,134217728);u!==null&&Ir(u,l,134217728,lr()),Nu(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=ii(l,1);u!==null&&Ir(u,l,1,lr()),Nu(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=Nn(l),m=ii(l,u);m!==null&&Ir(m,l,u,lr()),Nu(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=gt(u.pendingLanes);m!==0&&(Fo(u,1|m),Kr(u,Ot()),!(6&st)&&(Js(),nn()))}break;case 13:hn(function(){var v=ii(l,1);if(v!==null){var w=lr();Ir(v,l,1,w)}}),Nu(l,1)}},e.batchedUpdates=function(l,u){var m=st;st|=1;try{return l(u)}finally{(st=m)===0&&(Js(),ts&&nn())}},e.createComponentSelector=function(l){return{$$typeof:Ii,value:l}},e.createContainer=function(l,u,m,v,w,A,O){return Kh(l,u,!1,null,0,v,0,A,O)},e.createHasPseudoClassSelector=function(l){return{$$typeof:ol,value:l}},e.createHydrationContainer=function(l,u,m,v,w,A,O,V,te){return(l=Kh(m,v,!0,l,0,A,0,V,te)).context=Zh(null),m=l.current,(A=Ti(v=lr(),w=Nn(m))).callback=u??null,si(m,A,w),l.current.lanes=w,ba(l,w,v),Kr(l,v),l},e.createPortal=function(l,u,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:v==null?null:""+v,children:l,containerInfo:u,implementation:m}},e.createRoleSelector=function(l){return{$$typeof:Ys,value:l}},e.createTestNameSelector=function(l){return{$$typeof:qs,value:l}},e.createTextSelector=function(l){return{$$typeof:ki,value:l}},e.deferredUpdates=function(l){var u=dt,m=Tt.transition;try{return Tt.transition=null,dt=16,l()}finally{dt=u,Tt.transition=m}},e.discreteUpdates=function(l,u,m,v,w){var A=dt,O=Tt.transition;try{return Tt.transition=null,dt=1,l(u,m,v,w)}finally{dt=A,Tt.transition=O,st===0&&Js()}},e.findAllNodes=Qr,e.findBoundingRects=function(l,u){if(!fr)throw Error(o(363));u=Qr(l,u),l=[];for(var m=0;m<u.length;m++)l.push(ti(u[m]));for(u=l.length-1;0<u;u--)for(var v=(m=l[u]).x,w=v+m.width,A=m.y,O=A+m.height,V=u-1;0<=V;V--)if(u!==V){var te=l[V],he=te.x,me=he+te.width,Ie=te.y,de=Ie+te.height;if(v>=he&&A>=Ie&&w<=me&&O<=de){l.splice(u,1);break}if(!(v!==he||m.width!==te.width||de<A||Ie>O)){Ie>A&&(te.height+=Ie-A,te.y=A),de<O&&(te.height=O-Ie),l.splice(u,1);break}if(!(A!==Ie||m.height!==te.height||me<v||he>w)){he>v&&(te.width+=he-v,te.x=v),me<w&&(te.width=w-he),l.splice(u,1);break}}return l},e.findHostInstance=Jh,e.findHostInstanceWithNoPortals=function(l){return(l=(l=fe(l))!==null?J(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return Jh(l)},e.flushControlled=function(l){var u=st;st|=1;var m=Tt.transition,v=dt;try{Tt.transition=null,dt=1,l()}finally{dt=v,Tt.transition=m,(st=u)===0&&(Js(),nn())}},e.flushPassiveEffects=Qn,e.flushSync=hn,e.focusWithin=function(l,u){if(!fr)throw Error(o(363));for(u=Ks(l=ll(l),u),u=Array.from(u),l=0;l<u.length;){var m=u[l++];if(!tn(m)){if(m.tag===5&&jl(m.stateNode))return!0;for(m=m.child;m!==null;)u.push(m),m=m.sibling}}return!1},e.getCurrentUpdatePriority=function(){return dt},e.getFindAllNodesFailureDescription=function(l,u){if(!fr)throw Error(o(363));var m=0,v=[];l=[ll(l),0];for(var w=0;w<l.length;){var A=l[w++],O=l[w++],V=u[O];if((A.tag!==5||!tn(A))&&(ul(A,V)&&(v.push(hl(V)),++O>m&&(m=O)),O<u.length))for(A=A.child;A!==null;)l.push(A,O),A=A.sibling}if(m<u.length){for(l=[];m<u.length;m++)l.push(hl(u[m]));return`findAllNodes was able to match part of the selector:
  `+v.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?B(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:Yf,findFiberByHostInstance:l.findFiberByHostInstance||qf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{Uo=u.inject(l),rn=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,m,v){if(!fr)throw Error(o(363));l=Qr(l,u);var w=ga(l,m,v).disconnect;return{disconnect:function(){w()}}},e.registerMutableSourceForHydration=function(l,u){var m=u._getVersion;m=m(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,m]:l.mutableSourceEagerHydrationData.push(u,m)},e.runWithPriority=function(l,u){var m=dt;try{return dt=l,u()}finally{dt=m}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,m,v){var w=u.current,A=lr(),O=Nn(w);return m=Zh(m),u.context===null?u.context=m:u.pendingContext=m,(u=Ti(A,O)).payload={element:l},(v=v===void 0?null:v)!==null&&(u.callback=v),(l=si(w,u,O))!==null&&(Ir(l,w,O,A),ss(l,w,O)),O},e}),n_}({get exports(){return Dg},set exports(n){Dg=n}}).exports=$T();var WT=yT(Dg),e1={name:"root",dependencies:{"react-dom":"^18.0.0"}},Fg={},zd={get exports(){return Fg},set exports(n){Fg=n}};(function(){var n,e,t,r,s,o;typeof performance<"u"&&performance!==null&&performance.now?zd.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(zd.exports=function(){return(n()-s)/1e6},e=process.hrtime,r=(n=function(){var c;return 1e9*(c=e())[0]+c[1]})(),o=1e9*process.uptime(),s=r-o):Date.now?(zd.exports=function(){return Date.now()-t},t=Date.now()):(zd.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(gT);var a_,Qu={},Al={};({get exports(){return Qu},set exports(n){Qu=n}}).exports=(a_||(a_=1,Al.ConcurrentRoot=1,Al.ContinuousEventPriority=4,Al.DefaultEventPriority=16,Al.DiscreteEventPriority=1,Al.IdleEventPriority=536870912,Al.LegacyRoot=0),Al);var VT={};function Qm(n,e){n.addChild&&(n.addChild(e),typeof e.didMount=="function"&&e.didMount(e,n))}function t1(n,e){var t,r,s;(t=n.willUnmount)===null||t===void 0||t.call(n,n,e),((r=n.config)===null||r===void 0?void 0:r.destroyChildren)!==!1&&(s=n.children)!==null&&s!==void 0&&s.length&&pa(n.children).forEach(function(o){t1(o,n)})}function o_(n,e){var t;t1(e,n),n.removeChild(e);var r=(t=e.config)!==null&&t!==void 0?t:{},s=r.destroy,o=s===void 0||s,c=r.destroyChildren,d=c===void 0||c,p=r.destroyTexture,g=p!==void 0&&p,_=r.destroyBaseTexture,x=_!==void 0&&_;o&&e.destroy({children:d,texture:g,baseTexture:x})}function l_(n,e,t){var r,s;sr(e!==t,"Cannot insert node before itself"),n.children.indexOf(e)!==-1&&n.removeChild(e);var o=n.getChildIndex(t);n.addChildAt(e,o),(r=n.__reactpixi)===null||r===void 0||(s=r.root)===null||s===void 0||s.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var u_=null,Vi=WT({getRootHostContext:function(){return VT},getChildHostContext:function(n){return n},getChildHostContextForEventComponent:function(n){return n},getPublicInstance:function(n){return n},getCurrentEventPriority:function(){return function(){var n,e;if(typeof window>"u")return Qu.DefaultEventPriority;switch((n=window)===null||n===void 0||(e=n.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Qu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Qu.ContinuousEventPriority;default:return Qu.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(n){var e,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=zT[n];if(typeof o=="function"&&(e=o(s,r)),!e){var c=Jx[n];c&&((e=c.create(r,{root:s})).didMount=c.didMount?c.didMount.bind(e):void 0,e.willUnmount=c.willUnmount?c.willUnmount.bind(e):void 0,e.applyProps=c.applyProps?c.applyProps.bind(e):void 0,e.config=c.config)}return e&&(e.__reactpixi={root:s},(typeof((t=e)===null||t===void 0?void 0:t.applyProps)=="function"?e.applyProps:Is)(e,{},r)),e},hideInstance:function(n){n.visible=!1},unhideInstance:function(n,e){var t=e==null||!e.hasOwnProperty("visible")||e.visible;n.visible=t},finalizeInitialChildren:function(n,e,t){return!1},prepareUpdate:function(n,e,t,r,s,o){return u_=function(c,d,p,g){var _=null;for(var x in p)!g.hasOwnProperty(x)&&p.hasOwnProperty(x)&&p[x]!==null&&(x===Mg||(_||(_=[]),_.push(x,null)));for(var S in g){var b=g[S],T=p!==null?p[S]:void 0;!g.hasOwnProperty(S)||b===T||b===null&&T===null||S===Mg||(_||(_=[]),_.push(S,b))}return _}(0,0,t,r)},shouldSetTextContent:function(n,e){return!1},shouldDeprioritizeSubtree:function(n,e){var t=e.alpha===void 0||e.alpha>0,r=e.renderable===void 0||e.renderable===!0,s=e.visible===void 0||e.visible===!0;return!(t&&r&&s)},createTextInstance:function(n,e,t){sr(!1,'Error trying to add text node "'.concat(n,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(n,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Fg,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var o=Qm.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),o},appendChild:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var o=Qm.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),o},appendChildToContainer:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var o=Qm.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),o},removeChild:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var o=o_.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),o},removeChildFromContainer:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var o=o_.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),o},insertBefore:l_,insertInContainerBefore:function(){for(var n,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var o=l_.apply(null,r);return(n=r[0].__reactpixi)===null||n===void 0||(e=n.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),o},commitUpdate:function(n,e,t,r,s){var o,c,d=n&&n.applyProps;typeof d!="function"&&(d=Is),(d(n,r,s)||u_)&&((o=n.__reactpixi)===null||o===void 0||(c=o.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(n,e,t,r,s){},commitTextUpdate:function(n,e,t){},resetTextContent:function(n){},clearContainer:function(n){},getFundamentalComponentInstance:function(n){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(n){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(n){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(n){throw new Error("Not yet implemented.")},getInstanceFromNode:function(n){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(n){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(n){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(n){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(n){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(n){}}),XT=e1.dependencies["react-dom"].replace(/[^0-9.]/g,""),YT=e1.name;Vi.injectIntoDevTools({bundleType:0,version:XT,rendererPackageName:YT,findHostInstanceByFiber:Vi.findHostInstance});var _o=new Map;function r1(n){if(sr(pn.prototype.isPrototypeOf(n),"Invalid argument `container`, expected instance of `Container`."),_o.has(n)){var e=_o.get(n).pixiFiberContainer;Vi.updateContainer(null,e,void 0,function(){_o.delete(n)})}}function n1(n){sr(pn.prototype.isPrototypeOf(n),"Invalid argument `container`, expected instance of `Container`.");var e=_o.get(n);if(sr(!e,"createRoot should only be called once"),!e){var t=Vi.createContainer(n);e={pixiFiberContainer:t,reactRoot:{render:function(r){return Vi.updateContainer(r,t,void 0),Vi.getPublicRootInstance(t)},unmount:function(){r1(n),_o.delete(n)}}},_o.set(n,e)}return e.reactRoot}function qT(n,e,t){var r;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),t!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),_o.has(e)?r=_o.get(e).reactRoot:r=n1(e),r.render(n)}function QT(n){r1(n)}function Ic(){return Ic=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ic.apply(this,arguments)}function KT(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ZT(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Qx(r.key),r)}}function aa(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _f(n,e){return _f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},_f(n,e)}function JT(n,e){if(e&&(Jn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aa(n)}function xf(n){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xf(n)}var Bf=en.createContext(null),i1=Bf.Provider,s1=Bf.Consumer,eA=function(n){var e=en.forwardRef(function(t,r){return en.createElement(s1,null,function(s){return en.createElement(n,Ic({},t,{ref:r,app:s}))})});return e.displayName="withPIXIApp(".concat(n.displayName||n.name,")"),e};function tA(n){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=xf(n);if(e){var s=xf(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return JT(this,t)}}function h_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Gd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h_(Object(t),!0).forEach(function(r){cr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var c_=function(){},a1={width:Nt.number,height:Nt.number,onMount:Nt.func,onUnmount:Nt.func,raf:Nt.bool,renderOnComponentChange:Nt.bool,children:Nt.node,options:Nt.shape({autoStart:Nt.bool,width:Nt.number,height:Nt.number,useContextAlpha:Nt.bool,backgroundAlpha:Nt.number,autoDensity:Nt.bool,antialias:Nt.bool,preserveDrawingBuffer:Nt.bool,resolution:Nt.number,forceCanvas:Nt.bool,backgroundColor:Nt.number,clearBeforeRender:Nt.bool,powerPreference:Nt.string,sharedTicker:Nt.bool,sharedLoader:Nt.bool,resizeTo:function(n,e){var t=n[e];t&&sr(t===window||t instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Jn(t),", expect `window` or an `HTMLElement`."))},view:function(n,e,t){var r=n[e];r&&sr(r instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Jn(r),", supplied to ").concat(t,", expected `<canvas> Element`"))}})},rA={width:800,height:600,onMount:c_,onUnmount:c_,raf:!0,renderOnComponentChange:!0},Bg=function(n){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),c&&_f(o,c)})(s,en.Component);var e,t,r=tA(s);function s(){var o;KT(this,s);for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];return cr(aa(o=r.call.apply(r,[this].concat(d))),"_canvas",null),cr(aa(o),"_mediaQuery",null),cr(aa(o),"_ticker",null),cr(aa(o),"_needsUpdate",!0),cr(aa(o),"app",null),cr(aa(o),"updateSize",function(){var g=o.props,_=g.width,x=g.height,S=g.options;S!=null&&S.resolution||(o.app.renderer.resolution=window.devicePixelRatio,o.resetInteractionManager()),o.app.renderer.resize(_,x)}),cr(aa(o),"needsRenderUpdate",function(){o._needsUpdate=!0}),cr(aa(o),"renderStage",function(){var g=o.props,_=g.renderOnComponentChange;!g.raf&&_&&o._needsUpdate&&(o._needsUpdate=!1,o.app.renderer.render(o.app.stage))}),o}return e=s,(t=[{key:"componentDidMount",value:function(){var o=this.props,c=o.onMount,d=o.width,p=o.height,g=o.options,_=o.raf,x=o.renderOnComponentChange;this.app=new Ff(Gd(Gd({width:d,height:p,view:this._canvas},g),{},{autoDensity:(g==null?void 0:g.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[_?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Vi.createContainer(this.app.stage),Vi.updateContainer(this.getChildren(),this.mountNode,this),c(this.app),g!=null&&g.autoDensity&&window.matchMedia&&(g==null?void 0:g.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),x&&!_&&(this._ticker=new Dr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(o,c,d){var p,g=this.props,_=g.width,x=g.height,S=g.raf,b=g.renderOnComponentChange,T=g.options;(T==null?void 0:T.resolution)!==void 0&&(o==null?void 0:o.options.resolution)!==(T==null?void 0:T.resolution)&&(this.app.renderer.resolution=T.resolution,this.resetInteractionManager()),o.height===x&&o.width===_&&((p=o.options)===null||p===void 0?void 0:p.resolution)===(T==null?void 0:T.resolution)||this.updateSize(),o.raf!==S&&this.app.ticker[S?"start":"stop"](),Vi.updateContainer(this.getChildren(),this.mountNode,this),o.width===_&&o.height===x&&o.raf===S&&o.renderOnComponentChange===b&&o.options===T||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var o=this.app.renderer.plugins.interaction;o!=null&&o.resolution&&(o.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var o=this.props.children;return en.createElement(i1,{value:this.app},o)}},{key:"componentDidCatch",value:function(o,c){console.error("Error occurred in `Stage`."),console.error(o),console.error(c)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Vi.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var o,c,d=this,p=this.props.options;return p&&p.view?(sr(p.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):en.createElement("canvas",Ic({},(o=this.props,c=[].concat(pa(Object.keys(a1)),pa(Object.keys(Ng))),Object.keys(o).filter(function(g){return!c.includes(g)}).reduce(function(g,_){return Gd(Gd({},g),{},cr({},_,o[_]))},{})),{ref:function(g){return d._canvas=g}}))}}])&&ZT(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),s}();Bg.propTypes=a1,Bg.defaultProps=rA;var nA=Bg;function o1(){var n=Ze.useContext(Bf);return sr(n instanceof Ff,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),n}function iA(n){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=o1();sr(typeof n=="function","`useTick` needs a callback function."),sr(t instanceof Ff,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var r=Ze.useRef(null);Ze.useEffect(function(){r.current=n},[n]),Ze.useEffect(function(){if(e){var s=function(o){return r.current.apply(t.ticker,[o,t.ticker])};return t.ticker.add(s),function(){t.ticker&&t.ticker.remove(s)}}},[e])}function sA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lg(n,e,t){return Lg=sA()?Reflect.construct.bind():function(r,s,o){var c=[null];c.push.apply(c,s);var d=new(Function.bind.apply(r,c));return o&&_f(d,o.prototype),d},Lg.apply(null,arguments)}var aA=["children","apply"];function d_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Hd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?d_(Object(t),!0).forEach(function(r){cr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):d_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var oA=function(n,e){sr(Jn(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var t=Object.keys(e),r=function(s){var o=s.children,c=s.apply,d=bo(s,aA),p=Ze.useRef(Ze.useMemo(function(){return t.map(function(x){var S,b=(d==null||(S=d[x])===null||S===void 0?void 0:S.construct)||[];return Lg(e[x],pa(b))})},[t])),g=Ze.useMemo(function(){return t.reduce(function(x,S,b){return Hd(Hd({},x),{},cr({},S,p.current[b]))},{})},[t]),_=Ze.useMemo(function(){return Object.keys(d).filter(Zx(Kx(t))).reduce(function(x,S){return Hd(Hd({},x),{},cr({},S,d[S]))},{})},[d,t]);return t.forEach(function(x,S){return Object.assign(p.current[S],d[x])}),c&&function(){for(var x=arguments.length,S=new Array(x),b=0;b<x;b++)S[b]=arguments[b];return S.every(function(T){return typeof T=="function"})}(c)&&c.call(n,g),en.createElement(n,Ic({},_,{filters:p.current}),o)};return r.displayName="FilterWrapper",r.propTypes={children:Nt.node,apply:Nt.func},r},lA=Ln.BitmapText,uA=Ln.Container,hA=Ln.Graphics,cA=Ln.NineSlicePlane,dA=Ln.ParticleContainer,fA=Ln.Sprite,pA=Ln.AnimatedSprite,mA=Ln.Text,gA=Ln.TilingSprite,yA=Ln.SimpleMesh,vA=Ln.SimpleRope;const _A=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:pA,AppConsumer:s1,AppContext:Bf,AppProvider:i1,BitmapText:lA,Container:uA,Graphics:hA,NineSlicePlane:cA,ParticleContainer:dA,PixiComponent:GT,PixiFiber:Vi,SimpleMesh:yA,SimpleRope:vA,Sprite:fA,Stage:nA,TYPES:Ln,Text:mA,TilingSprite:gA,applyDefaultProps:Is,createRoot:n1,eventHandlers:vf,render:qT,unmountComponentAtNode:QT,useApp:o1,useTick:iA,withFilters:oA,withPixiApp:eA},Symbol.toStringTag,{value:"Module"})),xA=I_(_A);var f_;function wA(){return f_||(f_=1,Sc.exports=xA),Sc.exports}var p_=wA();const l1=new Ht;Xt.prototype._cacheAsBitmap=!1;Xt.prototype._cacheData=null;Xt.prototype._cacheAsBitmapResolution=null;Xt.prototype._cacheAsBitmapMultisample=null;class EA{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Xt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(n){n!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(n){n!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(n){if(this._cacheAsBitmap===n)return;this._cacheAsBitmap=n;let e;n?(this._cacheData||(this._cacheData=new EA),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Xt.prototype._renderCached=function(n){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(n),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(n))};Xt.prototype._initCachedDisplayObject=function(n){var S,b;if((S=this._cacheData)!=null&&S.sprite)return;const e=this.alpha;this.alpha=1,n.batch.flush();const t=this.getLocalBounds(new lt,!0);if((b=this.filters)!=null&&b.length){const T=this.filters[0].padding;t.pad(T)}const r=this.cacheAsBitmapResolution||n.resolution;t.ceil(r),t.width=Math.max(t.width,1/r),t.height=Math.max(t.height,1/r);const s=n.renderTexture.current,o=n.renderTexture.sourceFrame.clone(),c=n.renderTexture.destinationFrame.clone(),d=n.projection.transform,p=zl.create({width:t.width,height:t.height,resolution:r,multisample:this.cacheAsBitmapMultisample??n.multisample}),g=`cacheAsBitmap_${Ll()}`;this._cacheData.textureCacheId=g,at.addToCache(p.baseTexture,g),Me.addToCache(p,g);const _=this.transform.localTransform.copyTo(l1).invert().translate(-t.x,-t.y);this.render=this._cacheData.originalRender,n.render(this,{renderTexture:p,clear:!0,transform:_,skipUpdateTransform:!1}),n.framebuffer.blit(),n.projection.transform=d,n.renderTexture.bind(s,o,c),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const x=new Ms(p);x.transform.worldTransform=this.transform.worldTransform,x.anchor.x=-(t.x/t.width),x.anchor.y=-(t.y/t.height),x.alpha=e,x._bounds=this._bounds,this._cacheData.sprite=x,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=x.containsPoint.bind(x)};Xt.prototype._renderCachedCanvas=function(n){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(n),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(n))};Xt.prototype._initCachedDisplayObjectCanvas=function(n){var _;if((_=this._cacheData)!=null&&_.sprite)return;const e=this.getLocalBounds(new lt,!0),t=this.alpha;this.alpha=1;const r=n.canvasContext.activeContext,s=n._projTransform,o=this.cacheAsBitmapResolution||n.resolution;e.ceil(o),e.width=Math.max(e.width,1/o),e.height=Math.max(e.height,1/o);const c=zl.create({width:e.width,height:e.height,resolution:o}),d=`cacheAsBitmap_${Ll()}`;this._cacheData.textureCacheId=d,at.addToCache(c.baseTexture,d),Me.addToCache(c,d);const p=l1;this.transform.localTransform.copyTo(p),p.invert(),p.tx-=e.x,p.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,n.render(this,{renderTexture:c,clear:!0,transform:p,skipUpdateTransform:!1}),n.canvasContext.activeContext=r,n._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const g=new Ms(c);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(e.x/e.width),g.anchor.y=-(e.y/e.height),g.alpha=t,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=n._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=g.containsPoint.bind(g)};Xt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Xt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Xt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,at.removeFromCache(this._cacheData.textureCacheId),Me.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Xt.prototype._cacheAsBitmapDestroy=function(n){this.cacheAsBitmap=!1,this.destroy(n)};Xt.prototype.name=null;pn.prototype.getChildByName=function(n,e){for(let t=0,r=this.children.length;t<r;t++)if(this.children[t].name===n)return this.children[t];if(e)for(let t=0,r=this.children.length;t<r;t++){const s=this.children[t];if(!s.getChildByName)continue;const o=s.getChildByName(n,!0);if(o)return o}return null};Xt.prototype.getGlobalPosition=function(n=new pt,e=!1){return this.parent?this.parent.toGlobal(this.position,n,e):(n.x=this.position.x,n.y=this.position.y),n};var SA=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class bA extends fn{constructor(e=1){super(OS,SA,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const TA={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},AA=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function CA(n){const e=TA[n],t=e.length;let r=AA,s="";const o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let c;for(let d=0;d<n;d++){let p=o.replace("%index%",d.toString());c=d,d>=t&&(c=n-d-1),p=p.replace("%value%",e[c].toString()),s+=p,s+=`
`}return r=r.replace("%blur%",s),r=r.replace("%size%",n.toString()),r}const PA=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function RA(n,e){const t=Math.ceil(n/2);let r=PA,s="",o;e?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let c=0;c<n;c++){let d=o.replace("%index%",c.toString());d=d.replace("%sampleIndex%",`${c-(t-1)}.0`),s+=d,s+=`
`}return r=r.replace("%blur%",s),r=r.replace("%size%",n.toString()),r}class Ug extends fn{constructor(e,t=8,r=4,s=fn.defaultResolution,o=5){const c=RA(o,e),d=CA(o);super(c,d),this.horizontal=e,this.resolution=s,this._quality=0,this.quality=r,this.blur=t}apply(e,t,r,s){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,t,r,s);else{const o=e.getFilterTexture(),c=e.renderer;let d=t,p=o;this.state.blend=!1,e.applyFilter(this,d,p,bs.CLEAR);for(let g=1;g<this.passes-1;g++){e.bindAndClear(d,bs.BLIT),this.uniforms.uSampler=p;const _=p;p=d,d=_,c.shader.bind(this),c.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,p,r,s),e.returnFilterTexture(o)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class u1 extends fn{constructor(e=8,t=4,r=fn.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Ug(!0,e,t,r,s),this.blurYFilter=new Ug(!1,e,t,r,s),this.resolution=r,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,r,s){const o=Math.abs(this.blurXFilter.strength),c=Math.abs(this.blurYFilter.strength);if(o&&c){const d=e.getFilterTexture();this.blurXFilter.apply(e,t,d,bs.CLEAR),this.blurYFilter.apply(e,d,r,s),e.returnFilterTexture(d)}else c?this.blurYFilter.apply(e,t,r,s):this.blurXFilter.apply(e,t,r,s)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var IA=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class zg extends fn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(Tx,IA,e),this.alpha=1}_loadMatrix(e,t=!1){let r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}tint(e,t){const[r,s,o]=Gt.shared.setValue(e).toArray(),c=[r,0,0,0,0,0,s,0,0,0,0,0,o,0,0,0,0,0,1,0];this._loadMatrix(c,t)}greyscale(e,t){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}blackAndWhite(e){const t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)}hue(e,t){e=(e||0)/180*Math.PI;const r=Math.cos(e),s=Math.sin(e),o=Math.sqrt,c=1/3,d=o(c),p=r+(1-r)*c,g=c*(1-r)-d*s,_=c*(1-r)+d*s,x=c*(1-r)+d*s,S=r+c*(1-r),b=c*(1-r)-d*s,T=c*(1-r)-d*s,R=c*(1-r)+d*s,P=r+c*(1-r),M=[p,g,_,0,0,x,S,b,0,0,T,R,P,0,0,0,0,0,1,0];this._loadMatrix(M,t)}contrast(e,t){const r=(e||0)+1,s=-.5*(r-1),o=[r,0,0,0,s,0,r,0,0,s,0,0,r,0,s,0,0,0,1,0];this._loadMatrix(o,t)}saturate(e=0,t){const r=e*2/3+1,s=(r-1)*-.5,o=[r,s,s,0,0,s,r,s,0,0,s,s,r,0,0,0,0,0,1,0];this._loadMatrix(o,t)}desaturate(){this.saturate(-1)}negative(e){const t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)}sepia(e){const t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)}technicolor(e){const t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)}polaroid(e){const t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)}toBGR(e){const t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)}kodachrome(e){const t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)}browni(e){const t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)}vintage(e){const t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)}colorTone(e,t,r,s,o){e=e||.2,t=t||.15,r=r||16770432,s=s||3375104;const c=Gt.shared,[d,p,g]=c.setValue(r).toArray(),[_,x,S]=c.setValue(s).toArray(),b=[.3,.59,.11,0,0,d,p,g,e,0,_,x,S,t,0,d-_,p-x,g-S,0,0];this._loadMatrix(b,o)}night(e,t){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,t)}predator(e,t){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)}lsd(e){const t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}zg.prototype.grayscale=zg.prototype.greyscale;var kA=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,MA=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class NA extends fn{constructor(e,t){const r=new Ht;e.renderable=!1,super(MA,kA,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,t==null&&(t=20),this.scale=new pt(t,t)}apply(e,t,r,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const o=this.maskSprite.worldTransform,c=Math.sqrt(o.a*o.a+o.b*o.b),d=Math.sqrt(o.c*o.c+o.d*o.d);c!==0&&d!==0&&(this.uniforms.rotation[0]=o.a/c,this.uniforms.rotation[1]=o.b/c,this.uniforms.rotation[2]=o.c/d,this.uniforms.rotation[3]=o.d/d),e.applyFilter(this,t,r,s)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var DA=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,OA=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class FA extends fn{constructor(){super(OA,DA)}}var BA=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class LA extends fn{constructor(e=.5,t=Math.random()){super(Tx,BA,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const m_={AlphaFilter:bA,BlurFilter:u1,BlurFilterPass:Ug,ColorMatrixFilter:zg,DisplacementFilter:NA,FXAAFilter:FA,NoiseFilter:LA};Object.entries(m_).forEach(([n,e])=>{Object.defineProperty(m_,n,{get(){return ft("7.1.0",`filters.${n} has moved to ${n}`),e}})});class UA{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Dr.system.add(this.tickerUpdate,this,wo.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Dr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const go=new UA;class Dc{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Dc.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new pt,this.page=new pt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,r,s,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class wf extends Dc{constructor(){super(...arguments),this.client=new pt,this.movement=new pt,this.offset=new pt,this.global=new pt,this.screen=new pt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,r,s,o,c,d,p,g,_,x,S,b,T,R){throw new Error("Method not implemented.")}}class ji extends wf{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class rh extends wf{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}rh.DOM_DELTA_PIXEL=0,rh.DOM_DELTA_LINE=1,rh.DOM_DELTA_PAGE=2;const zA=2048,GA=new pt,Km=new pt;class HA{constructor(e){this.dispatch=new Mc,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((r,s)=>r.priority-s.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let r=0,s=t.length;r<s;r++)t[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){go.pauseUpdate=!0;const r=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[r](this.rootTarget,this.rootTarget.eventMode,GA.set(e,t),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,t){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let s=0,o=r.length-1;s<o;s++)if(e.currentTarget=r[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let s=r.length-2;s>=0;s--)if(e.currentTarget=r[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,r=this._allInteractiveElements){if(r.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const s=Array.isArray(t)?t:[t];for(let o=r.length-1;o>=0;o--)s.forEach(c=>{e.currentTarget=r[o],this.notifyTarget(e,c)})}propagationPath(e){const t=[e];for(let r=0;r<zA&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,r,s,o,c=!1){let d=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(go.pauseUpdate=!1),e.interactiveChildren&&e.children){const _=e.children;for(let x=_.length-1;x>=0;x--){const S=_[x],b=this.hitTestMoveRecursive(S,this._isInteractive(t)?t:S.eventMode,r,s,o,c||o(e,r));if(b){if(b.length>0&&!b[b.length-1].parent)continue;const T=e.isInteractive();(b.length>0||T)&&(T&&this._allInteractiveElements.push(e),b.push(e)),this._hitElements.length===0&&(this._hitElements=b),d=!0}}}const p=this._isInteractive(t),g=e.isInteractive();return p&&g&&this._allInteractiveElements.push(e),c||this._hitElements.length>0?null:d?this._hitElements:p&&!o(e,r)&&s(e,r)?g?[e]:[]:null}hitTestRecursive(e,t,r,s,o){if(this._interactivePrune(e)||o(e,r))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(go.pauseUpdate=!1),e.interactiveChildren&&e.children){const p=e.children;for(let g=p.length-1;g>=0;g--){const _=p[g],x=this.hitTestRecursive(_,this._isInteractive(t)?t:_.eventMode,r,s,o);if(x){if(x.length>0&&!x[x.length-1].parent)continue;const S=e.isInteractive();return(x.length>0||S)&&x.push(e),x}}}const c=this._isInteractive(t),d=e.isInteractive();return c&&s(e,r)?d?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){var r;if(e.hitArea&&(e.worldTransform.applyInverse(t,Km),!e.hitArea.contains(Km.x,Km.y)))return!0;if(e._mask){const s=e._mask.isMaskData?e._mask.maskObject:e._mask;if(s&&!((r=s.containsPoint)!=null&&r.call(s,t)))return!0}return!1}hitTestFn(e,t){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(t):!1}notifyTarget(e,t){var o,c;t=t??e.type;const r=`on${t}`;(c=(o=e.currentTarget)[r])==null||c.call(o,e);const s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const s=t.button===2;this.dispatchEvent(t,s?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var p,g;if(!(e instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const r=t.pointerType==="mouse"||t.pointerType==="pen",s=this.trackingData(e.pointerId),o=this.findMountedTarget(s.overTargets);if(((p=s.overTargets)==null?void 0:p.length)>0&&o!==t.target){const _=e.type==="mousemove"?"mouseout":"pointerout",x=this.createPointerEvent(e,_,o);if(this.dispatchEvent(x,"pointerout"),r&&this.dispatchEvent(x,"mouseout"),!t.composedPath().includes(o)){const S=this.createPointerEvent(e,"pointerleave",o);for(S.eventPhase=S.AT_TARGET;S.target&&!t.composedPath().includes(S.target);)S.currentTarget=S.target,this.notifyTarget(S),r&&this.notifyTarget(S,"mouseleave"),S.target=S.target.parent;this.freeEvent(S)}this.freeEvent(x)}if(o!==t.target){const _=e.type==="mousemove"?"mouseover":"pointerover",x=this.clonePointerEvent(t,_);this.dispatchEvent(x,"pointerover"),r&&this.dispatchEvent(x,"mouseover");let S=o==null?void 0:o.parent;for(;S&&S!==this.rootTarget.parent&&S!==t.target;)S=S.parent;if(!S||S===this.rootTarget.parent){const b=this.clonePointerEvent(t,"pointerenter");for(b.eventPhase=b.AT_TARGET;b.target&&b.target!==o&&b.target!==this.rootTarget.parent;)b.currentTarget=b.target,this.notifyTarget(b),r&&this.notifyTarget(b,"mouseenter"),b.target=b.target.parent;this.freeEvent(b)}this.freeEvent(x)}const c=[],d=this.enableGlobalMoveEvents??!0;this.moveOnAll?c.push("pointermove"):this.dispatchEvent(t,"pointermove"),d&&c.push("globalpointermove"),t.pointerType==="touch"&&(this.moveOnAll?c.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),d&&c.push("globaltouchmove")),r&&(this.moveOnAll?c.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),d&&c.push("globalmousemove"),this.cursor=(g=t.target)==null?void 0:g.cursor),c.length>0&&this.all(t,c),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){var c;if(!(e instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.createPointerEvent(e),s=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),s&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(c=r.target)==null?void 0:c.cursor);const o=this.clonePointerEvent(r,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),s&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;t.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(o)}mapPointerOut(e){if(!(e instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",s=this.findMountedTarget(t.overTargets),o=this.createPointerEvent(e,"pointerout",s);this.dispatchEvent(o),r&&this.dispatchEvent(o,"mouseout");const c=this.createPointerEvent(e,"pointerleave",s);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==this.rootTarget.parent;)c.currentTarget=c.target,this.notifyTarget(c),r&&this.notifyTarget(c,"mouseleave"),c.target=c.target.parent;t.overTargets=null,this.freeEvent(o),this.freeEvent(c)}this.cursor=null}mapPointerUp(e){if(!(e instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const d=r.button===2;this.dispatchEvent(r,d?"rightup":"mouseup")}const s=this.trackingData(e.pointerId),o=this.findMountedTarget(s.pressTargetsByButton[e.button]);let c=o;if(o&&!r.composedPath().includes(o)){let d=o;for(;d&&!r.composedPath().includes(d);){if(r.currentTarget=d,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const p=r.button===2;this.notifyTarget(r,p?"rightupoutside":"mouseupoutside")}d=d.parent}delete s.pressTargetsByButton[e.button],c=d}if(c){const d=this.clonePointerEvent(r,"click");d.target=c,d.path=null,s.clicksByButton[e.button]||(s.clicksByButton[e.button]={clickCount:0,target:d.target,timeStamp:t});const p=s.clicksByButton[e.button];if(p.target===d.target&&t-p.timeStamp<200?++p.clickCount:p.clickCount=1,p.target=d.target,p.timeStamp=t,d.detail=p.clickCount,d.pointerType==="mouse"){const g=d.button===2;this.dispatchEvent(d,g?"rightclick":"click")}else d.pointerType==="touch"&&this.dispatchEvent(d,"tap");this.dispatchEvent(d,"pointertap"),this.freeEvent(d)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.findMountedTarget(t.pressTargetsByButton[e.button]),s=this.createPointerEvent(e);if(r){let o=r;for(;o;)s.currentTarget=o,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"?this.notifyTarget(s,"touchendoutside"):(s.pointerType==="mouse"||s.pointerType==="pen")&&this.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(s)}mapWheel(e){if(!(e instanceof rh)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let r=1;r<e.length&&e[r].parent===t;r++)t=e[r];return t}createPointerEvent(e,t,r){const s=this.allocateEvent(ji);return this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=r??this.hitTest(s.global.x,s.global.y)??this._hitElements[0],typeof t=="string"&&(s.type=t),s}createWheelEvent(e){const t=this.allocateEvent(rh);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const r=this.allocateEvent(ji);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=t??r.type,r}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof ji&&t instanceof ji&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof wf&&t instanceof wf&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const r=e.currentTarget._events[t];if(r&&e.currentTarget.isInteractive())if("fn"in r)r.once&&e.currentTarget.removeListener(t,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let s=0,o=r.length;s<o&&!e.propagationImmediatelyStopped;s++)r[s].once&&e.currentTarget.removeListener(t,r[s].fn,void 0,!0),r[s].fn.call(r[s].context,e)}}const jA=1,$A={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Gg=class Hg{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new HA(null),go.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new ji(null),this.rootWheelEvent=new rh(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Hg.defaultEventFeatures},{set:(t,r,s)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=s),t[r]=s,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:t,resolution:r}=this.renderer;this.setTargetElement(t),this.resolution=r,Hg._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,s=t.length;r<s;r++){const o=t[r],c=this.bootstrapEvent(this.rootPointerEvent,o);this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,go.pointerMoved();const t=this.normalizeToPointerData(e);for(let r=0,s=t.length;r<s;r++){const o=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const r=t!==this.domElement?"outside":"",s=this.normalizeToPointerData(e);for(let o=0,c=s.length;o<c;o++){const d=this.bootstrapEvent(this.rootPointerEvent,s[o]);d.type+=r,this.rootBoundary.mapEvent(d)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let r=0,s=t.length;r<s;r++){const o=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,go.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;go.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;go.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,r){const s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;e.x=(t-s.left)*(this.domElement.width/s.width)*o,e.y=(r-s.top)*(this.domElement.height/s.height)*o}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,s=e.changedTouches.length;r<s;r++){const o=e.changedTouches[r];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=e.type,t.push(o)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=jA),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,t.push(r)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=$A[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};Gg.extension={name:"events",type:[Ne.RendererSystem,Ne.CanvasRendererSystem]},Gg.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let jg=Gg;Xe.add(jg);function g_(n){return n==="dynamic"||n==="static"}const WA={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??g_(jg.defaultEventMode)},set interactive(n){ft("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=n,this.eventMode=n?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??jg.defaultEventMode},set eventMode(n){this._internalInteractive=g_(n),this._internalEventMode=n},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(n,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,s=typeof t=="object"?t.signal:void 0,o=typeof t=="object"?t.once===!0:!1,c=typeof e=="function"?void 0:e;n=r?`${n}capture`:n;const d=typeof e=="function"?e:e.handleEvent,p=this;s&&s.addEventListener("abort",()=>{p.off(n,d,c)}),o?p.once(n,d,c):p.on(n,d,c)},removeEventListener(n,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,s=typeof e=="function"?void 0:e;n=r?`${n}capture`:n,e=typeof e=="function"?e:e.handleEvent,this.off(n,e,s)},dispatchEvent(n){if(!(n instanceof Dc))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return n.defaultPrevented=!1,n.path=null,n.target=this,n.manager.dispatchEvent(n),!n.defaultPrevented}};Xt.mixin(WA);const VA={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Xt.mixin(VA);const XA=9,jd=100,YA=0,qA=0,y_=2,v_=1,QA=-1e3,KA=-1e3,ZA=2;class h1{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(ua.tablet||ua.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width=`${jd}px`,t.style.height=`${jd}px`,t.style.position="absolute",t.style.top=`${YA}px`,t.style.left=`${qA}px`,t.style.zIndex=y_.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${v_}px`,e.style.height=`${v_}px`,e.style.position="absolute",e.style.top=`${QA}px`,e.style.left=`${KA}px`,e.style.zIndex=ZA.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}update(){const e=performance.now();if(ua.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:r,width:s,height:o}=this.renderer.view.getBoundingClientRect(),{width:c,height:d,resolution:p}=this.renderer,g=s/c*p,_=o/d*p;let x=this.div;x.style.left=`${t}px`,x.style.top=`${r}px`,x.style.width=`${c}px`,x.style.height=`${d}px`;for(let S=0;S<this.children.length;S++){const b=this.children[S];if(b.renderId!==this.renderId)b._accessibleActive=!1,Zu(this.children,S,1),this.div.removeChild(b._accessibleDiv),this.pool.push(b._accessibleDiv),b._accessibleDiv=null,S--;else{x=b._accessibleDiv;let T=b.hitArea;const R=b.worldTransform;b.hitArea?(x.style.left=`${(R.tx+T.x*R.a)*g}px`,x.style.top=`${(R.ty+T.y*R.d)*_}px`,x.style.width=`${T.width*R.a*g}px`,x.style.height=`${T.height*R.d*_}px`):(T=b.getBounds(),this.capHitArea(T),x.style.left=`${T.x*g}px`,x.style.top=`${T.y*_}px`,x.style.width=`${T.width*g}px`,x.style.height=`${T.height*_}px`,x.title!==b.accessibleTitle&&b.accessibleTitle!==null&&(x.title=b.accessibleTitle),x.getAttribute("aria-label")!==b.accessibleHint&&b.accessibleHint!==null&&x.setAttribute("aria-label",b.accessibleHint)),(b.accessibleTitle!==x.title||b.tabIndex!==x.tabIndex)&&(x.title=b.accessibleTitle,x.tabIndex=b.tabIndex,this.debug&&this.updateDebugHTML(x))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:r}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=`${jd}px`,t.style.height=`${jd}px`,t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=y_.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:r}=e.target,s=this.renderer.events.rootBoundary,o=Object.assign(new Dc(s),{target:r});s.rootTarget=this.renderer.lastObjectRendered,t.forEach(c=>s.dispatchEvent(o,c))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===XA&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}h1.extension={name:"accessibility",type:[Ne.RendererPlugin,Ne.CanvasRendererPlugin]};Xe.add(h1);var Gr=(n=>(n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",n[n.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",n[n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",n[n.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",n[n.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",n[n.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",n[n.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",n))(Gr||{});const Ef={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let Ss,Vu;function __(){Vu={bptc:Ss.getExtension("EXT_texture_compression_bptc"),astc:Ss.getExtension("WEBGL_compressed_texture_astc"),etc:Ss.getExtension("WEBGL_compressed_texture_etc"),s3tc:Ss.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Ss.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:Ss.getExtension("WEBGL_compressed_texture_pvrtc")||Ss.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:Ss.getExtension("WEBGL_compressed_texture_etc1"),atc:Ss.getExtension("WEBGL_compressed_texture_atc")}}const JA={extension:{type:Ne.DetectionParser,priority:2},test:async()=>{const n=Be.ADAPTER.createCanvas().getContext("webgl");return n?(Ss=n,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async n=>{Vu||__();const e=[];for(const t in Vu)Vu[t]&&e.push(t);return[...e,...n]},remove:async n=>(Vu||__(),n.filter(e=>!(e in Vu)))};Xe.add(JA);class eC extends Af{constructor(e,t={width:1,height:1,autoLoad:!0}){let r,s;typeof e=="string"?(r=e,s=new Uint8Array):(r=null,s=e),super(s,t),this.origin=r,this.buffer=s?new lg(s):null,this._load=null,this.loaded=!1,this.origin!==null&&t.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new lg(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Bl extends eC{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=Bl._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||Bl._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,r){const s=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;s.pixelStorei(s.UNPACK_ALIGNMENT,4);for(let o=0,c=this.levels;o<c;o++){const{levelID:d,levelWidth:p,levelHeight:g,levelBuffer:_}=this._levelBuffers[o];s.compressedTexImage2D(s.TEXTURE_2D,d,this.format,p,g,0,_)}return!0}onBlobLoaded(){this._levelBuffers=Bl._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,t,r,s,o,c,d){const p=new Array(r);let g=e.byteOffset,_=c,x=d,S=_+s-1&~(s-1),b=x+o-1&~(o-1),T=S*b*Ef[t];for(let R=0;R<r;R++)p[R]={levelID:R,levelWidth:r>1?_:S,levelHeight:r>1?x:b,levelBuffer:new Uint8Array(e.buffer,g,T)},g+=T,_=_>>1||1,x=x>>1||1,S=_+s-1&~(s-1),b=x+o-1&~(o-1),T=S*b*Ef[t];return p}}const Zm=4,$d=124,tC=32,x_=20,rC=542327876,Wd={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},nC={FOURCC:2},Vd={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},iC=1,sC=2,aC=4,oC=64,lC=512,uC=131072,hC=827611204,cC=861165636,dC=894720068,fC=808540228,pC=4,mC={[hC]:Gr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[cC]:Gr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[dC]:Gr.COMPRESSED_RGBA_S3TC_DXT5_EXT},gC={70:Gr.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Gr.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Gr.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Gr.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Gr.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Gr.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Gr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Gr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Gr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Gr.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Gr.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Gr.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Gr.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function yC(n){const e=new Uint32Array(n);if(e[0]!==rC)throw new Error("Invalid DDS file magic word");const t=new Uint32Array(n,0,$d/Uint32Array.BYTES_PER_ELEMENT),r=t[Wd.HEIGHT],s=t[Wd.WIDTH],o=t[Wd.MIPMAP_COUNT],c=new Uint32Array(n,Wd.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,tC/Uint32Array.BYTES_PER_ELEMENT),d=c[iC];if(d&aC){const p=c[nC.FOURCC];if(p!==fC){const z=mC[p],F=Zm+$d,$=new Uint8Array(n,F);return[new Bl($,{format:z,width:s,height:r,levels:o})]}const g=Zm+$d,_=new Uint32Array(e.buffer,g,x_/Uint32Array.BYTES_PER_ELEMENT),x=_[Vd.DXGI_FORMAT],S=_[Vd.RESOURCE_DIMENSION],b=_[Vd.MISC_FLAG],T=_[Vd.ARRAY_SIZE],R=gC[x];if(R===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${x}`);if(b===pC)throw new Error("DDSParser does not support cubemap textures");if(S===6)throw new Error("DDSParser does not supported 3D texture data");const P=new Array,M=Zm+$d+x_;if(T===1)P.push(new Uint8Array(n,M));else{const z=Ef[R];let F=0,$=s,L=r;for(let D=0;D<o;D++){const Z=Math.max(1,$+3&-4),ce=Math.max(1,L+3&-4),fe=Z*ce*z;F+=fe,$=$>>>1,L=L>>>1}let Q=M;for(let D=0;D<T;D++)P.push(new Uint8Array(n,Q,F)),Q+=F}return P.map(z=>new Bl(z,{format:R,width:s,height:r,levels:o}))}throw d&oC?new Error("DDSParser does not support uncompressed texture data."):d&lC?new Error("DDSParser does not supported YUV uncompressed texture data."):d&uC?new Error("DDSParser does not support single-channel (lumninance) texture data!"):d&sC?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const w_=[171,75,84,88,32,49,49,187,13,10,26,10],vC=67305985,Gi={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},$g=64,E_={[Ke.UNSIGNED_BYTE]:1,[Ke.UNSIGNED_SHORT]:2,[Ke.INT]:4,[Ke.UNSIGNED_INT]:4,[Ke.FLOAT]:4,[Ke.HALF_FLOAT]:8},_C={[Ae.RGBA]:4,[Ae.RGB]:3,[Ae.RG]:2,[Ae.RED]:1,[Ae.LUMINANCE]:1,[Ae.LUMINANCE_ALPHA]:2,[Ae.ALPHA]:1},xC={[Ke.UNSIGNED_SHORT_4_4_4_4]:2,[Ke.UNSIGNED_SHORT_5_5_5_1]:2,[Ke.UNSIGNED_SHORT_5_6_5]:2};function wC(n,e,t=!1){const r=new DataView(e);if(!EC(n,r))return null;const s=r.getUint32(Gi.ENDIANNESS,!0)===vC,o=r.getUint32(Gi.GL_TYPE,s),c=r.getUint32(Gi.GL_FORMAT,s),d=r.getUint32(Gi.GL_INTERNAL_FORMAT,s),p=r.getUint32(Gi.PIXEL_WIDTH,s),g=r.getUint32(Gi.PIXEL_HEIGHT,s)||1,_=r.getUint32(Gi.PIXEL_DEPTH,s)||1,x=r.getUint32(Gi.NUMBER_OF_ARRAY_ELEMENTS,s)||1,S=r.getUint32(Gi.NUMBER_OF_FACES,s),b=r.getUint32(Gi.NUMBER_OF_MIPMAP_LEVELS,s),T=r.getUint32(Gi.BYTES_OF_KEY_VALUE_DATA,s);if(g===0||_!==1)throw new Error("Only 2D textures are supported");if(S!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(x!==1)throw new Error("WebGL does not support array textures");const R=4,P=4,M=p+3&-4,z=g+3&-4,F=new Array(x);let $=p*g;o===0&&($=M*z);let L;if(o!==0?E_[o]?L=E_[o]*_C[c]:L=xC[o]:L=Ef[d],L===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const Q=t?bC(r,T,s):null;let D=$*L,Z=p,ce=g,fe=M,Pe=z,K=$g+T;for(let J=0;J<b;J++){const le=r.getUint32(K,s);let Te=K+4;for(let B=0;B<x;B++){let G=F[B];G||(G=F[B]=new Array(b)),G[J]={levelID:J,levelWidth:b>1||o!==0?Z:fe,levelHeight:b>1||o!==0?ce:Pe,levelBuffer:new Uint8Array(e,Te,D)},Te+=D}K+=le+4,K=K%4!==0?K+4-K%4:K,Z=Z>>1||1,ce=ce>>1||1,fe=Z+R-1&-4,Pe=ce+P-1&-4,D=fe*Pe*L}return o!==0?{uncompressed:F.map(J=>{let le=J[0].levelBuffer,Te=!1;return o===Ke.FLOAT?le=new Float32Array(J[0].levelBuffer.buffer,J[0].levelBuffer.byteOffset,J[0].levelBuffer.byteLength/4):o===Ke.UNSIGNED_INT?(Te=!0,le=new Uint32Array(J[0].levelBuffer.buffer,J[0].levelBuffer.byteOffset,J[0].levelBuffer.byteLength/4)):o===Ke.INT&&(Te=!0,le=new Int32Array(J[0].levelBuffer.buffer,J[0].levelBuffer.byteOffset,J[0].levelBuffer.byteLength/4)),{resource:new Af(le,{width:J[0].levelWidth,height:J[0].levelHeight}),type:o,format:Te?SC(c):c}}),kvData:Q}:{compressed:F.map(J=>new Bl(null,{format:d,width:p,height:g,levels:b,levelBuffers:J})),kvData:Q}}function EC(n,e){for(let t=0;t<w_.length;t++)if(e.getUint8(t)!==w_[t])return console.error(`${n} is not a valid *.ktx file!`),!1;return!0}function SC(n){switch(n){case Ae.RGBA:return Ae.RGBA_INTEGER;case Ae.RGB:return Ae.RGB_INTEGER;case Ae.RG:return Ae.RG_INTEGER;case Ae.RED:return Ae.RED_INTEGER;default:return n}}function bC(n,e,t){const r=new Map;let s=0;for(;s<e;){const o=n.getUint32($g+s,t),c=$g+s+4,d=3-(o+3)%4;if(o===0||o>e-s){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let p=0;for(;p<o&&n.getUint8(c+p)!==0;p++);if(p===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const g=new TextDecoder().decode(new Uint8Array(n.buffer,c,p)),_=new DataView(n.buffer,c+p+1,o-p-1);r.set(g,_),s+=4+o+d}return r}const TC={extension:{type:Ne.LoadParser,priority:qi.High},name:"loadDDS",test(n){return So(n,".dds")},async load(n,e,t){const r=await(await Be.ADAPTER.fetch(n)).arrayBuffer(),s=yC(r).map(o=>{const c=new at(o,{mipmap:Ps.OFF,alphaMode:Bn.NO_PREMULTIPLIED_ALPHA,resolution:da(n),...e.data});return Nc(c,t,n)});return s.length===1?s[0]:s},unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}};Xe.add(TC);const AC={extension:{type:Ne.LoadParser,priority:qi.High},name:"loadKTX",test(n){return So(n,".ktx")},async load(n,e,t){const r=await(await Be.ADAPTER.fetch(n)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:c}=wC(n,r),d=s??o,p={mipmap:Ps.OFF,alphaMode:Bn.NO_PREMULTIPLIED_ALPHA,resolution:da(n),...e.data},g=d.map(_=>{d===o&&Object.assign(p,{type:_.type,format:_.format});const x=_.resource??_,S=new at(x,p);return S.ktxKeyValueData=c,Nc(S,t,n)});return g.length===1?g[0]:g},unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}};Xe.add(AC);const CC=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],PC={extension:Ne.ResolveParser,test:n=>{const e=Or.extname(n).slice(1);return["basis","ktx","dds"].includes(e)},parse:n=>{var r,s;const e=n.split("."),t=e.pop();if(["ktx","dds"].includes(t)){const o=e.pop();if(CC.includes(o))return{resolution:parseFloat(((r=Be.RETINA_PREFIX.exec(n))==null?void 0:r[1])??"1"),format:o,src:n}}return{resolution:parseFloat(((s=Be.RETINA_PREFIX.exec(n))==null?void 0:s[1])??"1"),format:t,src:n}}};Xe.add(PC);const Xd=new lt,RC=4,c1=class _c{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,r,s){const o=new Image;return o.src=await this.base64(e,t,r,s),o}async base64(e,t,r,s){const o=this.canvas(e,s);if(o.toBlob!==void 0)return new Promise((c,d)=>{o.toBlob(p=>{if(!p){d(new Error("ICanvas.toBlob failed!"));return}const g=new FileReader;g.onload=()=>c(g.result),g.onerror=d,g.readAsDataURL(p)},t,r)});if(o.toDataURL!==void 0)return o.toDataURL(t,r);if(o.convertToBlob!==void 0){const c=await o.convertToBlob({type:t,quality:r});return new Promise((d,p)=>{const g=new FileReader;g.onload=()=>d(g.result),g.onerror=p,g.readAsDataURL(c)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,t){const{pixels:r,width:s,height:o,flipY:c,premultipliedAlpha:d}=this._rawPixels(e,t);c&&_c._flipY(r,s,o),d&&_c._unpremultiplyAlpha(r);const p=new xE(s,o,1),g=new ImageData(new Uint8ClampedArray(r.buffer),s,o);return p.context.putImageData(g,0,0),p.canvas}pixels(e,t){const{pixels:r,width:s,height:o,flipY:c,premultipliedAlpha:d}=this._rawPixels(e,t);return c&&_c._flipY(r,s,o),d&&_c._unpremultiplyAlpha(r),r}_rawPixels(e,t){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let s,o=!1,c=!1,d,p=!1;e&&(e instanceof zl?d=e:(d=r.generateTexture(e,{region:t,resolution:r.resolution,multisample:r.multisample}),p=!0,t&&(Xd.width=t.width,Xd.height=t.height,t=Xd)));const g=r.gl;if(d){if(s=d.baseTexture.resolution,t=t??d.frame,o=!1,c=d.baseTexture.alphaMode>0&&d.baseTexture.format===Ae.RGBA,!p){r.renderTexture.bind(d);const b=d.framebuffer.glFramebuffers[r.CONTEXT_UID];b.blitFramebuffer&&r.framebuffer.bind(b.blitFramebuffer)}}else s=r.resolution,t||(t=Xd,t.width=r.width/s,t.height=r.height/s),o=!0,c=this._rendererPremultipliedAlpha,r.renderTexture.bind();const _=Math.max(Math.round(t.width*s),1),x=Math.max(Math.round(t.height*s),1),S=new Uint8Array(RC*_*x);return g.readPixels(Math.round(t.x*s),Math.round(t.y*s),_,x,g.RGBA,g.UNSIGNED_BYTE,S),p&&(d==null||d.destroy(!0)),{pixels:S,width:_,height:x,flipY:o,premultipliedAlpha:c}}destroy(){this.renderer=null}static _flipY(e,t,r){const s=t<<2,o=r>>1,c=new Uint8Array(s);for(let d=0;d<o;d++){const p=d*s,g=(r-d-1)*s;c.set(e.subarray(p,p+s)),e.copyWithin(p,g,g+s),e.set(c,g)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let r=0;r<t;r+=4){const s=e[r+3];if(s!==0){const o=255.001/s;e[r]=e[r]*o+.5,e[r+1]=e[r+1]*o+.5,e[r+2]=e[r+2]*o+.5}}}};c1.extension={name:"extract",type:Ne.RendererSystem};let IC=c1;Xe.add(IC);class kC{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function MC(n,e){var r;let t=!1;if((r=n==null?void 0:n._textures)!=null&&r.length){for(let s=0;s<n._textures.length;s++)if(n._textures[s]instanceof Me){const o=n._textures[s].baseTexture;e.includes(o)||(e.push(o),t=!0)}}return t}function NC(n,e){if(n.baseTexture instanceof at){const t=n.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function DC(n,e){if(n._texture&&n._texture instanceof Me){const t=n._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function OC(n,e){return e instanceof sy?(e.updateText(!0),!0):!1}function FC(n,e){if(e instanceof Eo){const t=e.toFontString();return mo.measureFont(t),!0}return!1}function BC(n,e){if(n instanceof sy){e.includes(n.style)||e.push(n.style),e.includes(n)||e.push(n);const t=n._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function LC(n,e){return n instanceof Eo?(e.includes(n)||e.push(n),!0):!1}const d1=class f1{constructor(e){this.limiter=new kC(f1.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(BC),this.registerFindHook(LC),this.registerFindHook(MC),this.registerFindHook(NC),this.registerFindHook(DC),this.registerUploadHook(OC),this.registerUploadHook(FC)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,Dr.system.addOnce(this.tick,this,wo.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed){for(let r=0,s=this.uploadHooks.length;r<s;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)Dr.system.addOnce(this.tick,this,wo.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,r=e.length;t<r;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof pn)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&Dr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};d1.uploadsPerFrame=4;let Wg=d1;Object.defineProperties(Be,{UPLOADS_PER_FRAME:{get(){return Wg.uploadsPerFrame},set(n){ft("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Wg.uploadsPerFrame=n}}});function p1(n,e){return e instanceof at?(e._glTextures[n.CONTEXT_UID]||n.texture.bind(e),!0):!1}function UC(n,e){if(!(e instanceof Tc))return!1;const{geometry:t}=e;e.finishPoly(),t.updateBatches();const{batches:r}=t;for(let s=0;s<r.length;s++){const{texture:o}=r[s].style;o&&p1(n,o.baseTexture)}return t.batchable||n.geometry.bind(t,e._resolveDirectShader(n)),!0}function zC(n,e){return n instanceof Tc?(e.push(n),!0):!1}class m1 extends Wg{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(zC),this.registerUploadHook(p1),this.registerUploadHook(UC)}}m1.extension={name:"prepare",type:Ne.RendererSystem};Xe.add(m1);const g1=class xc{constructor(e,t,r){this.linkedSheets=[],(e instanceof at||e instanceof Me)&&(e={texture:e,data:t,resolutionFilename:r});const{texture:s,data:o,resolutionFilename:c=null,cachePrefix:d=""}=e;this.cachePrefix=d,this._texture=s instanceof Me?s:null,this.baseTexture=s instanceof at?s:this._texture.baseTexture,this.textures={},this.animations={},this.data=o;const p=this.baseTexture.resource;this.resolution=this._updateResolution(c||(p?p.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let r=da(e,null);return r===null&&(r=typeof t=="number"?t:parseFloat(t??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=xc.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const r=xc.BATCH_SIZE;for(;t-e<r&&t<this._frameKeys.length;){const s=this._frameKeys[t],o=this._frames[s],c=o.frame;if(c){let d=null,p=null;const g=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,_=new lt(0,0,Math.floor(g.w)/this.resolution,Math.floor(g.h)/this.resolution);o.rotated?d=new lt(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):d=new lt(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(p=new lt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[s]=new Me(this.baseTexture,d,_,p,o.rotated?2:0,o.anchor,o.borders),Me.addToCache(this.textures[s],this.cachePrefix+s.toString())}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let r=0;r<e[t].length;r++){const s=e[t][r];this.animations[t].push(this.textures[s])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*xc.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*xc.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var t;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)==null||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};g1.BATCH_SIZE=1e3;let S_=g1;const GC=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function y1(n,e,t){const r={};if(n.forEach(s=>{r[s]=e}),Object.keys(e.textures).forEach(s=>{r[`${e.cachePrefix}${s}`]=e.textures[s]}),!t){const s=Or.dirname(n[0]);e.linkedSheets.forEach((o,c)=>{Object.assign(r,y1([`${s}/${e.data.meta.related_multi_packs[c]}`],o,!0))})}return r}const HC={extension:Ne.Asset,cache:{test:n=>n instanceof S_,getCacheableAssets:(n,e)=>y1(n,e,!1)},resolver:{test:n=>{const e=n.split("?")[0].split("."),t=e.pop(),r=e.pop();return t==="json"&&GC.includes(r)},parse:n=>{var t;const e=n.split(".");return{resolution:parseFloat(((t=Be.RETINA_PREFIX.exec(n))==null?void 0:t[1])??"1"),format:e[e.length-2],src:n}}},loader:{name:"spritesheetLoader",extension:{type:Ne.LoadParser,priority:qi.Normal},async testParse(n,e){return Or.extname(e.src).toLowerCase()===".json"&&!!n.frames},async parse(n,e,t){var _,x;const{texture:r,imageFilename:s,cachePrefix:o}=(e==null?void 0:e.data)??{};let c=Or.dirname(e.src);c&&c.lastIndexOf("/")!==c.length-1&&(c+="/");let d;if(r&&r.baseTexture)d=r;else{const S=Pg(c+(s??n.meta.image),e.src);d=(await t.load([S]))[S]}const p=new S_({texture:d.baseTexture,data:n,resolutionFilename:e.src,cachePrefix:o});await p.parse();const g=(_=n==null?void 0:n.meta)==null?void 0:_.related_multi_packs;if(Array.isArray(g)){const S=[];for(const T of g){if(typeof T!="string")continue;let R=c+T;(x=e.data)!=null&&x.ignoreMultiPack||(R=Pg(R,e.src),S.push(t.load({src:R,data:{ignoreMultiPack:!0}})))}const b=await Promise.all(S);p.linkedSheets=b,b.forEach(T=>{T.linkedSheets=[p].concat(p.linkedSheets.filter(R=>R!==T))})}return p},unload(n){n.destroy(!0)}}};Xe.add(HC);const Vg=class Xu extends Eo{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Xu(Object.keys(Xu.defaultOptions).reduce((t,r)=>({...t,[r]:e[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Xu.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,t={}){const{availableFonts:r}=Xu;if(r[e]){const s=r[e];return this._fonts.push(s),s.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Be.ADAPTER.fetch(e).then(s=>s.blob()).then(async s=>new Promise((o,c)=>{const d=URL.createObjectURL(s),p=new FileReader;p.onload=()=>o([d,p.result]),p.onerror=c,p.readAsDataURL(s)})).then(async([s,o])=>{const c=Object.assign({family:Or.basename(e,Or.extname(e)),weight:"normal",style:"normal",display:"auto",src:s,dataSrc:o,refs:1,originalUrl:e,fontFace:null},t);r[e]=c,this._fonts.push(c),this.styleID++;const d=new FontFace(c.family,`url(${c.src})`,{weight:c.weight,style:c.style,display:c.display});c.fontFace=d,await d.load(),document.fonts.add(d),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const t=e.filter(r=>!this._overrides.includes(r));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter(r=>this._overrides.includes(r));t.length>0&&(this._overrides=this._overrides.filter(r=>!t.includes(r)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style};
                font-display: ${t.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=gE(e)),typeof e=="number"?mE(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(t*255|0).toString(16).padStart(2,"0"));const o=`${r}px ${s}px`;return this.dropShadowBlur>0?`text-shadow: ${o} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${o} ${e}`}reset(){Object.assign(this,Xu.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(t=>setTimeout(t,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=Be.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};Vg.availableFonts={},Vg.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Jm=Vg;const Yd=class Yu extends Ms{constructor(e="",t={}){super(Me.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const r=new Image,s=Me.from(r,{scaleMode:Be.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new lt,s.trim=new lt,this.texture=s;const o="http://www.w3.org/2000/svg",c="http://www.w3.org/1999/xhtml",d=document.createElementNS(o,"svg"),p=document.createElementNS(o,"foreignObject"),g=document.createElementNS(c,"div"),_=document.createElementNS(c,"style");p.setAttribute("width","10000"),p.setAttribute("height","10000"),p.style.overflow="hidden",d.appendChild(p),this.maxWidth=Yu.defaultMaxWidth,this.maxHeight=Yu.defaultMaxHeight,this._domElement=g,this._styleElement=_,this._svgRoot=d,this._foreignObject=p,this._foreignObject.appendChild(_),this._foreignObject.appendChild(g),this._image=r,this._loadImage=new Image,this._autoResolution=Yu.defaultAutoResolution,this._resolution=Yu.defaultResolution??Be.RESOLUTION,this.text=e,this.style=t}measureText(e){var _,x;const{text:t,style:r,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:r.toCSS(s)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const o=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:c,height:d}=o;(c>this.maxWidth||d>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const p=Math.min(this.maxWidth,Math.ceil(c)),g=Math.min(this.maxHeight,Math.ceil(d));return this._svgRoot.setAttribute("width",p.toString()),this._svgRoot.setAttribute("height",g.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(_=this._style)==null?void 0:_.toCSS(s)}),this._styleElement.textContent=(x=this._style)==null?void 0:x.toGlobalCSS()),{width:p+r.padding*2,height:g+r.padding*2}}async updateText(e=!0){const{style:t,_image:r,_loadImage:s}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:o,height:c}=this.measureText();r.width=s.width=Math.ceil(Math.max(1,o)),r.height=s.height=Math.ceil(Math.max(1,c)),this._updateID++;const d=this._updateID;await new Promise(p=>{s.onload=async()=>{if(d<this._updateID){p();return}await t.onBeforeDraw(),r.src=s.src,s.onload=null,s.src="",this.updateTexture(),p()};const g=new XMLSerializer().serializeToString(this._svgRoot);s.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(g)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:r,resolution:s}=this,{padding:o}=e,{baseTexture:c}=t;t.trim.width=t._frame.width=r.width/s,t.trim.height=t._frame.height=r.height/s,t.trim.x=-o,t.trim.y=-o,t.orig.width=t._frame.width-o*2,t.orig.height=t._frame.height-o*2,this._onTextureUpdate(),c.setRealSize(r.width,r.height,s),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var r,s,o,c,d;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Yu.defaultDestroyOptions,e),super.destroy(e);const t=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=t,(s=this._svgRoot)==null||s.remove(),this._svgRoot=t,(o=this._domElement)==null||o.remove(),this._domElement=t,(c=this._foreignObject)==null||c.remove(),this._foreignObject=t,(d=this._styleElement)==null||d.remove(),this._styleElement=t,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=t,this._image.src="",this._image=t}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=yo(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=yo(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Jm?(this.ownsStyle=!1,this._style=e):e instanceof Eo?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Jm.from(e)):(this.ownsStyle=!0,this._style=new Jm(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Yd.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Yd.defaultMaxWidth=2024,Yd.defaultMaxHeight=2024,Yd.defaultAutoResolution=!0;const jC="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20className='icon%20icon-tabler%20icons-tabler-outline%20icon-tabler-blur'%3e%3cpath%20stroke='none'%20d='M0%200h24v24H0z'%20fill='none'%20/%3e%3cpath%20d='M12%2021a9.01%209.01%200%200%200%202.32%20-.302a9%209%200%200%200%201.74%20-16.733a9%209%200%201%200%20-4.06%2017.035z'%20/%3e%3cpath%20d='M12%203v17'%20/%3e%3cpath%20d='M12%2012h9'%20/%3e%3cpath%20d='M12%209h8'%20/%3e%3cpath%20d='M12%206h6'%20/%3e%3cpath%20d='M12%2018h6'%20/%3e%3cpath%20d='M12%2015h8'%20/%3e%3c/svg%3e",$C="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20className='icon%20icon-tabler%20icons-tabler-outline%20icon-tabler-eraser'%3e%3cpath%20stroke='none'%20d='M0%200h24v24H0z'%20fill='none'%20/%3e%3cpath%20d='M19%2020h-10.5l-4.21%20-4.3a1%201%200%200%201%200%20-1.41l10%20-10a1%201%200%200%201%201.41%200l5%205a1%201%200%200%201%200%201.41l-9.2%209.3'%20/%3e%3cpath%20d='M18%2013.3l-6.3%20-6.3'%20/%3e%3c/svg%3e";var eg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var b_;function WC(){return b_||(b_=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(o=s(o,r(d)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var c="";for(var d in o)e.call(o,d)&&o[d]&&(c=s(c,d));return c}function s(o,c){return c?o?o+" "+c:o+c:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(eg)),eg.exports}var VC=WC();const Gl=ih(VC);function XC(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Xg(n,e){return Xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Xg(n,e)}function YC(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Xg(n,e)}const qC=["xxl","xl","lg","md","sm","xs"],QC="xs",v1=Ze.createContext({prefixes:{},breakpoints:qC,minBreakpoint:QC}),{Consumer:$P,Provider:WP}=v1;function Oc(n,e){const{prefixes:t}=Ze.useContext(v1);return n||t[e]||e}function KC(n){return n&&n.ownerDocument||document}function ZC(n){var e=KC(n);return e&&e.defaultView||window}function JC(n,e){return ZC(n).getComputedStyle(n,e)}var eP=/([A-Z])/g;function tP(n){return n.replace(eP,"-$1").toLowerCase()}var rP=/^ms-/;function qd(n){return tP(n).replace(rP,"-ms-")}var nP=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function iP(n){return!!(n&&nP.test(n))}function _1(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(qd(e))||JC(n).getPropertyValue(qd(e));Object.keys(e).forEach(function(s){var o=e[s];!o&&o!==0?n.style.removeProperty(qd(s)):iP(s)?r+=s+"("+o+") ":t+=qd(s)+": "+o+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var sP=k_();const wc=ih(sP),T_={disabled:!1},x1=en.createContext(null);var aP=function(e){return e.scrollTop},Ec="unmounted",Nl="exited",oa="entering",Ol="entered",Sf="exiting",ma=function(n){YC(e,n);function e(r,s){var o;o=n.call(this,r,s)||this;var c=s,d=c&&!c.isMounting?r.enter:r.appear,p;return o.appearStatus=null,r.in?d?(p=Nl,o.appearStatus=oa):p=Ol:r.unmountOnExit||r.mountOnEnter?p=Ec:p=Nl,o.state={status:p},o.nextCallback=null,o}e.getDerivedStateFromProps=function(s,o){var c=s.in;return c&&o.status===Ec?{status:Nl}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var o=null;if(s!==this.props){var c=this.state.status;this.props.in?c!==oa&&c!==Ol&&(o=oa):(c===oa||c===Ol)&&(o=Sf)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,o,c,d;return o=c=d=s,s!=null&&typeof s!="number"&&(o=s.exit,c=s.enter,d=s.appear!==void 0?s.appear:c),{exit:o,enter:c,appear:d}},t.updateStatus=function(s,o){if(s===void 0&&(s=!1),o!==null)if(this.cancelNextCallback(),o===oa){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:wc.findDOMNode(this);c&&aP(c)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Nl&&this.setState({status:Ec})},t.performEnter=function(s){var o=this,c=this.props.enter,d=this.context?this.context.isMounting:s,p=this.props.nodeRef?[d]:[wc.findDOMNode(this),d],g=p[0],_=p[1],x=this.getTimeouts(),S=d?x.appear:x.enter;if(!s&&!c||T_.disabled){this.safeSetState({status:Ol},function(){o.props.onEntered(g)});return}this.props.onEnter(g,_),this.safeSetState({status:oa},function(){o.props.onEntering(g,_),o.onTransitionEnd(S,function(){o.safeSetState({status:Ol},function(){o.props.onEntered(g,_)})})})},t.performExit=function(){var s=this,o=this.props.exit,c=this.getTimeouts(),d=this.props.nodeRef?void 0:wc.findDOMNode(this);if(!o||T_.disabled){this.safeSetState({status:Nl},function(){s.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Sf},function(){s.props.onExiting(d),s.onTransitionEnd(c.exit,function(){s.safeSetState({status:Nl},function(){s.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,o){o=this.setNextCallback(o),this.setState(s,o)},t.setNextCallback=function(s){var o=this,c=!0;return this.nextCallback=function(d){c&&(c=!1,o.nextCallback=null,s(d))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(s,o){this.setNextCallback(o);var c=this.props.nodeRef?this.props.nodeRef.current:wc.findDOMNode(this),d=s==null&&!this.props.addEndListener;if(!c||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],g=p[0],_=p[1];this.props.addEndListener(g,_)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===Ec)return null;var o=this.props,c=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var d=XC(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return en.createElement(x1.Provider,{value:null},typeof c=="function"?c(s,d):en.cloneElement(en.Children.only(c),d))},e}(en.Component);ma.contextType=x1;ma.propTypes={};function Hu(){}ma.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Hu,onEntering:Hu,onEntered:Hu,onExit:Hu,onExiting:Hu,onExited:Hu};ma.UNMOUNTED=Ec;ma.EXITED=Nl;ma.ENTERING=oa;ma.ENTERED=Ol;ma.EXITING=Sf;function oP(){const n=Ze.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function lP(n){if(!n||typeof n=="function")return null;const{major:e}=oP();return e>=19?n.props.ref:n.ref}const uP=!!(typeof window<"u"&&window.document&&window.document.createElement);var Yg=!1,qg=!1;try{var tg={get passive(){return Yg=!0},get once(){return qg=Yg=!0}};uP&&(window.addEventListener("test",tg,tg),window.removeEventListener("test",tg,!0))}catch{}function hP(n,e,t,r){if(r&&typeof r!="boolean"&&!qg){var s=r.once,o=r.capture,c=t;!qg&&s&&(c=t.__once||function d(p){this.removeEventListener(e,d,o),t.call(this,p)},t.__once=c),n.addEventListener(e,c,Yg?r:o)}n.addEventListener(e,t,r)}function cP(n,e,t,r){var s=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,s),t.__once&&n.removeEventListener(e,t.__once,s)}function w1(n,e,t,r){return hP(n,e,t,r),function(){cP(n,e,t,r)}}function dP(n,e,t,r){if(r===void 0&&(r=!0),n){var s=document.createEvent("HTMLEvents");s.initEvent(e,t,r),n.dispatchEvent(s)}}function fP(n){var e=_1(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function pP(n,e,t){t===void 0&&(t=5);var r=!1,s=setTimeout(function(){r||dP(n,"transitionend",!0)},e+t),o=w1(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),o()}}function mP(n,e,t,r){t==null&&(t=fP(n)||0);var s=pP(n,t,r),o=w1(n,"transitionend",e);return function(){s(),o()}}function A_(n,e){const t=_1(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function gP(n,e){const t=A_(n,"transitionDuration"),r=A_(n,"transitionDelay"),s=mP(n,o=>{o.target===n&&(s(),e(o))},t+r)}function yP(n){n.offsetHeight}const C_=n=>!n||typeof n=="function"?n:e=>{n.current=e};function vP(n,e){const t=C_(n),r=C_(e);return s=>{t&&t(s),r&&r(s)}}function _P(n,e){return Ze.useMemo(()=>vP(n,e),[n,e])}function xP(n){return n&&"setState"in n?wc.findDOMNode(n):n??null}const wP=en.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:s,onExited:o,addEndListener:c,children:d,childRef:p,...g},_)=>{const x=Ze.useRef(null),S=_P(x,p),b=Q=>{S(xP(Q))},T=Q=>D=>{Q&&x.current&&Q(x.current,D)},R=Ze.useCallback(T(n),[n]),P=Ze.useCallback(T(e),[e]),M=Ze.useCallback(T(t),[t]),z=Ze.useCallback(T(r),[r]),F=Ze.useCallback(T(s),[s]),$=Ze.useCallback(T(o),[o]),L=Ze.useCallback(T(c),[c]);return tt.jsx(ma,{ref:_,...g,onEnter:R,onEntered:M,onEntering:P,onExit:z,onExited:$,onExiting:F,addEndListener:L,nodeRef:x,children:typeof d=="function"?(Q,D)=>d(Q,{...D,ref:b}):en.cloneElement(d,{ref:b})})});function EP(n){const e=Ze.useRef(n);return Ze.useEffect(()=>{e.current=n},[n]),e}function SP(n){const e=EP(n);return Ze.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const bP=["as","disabled"];function TP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function AP(n){return!n||n.trim()==="#"}function E1({tagName:n,disabled:e,href:t,target:r,rel:s,role:o,onClick:c,tabIndex:d=0,type:p}){n||(t!=null||r!=null||s!=null?n="a":n="button");const g={tagName:n};if(n==="button")return[{type:p||"button",disabled:e},g];const _=S=>{if((e||n==="a"&&AP(t))&&S.preventDefault(),e){S.stopPropagation();return}c==null||c(S)},x=S=>{S.key===" "&&(S.preventDefault(),_(S))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?s:void 0,onClick:_,onKeyDown:x},g]}const CP=Ze.forwardRef((n,e)=>{let{as:t,disabled:r}=n,s=TP(n,bP);const[o,{tagName:c}]=E1(Object.assign({tagName:t,disabled:r},s));return tt.jsx(c,Object.assign({},s,o,{ref:e}))});CP.displayName="Button";const PP={[oa]:"show",[Ol]:"show"},S1=Ze.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...s},o)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},d=Ze.useCallback((p,g)=>{yP(p),r==null||r(p,g)},[r]);return tt.jsx(wP,{ref:o,addEndListener:gP,...c,onEnter:d,childRef:lP(e),children:(p,g)=>Ze.cloneElement(e,{...g,className:Gl("fade",n,e.props.className,PP[p],t[p])})})});S1.displayName="Fade";const RP={"aria-label":Nt.string,onClick:Nt.func,variant:Nt.oneOf(["white"])},cy=Ze.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},s)=>tt.jsx("button",{ref:s,type:"button",className:Gl("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));cy.displayName="CloseButton";cy.propTypes=RP;const kc=Ze.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:s=!1,disabled:o=!1,className:c,...d},p)=>{const g=Oc(e,"btn"),[_,{tagName:x}]=E1({tagName:n,disabled:o,...d}),S=x;return tt.jsx(S,{..._,...d,ref:p,disabled:o,className:Gl(c,g,s&&"active",t&&`${g}-${t}`,r&&`${g}-${r}`,d.href&&o&&"disabled")})});kc.displayName="Button";function IP(){const n=Ze.useRef(!0),e=Ze.useRef(()=>n.current);return Ze.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function kP(n){const e=Ze.useRef(n);return e.current=n,e}function MP(n){const e=kP(n);Ze.useEffect(()=>()=>e.current(),[])}const Qg=2**31-1;function b1(n,e,t){const r=t-Date.now();n.current=r<=Qg?setTimeout(e,r):setTimeout(()=>b1(n,e,t),Qg)}function NP(){const n=IP(),e=Ze.useRef();return MP(()=>clearTimeout(e.current)),Ze.useMemo(()=>{const t=()=>clearTimeout(e.current);function r(s,o=0){n()&&(t(),o<=Qg?e.current=setTimeout(s,o):b1(e,s,Date.now()+o))}return{set:r,clear:t,handleRef:e}},[])}const DP={[oa]:"showing",[Sf]:"showing show"},T1=Ze.forwardRef((n,e)=>tt.jsx(S1,{...n,ref:e,transitionClasses:DP}));T1.displayName="ToastFade";const A1=Ze.createContext({onClose(){}}),C1=Ze.forwardRef(({bsPrefix:n,closeLabel:e="Close",closeVariant:t,closeButton:r=!0,className:s,children:o,...c},d)=>{n=Oc(n,"toast-header");const p=Ze.useContext(A1),g=SP(_=>{p==null||p.onClose==null||p.onClose(_)});return tt.jsxs("div",{ref:d,...c,className:Gl(n,s),children:[o,r&&tt.jsx(cy,{"aria-label":e,variant:t,onClick:g,"data-dismiss":"toast"})]})});C1.displayName="ToastHeader";const P1=Ze.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Oc(e,"toast-body"),tt.jsx(t,{ref:s,className:Gl(n,e),...r})));P1.displayName="ToastBody";const R1=Ze.forwardRef(({bsPrefix:n,className:e,transition:t=T1,show:r=!0,animation:s=!0,delay:o=5e3,autohide:c=!1,onClose:d,onEntered:p,onExit:g,onExiting:_,onEnter:x,onEntering:S,onExited:b,bg:T,...R},P)=>{n=Oc(n,"toast");const M=Ze.useRef(o),z=Ze.useRef(d);Ze.useEffect(()=>{M.current=o,z.current=d},[o,d]);const F=NP(),$=!!(c&&r),L=Ze.useCallback(()=>{$&&(z.current==null||z.current())},[$]);Ze.useEffect(()=>{F.set(L,M.current)},[F,L]);const Q=Ze.useMemo(()=>({onClose:d}),[d]),D=!!(t&&s),Z=tt.jsx("div",{...R,ref:P,className:Gl(n,e,T&&`bg-${T}`,!D&&(r?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return tt.jsx(A1.Provider,{value:Q,children:D&&t?tt.jsx(t,{in:r,onEnter:x,onEntering:S,onEntered:p,onExit:g,onExiting:_,onExited:b,unmountOnExit:!0,children:Z}):Z})});R1.displayName="Toast";const rg=Object.assign(R1,{Body:P1,Header:C1}),OP={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},I1=Ze.forwardRef(({bsPrefix:n,position:e,containerPosition:t,className:r,as:s="div",...o},c)=>(n=Oc(n,"toast-container"),tt.jsx(s,{ref:c,...o,className:Gl(n,e&&OP[e],t&&`position-${t}`,r)})));I1.displayName="ToastContainer";const FP=({image:n,removeImageFn:e,changeBlurFn:t})=>tt.jsxs("div",{className:"grid-item",children:[tt.jsx(p_.Stage,{width:n.imageInfo.width,height:n.imageInfo.height,children:tt.jsx(p_.Sprite,{image:n.imageInfo.url,width:n.imageInfo.width,height:n.imageInfo.height,filters:[new u1(n.imageState.blur)]})}),tt.jsxs("div",{className:"actions",children:[tt.jsxs(kc,{variant:"light",onClick:()=>t(n.imageInfo.uuid,!n.imageState.blur),children:[tt.jsx("img",{src:jC}),tt.jsx("span",{children:"Blur"})]}),tt.jsxs(kc,{variant:"light",onClick:()=>e(n.imageInfo.uuid),children:[tt.jsx("img",{src:$C}),tt.jsx("span",{children:"Erase"})]})]})]}),P_=async n=>await(await fetch(n)).json(),BP="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='icon%20icon-tabler%20icons-tabler-outline%20icon-tabler-restore'%3e%3cpath%20stroke='none'%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M3.06%2013a9%209%200%201%200%20.49%20-4.087'%20/%3e%3cpath%20d='M3%204.001v5h5'%20/%3e%3cpath%20d='M12%2012m-1%200a1%201%200%201%200%202%200a1%201%200%201%200%20-2%200'%20/%3e%3c/svg%3e",LP="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='icon%20icon-tabler%20icons-tabler-outline%20icon-tabler-arrow-back-up'%3e%3cpath%20stroke='none'%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M9%2014l-4%20-4l4%20-4'%20/%3e%3cpath%20d='M5%2010h11a4%204%200%201%201%200%208h-1'%20/%3e%3c/svg%3e",R_=(n,e)=>{const[t,r]=Ze.useState(()=>{try{const o=window.localStorage.getItem(n);return o?JSON.parse(o):e}catch{return e}});return[t,o=>{try{window.localStorage.setItem(n,JSON.stringify(o)),r(o)}catch{}}]},UP=()=>{const[n,e]=Ze.useState({columns:3,rows:3}),[t,r]=R_("images",[]),[s,o]=R_("history",[]),[c,d]=Ze.useState(!1);Ze.useEffect(()=>{(async()=>{if(!t.length){const P=(await P_("images.json")).map(M=>({imageInfo:M,imageState:{blur:0,deleted:!1}}));r(P)}const T=()=>{const R=Math.floor(window.innerWidth/300),P=Math.floor(window.innerHeight/300);e({columns:R,rows:P})};window.addEventListener("resize",T),T()})()},[]);const p=b=>{o([...s,t.find(({imageInfo:T})=>T.uuid==b)]),r(t.map(T=>({...T,imageState:{...T.imageState,deleted:T.imageInfo.uuid==b?!0:T.imageState.deleted}})))},g=(b,T)=>{o([...s,t.find(({imageInfo:R})=>R.uuid==b)]),r(t.map(R=>({...R,imageState:{...R.imageState,blur:R.imageInfo.uuid==b?T?5:0:R.imageState.blur}})))},_=async()=>{const T=(await P_("images.json")).map(R=>({imageInfo:R,imageState:{blur:0,deleted:!1}}));r(T)},x=()=>{if(s.length){const b=s.slice().reverse()[0];r(t.map(T=>T.imageInfo.uuid==b.imageInfo.uuid?b:T)),o(s.slice(0,s.length-1))}else d(!0)},S=()=>{const b=t.filter(({imageState:T})=>!T.deleted);return b.length?b.map(T=>tt.jsx(FP,{image:T,removeImageFn:p,changeBlurFn:g},T.imageInfo.uuid)):tt.jsx("div",{className:"py-5",children:tt.jsx("h5",{children:"No images available"})})};return tt.jsxs("main",{className:"mt-lg-5 pt-lg-5",children:[tt.jsxs("div",{className:"container pt-5",children:[tt.jsxs("div",{className:"main-actions",children:[tt.jsxs(kc,{variant:"light",onClick:_,children:[tt.jsx("img",{src:BP}),tt.jsx("span",{children:"Reset all"})]}),tt.jsxs(kc,{variant:"light",onClick:x,children:[tt.jsx("img",{src:LP}),tt.jsx("span",{children:"Undo"})]})]}),tt.jsx("div",{className:"grid-container",style:{gridTemplateColumns:`repeat(${n.columns}, 1fr)`,gridTemplateRows:`repeat(${n.rows}, 1fr)`},children:S()})]}),tt.jsx(I1,{className:"position-fixed bottom-0 end-0 p-5",children:tt.jsxs(rg,{onClose:()=>d(!1),show:c,delay:3e3,bg:"dark",autohide:!0,children:[tt.jsx(rg.Header,{children:tt.jsx("strong",{className:"me-auto",children:"Info"})}),tt.jsx(rg.Body,{className:"text-white",children:"Last change reached"})]})})]})};function zP(){return tt.jsxs(tt.Fragment,{children:[tt.jsx(hw,{}),tt.jsx(UP,{})]})}uw.createRoot(document.getElementById("root")).render(tt.jsx(Ze.StrictMode,{children:tt.jsx(zP,{})}))});export default GP();
